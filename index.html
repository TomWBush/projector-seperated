<!doctype html><head>
  <meta charset="UTF-8">
  <meta name="keywords" content="visualization,embeddings,machine learning,javascript">

  <meta property="og:type" content="article">
  <meta property="og:title" content="Embedding projector - visualization of high-dimensional data">
  <meta property="og:description" content="Visualize high dimensional data.">
  <meta property="og:url" content="http://projector.tensorflow.org">
  <meta property="og:image" content="http://projector.tensorflow.org/preview.png">

  <meta name="twitter:card" value="summary_large_image">
  <meta name="twitter:title" content="Embedding projector - visualization of high-dimensional data">
  <meta name="twitter:description" content="Visualize high dimensional data.">
  <meta name="twitter:url" content="http://projector.tensorflow.org">
  <meta name="twitter:image" content="http://projector.tensorflow.org/preview.png">

  <meta http-equiv="cache-control" content="max-age=0">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT">
  <meta http-equiv="pragma" content="no-cache">

  <meta name="author" content="Daniel Smilkov, Nikhil Thorat, Charles Nicholson, Big Picture">

  <link rel="icon" type="image/png" href="../favicon.png">
  <script src="js/d3.min.js"></script>
  <script src="js/webcomponents-lite.min.js"></script>
  <script src="js/numeric.min.js"></script>
  <script src="js/umap-js.min.js"></script>
  <script src="js/weblas.js"></script>
  <script src="js/polymer/polymer-micro.html.js"></script>
  <script src="js/polymer/polymer-mini.html.js"></script>
  <script src="js/polymer/polymer.html.js"></script>
  <script src="js/polymer/iron-meta.html.js"></script>
  
 <!--
@license
Copyright 2016 The TensorFlow Authors. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt

@license
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt

@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt

@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt

@license
three.js
Copyright (c) 2010-2013 three.js authors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
umap-js
Copyright 2019 Google LLC All Rights Reserved.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
    http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

@license
weblas
Copyright (c) 2015 Waylon Flinn

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
-->

<script>/*

 Copyright 2014 Google Inc. All rights reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
     You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
 limitations under the License.

 Copyright 2016 Google Inc. All rights reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
     You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
 limitations under the License.
*/
(function(){var G={},F={},M={};(function(x,v){function k(){this._endDelay=this._delay=0;this._fill="none";this._iterationStart=0;this._iterations=1;this._duration=0;this._playbackRate=1;this._direction="normal";this._easing="linear";this._easingFunction=n}function f(){return x.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function h(m,A,B){var C=new k;A&&(C.fill="both",C.duration="auto");"number"!=typeof m||isNaN(m)?void 0!==m&&Object.getOwnPropertyNames(m).forEach(function(w){if("auto"!=
m[w]){if("number"==typeof C[w]||"duration"==w)if("number"!=typeof m[w]||isNaN(m[w]))return;"fill"==w&&-1==d.indexOf(m[w])||"direction"==w&&-1==l.indexOf(m[w])||"playbackRate"==w&&1!==m[w]&&x.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead.")||(C[w]=m[w])}}):C.duration=m;return C}function e(m,A,B,C){return 0>m||1<m||0>B||1<B?n:function(w){if(0>=w){var D=0;0<m?D=A/m:!A&&0<B&&(D=C/B);return D*w}if(1<=w)return D=0,1>B?D=(C-1)/(B-1):1==B&&1>m&&(D=(A-1)/
(m-1)),1+D*(w-1);D=0;for(var H=1;D<H;){var E=(D+H)/2,I=3*m*(1-E)*(1-E)*E+3*B*(1-E)*E*E+E*E*E;if(1E-5>Math.abs(w-I))break;I<w?D=E:H=E}return 3*A*(1-E)*(1-E)*E+3*C*(1-E)*E*E+E*E*E}}function a(m,A){return function(B){if(1<=B)return 1;var C=1/m;B+=A*C;return B-B%C}}function c(m){u||(u=document.createElement("div").style);u.animationTimingFunction="";u.animationTimingFunction=m;var A=u.animationTimingFunction;if(""==A&&f())throw new TypeError(m+" is not a valid value for easing");return A}function b(m){if("linear"==
m)return n;var A=r.exec(m);return A?e.apply(this,A.slice(1).map(Number)):(A=y.exec(m))?a(Number(A[1]),{start:t,middle:p,end:q}[A[2]]):(m=z[m])?m:n}function g(m,A,B){if(null==A)return 0;var C=B.delay+m+B.endDelay;return A<Math.min(B.delay,C)?1:A>=Math.min(B.delay+m,C)?2:3}var d=["backwards","forwards","both","none"],l=["reverse","alternate","alternate-reverse"],n=function(m){return m};k.prototype={_setMember:function(m,A){this["_"+m]=A;this._effect&&(this._effect._timingInput[m]=A,this._effect._timing=
x.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=x.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(m){this._setMember("delay",m)},get delay(){return this._delay},set endDelay(m){this._setMember("endDelay",m)},get endDelay(){return this._endDelay},set fill(m){this._setMember("fill",m)},get fill(){return this._fill},set iterationStart(m){if((isNaN(m)||
0>m)&&f())throw new TypeError("iterationStart must be a non-negative number, received: "+m);this._setMember("iterationStart",m)},get iterationStart(){return this._iterationStart},set duration(m){if("auto"!=m&&(isNaN(m)||0>m)&&f())throw new TypeError("duration must be non-negative or auto, received: "+m);this._setMember("duration",m)},get duration(){return this._duration},set direction(m){this._setMember("direction",m)},get direction(){return this._direction},set easing(m){this._easingFunction=b(c(m));
this._setMember("easing",m)},get easing(){return this._easing},set iterations(m){if((isNaN(m)||0>m)&&f())throw new TypeError("iterations must be non-negative, received: "+m);this._setMember("iterations",m)},get iterations(){return this._iterations}};var t=1,p=.5,q=0,z={ease:e(.25,.1,.25,1),"ease-in":e(.42,0,1,1),"ease-out":e(0,0,.58,1),"ease-in-out":e(.42,0,.58,1),"step-start":a(1,t),"step-middle":a(1,p),"step-end":a(1,q)},u=null,r=/cubic-bezier\(\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*\)/,
y=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;x.cloneTimingInput=function(m){if("number"==typeof m)return m;var A={},B;for(B in m)A[B]=m[B];return A};x.makeTiming=h;x.numericTimingToObject=function(m){"number"==typeof m&&(m=isNaN(m)?{duration:0}:{duration:m});return m};x.normalizeTimingInput=function(m,A){m=x.numericTimingToObject(m);return h(m,A)};x.calculateActiveDuration=function(m){return Math.abs((0===m.duration||0===m.iterations?0:m.duration*m.iterations)/m.playbackRate)};x.calculateIterationProgress=
function(m,A,B){var C=g(m,A,B);a:{var w=B.fill;switch(C){case 1:m="backwards"==w||"both"==w?0:null;break a;case 3:m=A-B.delay;break a;case 2:m="forwards"==w||"both"==w?m:null;break a;case 0:m=null;break a}m=void 0}if(null===m)return null;A=B.duration;w=B.iterationStart;0===A?1!==C&&(w+=B.iterations):w+=m/A;A=w;w=Infinity===A?B.iterationStart%1:A%1;0!==w||2!==C||0===B.iterations||0===m&&0!==B.duration||(w=1);m=w;w=2===C&&Infinity===B.iterations?Infinity:1===m?Math.floor(A)-1:Math.floor(A);A=C=B.direction;
"normal"!==C&&"reverse"!==C&&("alternate-reverse"===C&&(w+=1),A="normal",Infinity!==w&&0!==w%2&&(A="reverse"));return B._easingFunction("normal"===A?m:1-m)};x.calculatePhase=g;x.normalizeEasing=c;x.parseEasingFunction=b})(G,null);(function(x,v){function k(a){var c=[],b;for(b in a)if(!(b in["easing","offset","composite"])){var g=a[b];Array.isArray(g)||(g=[g]);for(var d,l=g.length,n=0;n<l;n++)d={},d.offset="offset"in a?a.offset:1==l?1:n/(l-1),"easing"in a&&(d.easing=a.easing),"composite"in a&&(d.composite=
a.composite),d[b]=g[n],c.push(d)}c.sort(function(t,p){return t.offset-p.offset});return c}var f={background:"backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundAttachment backgroundOrigin backgroundClip backgroundColor".split(" "),border:"borderTopColor borderTopStyle borderTopWidth borderRightColor borderRightStyle borderRightWidth borderBottomColor borderBottomStyle borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth".split(" "),borderBottom:["borderBottomWidth",
"borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth",
"borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:"fontFamily fontSize fontStyle fontVariant fontWeight lineHeight".split(" "),margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},h=document.createElementNS("http://www.w3.org/1999/xhtml","div");v={thin:"1px",medium:"3px",thick:"5px"};var e={borderBottomWidth:v,borderLeftWidth:v,borderRightWidth:v,borderTopWidth:v,
fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:v,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};x.convertToArrayForm=k;x.normalizeKeyframes=function(a){function c(){var n=b.length;null==b[n-1].offset&&(b[n-1].offset=1);1<n&&null==b[0].offset&&(b[0].offset=0);for(var t=0,p=b[0].offset,q=1;q<n;q++){var z=b[q].offset;if(null!=z){for(var u=
1;u<q-t;u++)b[t+u].offset=p+(z-p)*u/(q-t);t=q;p=z}}}if(null==a)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&a[Symbol.iterator]&&(a=Array.from(a));Array.isArray(a)||(a=k(a));var b=a.map(function(n){var t={},p;for(p in n){var q=n[p];if("offset"==p){if(null!=q){q=Number(q);if(!isFinite(q))throw new TypeError("Keyframe offsets must be numbers.");if(0>q||1<q)throw new TypeError("Keyframe offsets must be between 0 and 1.");}}else if("composite"==p){if("add"==q||"accumulate"==q)throw{type:DOMException.NOT_SUPPORTED_ERR,
name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=q)throw new TypeError("Invalid composite mode "+q+".");}else q="easing"==p?x.normalizeEasing(q):""+q;var z=void 0,u=p,r=q;q=t;var y=u;if("display"!==y&&0!==y.lastIndexOf("animation",0)&&0!==y.lastIndexOf("transition",0))if(y=f[u])for(z in h.style[u]=r,y)u=y[z],r=h.style[u],q[u]=u in e?e[u][r]||r:r;else q[u]=u in e?e[u][r]||r:r}void 0==t.offset&&(t.offset=null);void 0==t.easing&&(t.easing="linear");return t});a=!0;for(var g=
-Infinity,d=0;d<b.length;d++){var l=b[d].offset;if(null!=l){if(l<g)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");g=l}else a=!1}b=b.filter(function(n){return 0<=n.offset&&1>=n.offset});a||c();return b}})(G,null);(function(x){var v={};x.isDeprecated=function(k,f,h,e){e=e?"are":"is";var a=new Date;f=new Date(f);f.setMonth(f.getMonth()+3);return a<f?(k in v||console.warn("Web Animations: "+k+" "+e+" deprecated and will stop working on "+f.toDateString()+". "+
h),v[k]=!0,!1):!0};x.deprecated=function(k,f,h,e){var a=e?"are":"is";if(x.isDeprecated(k,f,h,e))throw Error(k+" "+a+" no longer supported. "+h);}})(G);(function(){if(document.documentElement.animate){var x=document.documentElement.animate([],0),v=!0;x&&(v=!1,"play currentTime pause reverse playbackRate cancel finish startTime playState".split(" ").forEach(function(k){void 0===x[k]&&(v=!0)}));if(!v)return}(function(k,f,h){function e(c){for(var b={},g=0;g<c.length;g++)for(var d in c[g])if("offset"!=
d&&"easing"!=d&&"composite"!=d){var l={offset:c[g].offset,easing:c[g].easing,value:c[g][d]};b[d]=b[d]||[];b[d].push(l)}for(var n in b)if(c=b[n],0!=c[0].offset||1!=c[c.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"};return b}function a(c){var b=[],g;for(g in c)for(var d=c[g],l=0;l<d.length-1;l++){var n=l,t=l+1,p=d[n].offset,q=d[t].offset,z=p,u=q;0==l&&(z=-Infinity,0==q&&(t=n));l==d.length-2&&(u=Infinity,1==p&&(n=t));
b.push({applyFrom:z,applyTo:u,startOffset:d[n].offset,endOffset:d[t].offset,easingFunction:k.parseEasingFunction(d[n].easing),property:g,interpolation:f.propertyInterpolation(g,d[n].value,d[t].value)})}b.sort(function(r,y){return r.startOffset-y.startOffset});return b}f.convertEffectInput=function(c){c=k.normalizeKeyframes(c);var b=e(c),g=a(b);return function(d,l){if(null!=l)g.filter(function(t){return l>=t.applyFrom&&l<t.applyTo}).forEach(function(t){var p=l-t.startOffset,q=t.endOffset-t.startOffset;
p=0==q?0:t.easingFunction(p/q);f.apply(d,t.property,t.interpolation(p))});else for(var n in b)"offset"!=n&&"easing"!=n&&"composite"!=n&&f.clear(d,n)}}})(G,F,null);(function(k,f,h){function e(b){return b.replace(/-(.)/g,function(g,d){return d.toUpperCase()})}var a={};f.addPropertiesHandler=function(b,g,d){for(var l=0;l<d.length;l++){var n=b,t=g,p=e(d[l]);a[p]=a[p]||[];a[p].push([n,t])}};var c={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",
borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",
maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};f.propertyInterpolation=function(b,g,d){var l=b;/-/.test(b)&&
!k.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(l=e(b));if("initial"==g||"initial"==d)"initial"==g&&(g=c[l]),"initial"==d&&(d=c[l]);b=g==d?[]:a[l];for(l=0;b&&l<b.length;l++){var n=b[l][0](g),t=b[l][0](d);if(void 0!==n&&void 0!==t&&(n=b[l][1](n,t))){var p=f.Interpolation.apply(null,n);return function(q){return 0==q?g:1==q?d:p(q)}}}return f.Interpolation(!1,!0,function(q){return q?d:g})}})(G,F,null);(function(k,f,h){function e(a){var c=k.calculateActiveDuration(a),
b=function(g){return k.calculateIterationProgress(c,g,a)};b._totalDuration=a.delay+c+a.endDelay;return b}f.KeyframeEffect=function(a,c,b,g){var d=e(k.normalizeTimingInput(b)),l=f.convertEffectInput(c),n;c=function(){l(a,n)};c._update=function(t){n=d(t);return null!==n};c._clear=function(){l(a,null)};c._hasSameTarget=function(t){return a===t};c._target=a;c._totalDuration=d._totalDuration;c._id=g;return c}})(G,F,null);(function(k,f){k.apply=function(h,e,a){h.style[k.propertyName(e)]=a};k.clear=function(h,
e){h.style[k.propertyName(e)]=""}})(F,null);(function(k){window.Element.prototype.animate=function(f,h){var e="";h&&h.id&&(e=h.id);return k.timeline._play(k.KeyframeEffect(this,f,h,e))}})(F);(function(k,f){function h(e,a,c){if("number"==typeof e&&"number"==typeof a)return e*(1-c)+a*c;if("boolean"==typeof e&&"boolean"==typeof a)return.5>c?e:a;if(e.length==a.length){for(var b=[],g=0;g<e.length;g++)b.push(h(e[g],a[g],c));return b}throw"Mismatched interpolation arguments "+e+":"+a;}k.Interpolation=function(e,
a,c){return function(b){return c(h(e,a,b))}}})(F,null);(function(k,f,h){k.sequenceNumber=0;var e=function(a,c,b){this.target=a;this.currentTime=c;this.timelineTime=b;this.type="finish";this.cancelable=this.bubbles=!1;this.currentTarget=a;this.defaultPrevented=!1;this.eventPhase=Event.AT_TARGET;this.timeStamp=Date.now()};f.Animation=function(a){this.id="";a&&a._id&&(this.id=a._id);this._sequenceNumber=k.sequenceNumber++;this._currentTime=0;this._startTime=null;this._paused=!1;this._playbackRate=1;
this._finishedFlag=this._inTimeline=!0;this.onfinish=null;this._finishHandlers=[];this._effect=a;this._inEffect=this._effect._update(0);this._idle=!0;this._currentTimePending=!1};f.Animation.prototype={_ensureAlive:function(){this._inEffect=0>this.playbackRate&&0===this.currentTime?this._effect._update(-1):this._effect._update(this.currentTime);this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,f.timeline._animations.push(this))},_tickCurrentTime:function(a,c){a!=this._currentTime&&
(this._currentTime=a,this._isFinished&&!c&&(this._currentTime=0<this._playbackRate?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(a){a=+a;isNaN(a)||(f.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-a/this._playbackRate),this._currentTimePending=!1,this._currentTime!=a&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(a,!0),f.applyDirtiedAnimation(this)))},
get startTime(){return this._startTime},set startTime(a){a=+a;isNaN(a)||this._paused||this._idle||(this._startTime=a,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),f.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(a){if(a!=this._playbackRate){var c=this.currentTime;this._playbackRate=a;this._startTime=null;"paused"!=this.playState&&"idle"!=this.playState&&(this._idle=this._finishedFlag=!1,this._ensureAlive(),f.applyDirtiedAnimation(this));
null!=c&&(this.currentTime=c)}},get _isFinished(){return!this._idle&&(0<this._playbackRate&&this._currentTime>=this._totalDuration||0>this._playbackRate&&0>=this._currentTime)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(0<=this._playbackRate)this._currentTime=0;else if(Infinity>
this._totalDuration)this._currentTime=this._totalDuration;else throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");},play:function(){this._paused=!1;if(this._isFinished||this._idle)this._rewind(),this._startTime=null;this._idle=this._finishedFlag=!1;this._ensureAlive();f.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0;this._startTime=
null;this._paused=!0},finish:function(){this._idle||(this.currentTime=0<this._playbackRate?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,f.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),f.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1;this.play()},addEventListener:function(a,
c){"function"==typeof c&&"finish"==a&&this._finishHandlers.push(c)},removeEventListener:function(a,c){"finish"==a&&(a=this._finishHandlers.indexOf(c),0<=a&&this._finishHandlers.splice(a,1))},_fireEvents:function(a){if(this._isFinished){if(!this._finishedFlag){var c=new e(this,this._currentTime,a),b=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){b.forEach(function(g){g.call(c.target,c)})},0);this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(a,c){this._idle||
this._paused||(null==this._startTime?c&&(this.startTime=a-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((a-this._startTime)*this.playbackRate));c&&(this._currentTimePending=!1,this._fireEvents(a))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var a=this._effect._target;a._activeAnimations||(a._activeAnimations=[]);return a._activeAnimations},_markTarget:function(){var a=this._targetAnimations();-1===
a.indexOf(this)&&a.push(this)},_unmarkTarget:function(){var a=this._targetAnimations(),c=a.indexOf(this);-1!==c&&a.splice(c,1)}}})(G,F,null);(function(k,f,h){function e(r){var y=l;l=[];r<u.currentTime&&(r=u.currentTime);u._animations.sort(a);u._animations=g(r,!0,u._animations)[0];y.forEach(function(m){m[1](r)});b()}function a(r,y){return r._sequenceNumber-y._sequenceNumber}function c(){this._animations=[];this.currentTime=window.performance&&performance.now?performance.now():0}function b(){q.forEach(function(r){r()});
q.length=0}function g(r,y,m){z=!0;p=!1;f.timeline.currentTime=r;t=!1;var A=[],B=[],C=[],w=[];m.forEach(function(D){D._tick(r,y);D._inEffect?(B.push(D._effect),D._markTarget()):(A.push(D._effect),D._unmarkTarget());D._needsTick&&(t=!0);var H=D._inEffect||D._needsTick;(D._inTimeline=H)?C.push(D):w.push(D)});q.push.apply(q,A);q.push.apply(q,B);t&&requestAnimationFrame(function(){});z=!1;return[C,w]}var d=window.requestAnimationFrame,l=[],n=0;window.requestAnimationFrame=function(r){var y=n++;0!=l.length||
d(e);l.push([y,r]);return y};window.cancelAnimationFrame=function(r){l.forEach(function(y){y[0]==r&&(y[1]=function(){})})};c.prototype={_play:function(r){r._timing=k.normalizeTimingInput(r.timing);r=new f.Animation(r);r._idle=!1;r._timeline=this;this._animations.push(r);f.restart();f.applyDirtiedAnimation(r);return r}};var t=!1,p=!1;f.restart=function(){t||(t=!0,requestAnimationFrame(function(){}),p=!0);return p};f.applyDirtiedAnimation=function(r){z||(r._markTarget(),r=r._targetAnimations(),r.sort(a),
g(f.timeline.currentTime,!1,r.slice())[1].forEach(function(y){y=u._animations.indexOf(y);-1!==y&&u._animations.splice(y,1)}),b())};var q=[],z=!1,u=new c;f.timeline=u})(G,F,null);(function(k){function f(c,b){var g=c.exec(b);if(g)return g=c.ignoreCase?g[0].toLowerCase():g[0],[g,b.substr(g.length)]}function h(c,b){b=b.replace(/^\s*/,"");if(c=c(b))return[c[0],c[1].replace(/^\s*/,"")]}function e(c,b){for(var g=c,d=b;g&&d;)g>d?g%=d:d%=g;return c*b/(g+d)}function a(c,b,g,d,l){for(var n=[],t=[],p=[],q=e(d.length,
l.length),z=0;z<q;z++){var u=b(d[z%d.length],l[z%l.length]);if(!u)return;n.push(u[0]);t.push(u[1]);p.push(u[2])}return[n,t,function(r){r=r.map(function(y,m){return p[m](y)}).join(g);return c?c(r):r}]}k.consumeToken=f;k.consumeTrimmed=h;k.consumeRepeated=function(c,b,g){c=h.bind(null,c);for(var d=[];;){var l=c(g);if(!l)return[d,g];d.push(l[0]);g=l[1];l=f(b,g);if(!l||""==l[1])return[d,g];g=l[1]}};k.consumeParenthesised=function(c,b){for(var g=0,d=0;d<b.length&&(!/\s|,/.test(b[d])||0!=g);d++)if("("==
b[d])g++;else if(")"==b[d]&&(g--,0==g&&d++,0>=g))break;c=c(b.substr(0,d));return void 0==c?void 0:[c,b.substr(d)]};k.ignore=function(c){return function(b){(b=c(b))&&(b[0]=void 0);return b}};k.optional=function(c,b){return function(g){var d=c(g);return d?d:[b,g]}};k.consumeList=function(c,b){for(var g=[],d=0;d<c.length;d++){b=k.consumeTrimmed(c[d],b);if(!b||""==b[0])return;void 0!==b[0]&&g.push(b[0]);b=b[1]}if(""==b)return g};k.mergeNestedRepeated=a.bind(null,null);k.mergeWrappedNestedRepeated=a;k.mergeList=
function(c,b,g){for(var d=[],l=[],n=[],t=0,p=0;p<g.length;p++)if("function"==typeof g[p]){var q=g[p](c[t],b[t++]);d.push(q[0]);l.push(q[1]);n.push(q[2])}else(function(z){d.push(!1);l.push(!1);n.push(function(){return g[z]})})(p);return[d,l,function(z){for(var u="",r=0;r<z.length;r++)u+=n[r](z[r]);return u}]}})(F);(function(k){function f(e){var a={inset:!1,lengths:[],color:null};if((e=k.consumeRepeated(function(c){var b=k.consumeToken(/^inset/i,c);if(b)return a.inset=!0,b;if(b=k.consumeLengthOrPercent(c))return a.lengths.push(b[0]),
b;if(b=k.consumeColor(c))return a.color=b[0],b},/^/,e))&&e[0].length)return[a,e[1]]}var h=function(e,a,c,b){function g(q){return{inset:q,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var d=[],l=[],n=0;n<c.length||n<b.length;n++){var t=c[n]||g(b[n].inset),p=b[n]||g(c[n].inset);d.push(t);l.push(p)}return k.mergeNestedRepeated(e,a,d,l)}.bind(null,function(e,a){for(;e.lengths.length<Math.max(e.lengths.length,a.lengths.length);)e.lengths.push({px:0});for(;a.lengths.length<Math.max(e.lengths.length,
a.lengths.length);)a.lengths.push({px:0});if(e.inset==a.inset&&!!e.color==!!a.color){for(var c=[],b,g=[[],0],d=[[],0],l=0;l<e.lengths.length;l++){var n=k.mergeDimensions(e.lengths[l],a.lengths[l],2==l);g[0].push(n[0]);d[0].push(n[1]);c.push(n[2])}e.color&&a.color&&(a=k.mergeColors(e.color,a.color),g[1]=a[0],d[1]=a[1],b=a[2]);return[g,d,function(t){for(var p=e.inset?"inset ":" ",q=0;q<c.length;q++)p+=c[q](t[0][q])+" ";b&&(p+=b(t[1]));return p}]}},", ");k.addPropertiesHandler(function(e){if((e=k.consumeRepeated(f,
/^,/,e))&&""==e[1])return e[0]},h,["box-shadow","text-shadow"])})(F);(function(k,f){function h(g){return g.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function e(g,d,l){return Math.min(d,Math.max(g,l))}function a(g){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(g))return Number(g)}function c(g,d){return function(l,n){return[l,n,function(t){return h(e(g,d,t))}]}}function b(g){g=g.trim().split(/\s*[\s,]\s*/);if(0!==g.length){for(var d=[],l=0;l<g.length;l++){var n=a(g[l]);if(void 0===n)return;d.push(n)}return d}}
k.clamp=e;k.addPropertiesHandler(b,function(g,d){if(g.length==d.length)return[g,d,function(l){return l.map(h).join(" ")}]},["stroke-dasharray"]);k.addPropertiesHandler(a,c(0,Infinity),["border-image-width","line-height"]);k.addPropertiesHandler(a,c(0,1),["opacity","shape-image-threshold"]);k.addPropertiesHandler(a,function(g,d){if(0!=g)return c(0,Infinity)(g,d)},["flex-grow","flex-shrink"]);k.addPropertiesHandler(a,function(g,d){return[g,d,function(l){return Math.round(e(1,Infinity,l))}]},["orphans",
"widows"]);k.addPropertiesHandler(a,function(g,d){return[g,d,Math.round]},["z-index"]);k.parseNumber=a;k.parseNumberList=b;k.mergeNumbers=function(g,d){return[g,d,h]};k.numberToString=h})(F,null);(function(k,f){k.addPropertiesHandler(String,function(h,e){if("visible"==h||"visible"==e)return[0,1,function(a){return 0>=a?h:1<=a?e:"visible"}]},["visibility"])})(F);(function(k,f){function h(c){c=c.trim();a.fillStyle="#000";a.fillStyle=c;var b=a.fillStyle;a.fillStyle="#fff";a.fillStyle=c;if(b==a.fillStyle)return a.fillRect(0,
0,1,1),c=a.getImageData(0,0,1,1).data,a.clearRect(0,0,1,1),b=c[3]/255,[c[0]*b,c[1]*b,c[2]*b,b]}function e(c,b){return[c,b,function(g){if(g[3])for(var d=0;3>d;d++)g[d]=Math.round(Math.max(0,Math.min(255,g[d]/g[3])));g[3]=k.numberToString(k.clamp(0,1,g[3]));return"rgba("+g.join(",")+")"}]}f=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");f.width=f.height=1;var a=f.getContext("2d");k.addPropertiesHandler(h,e,"background-color border-bottom-color border-left-color border-right-color border-top-color color fill flood-color lighting-color outline-color stop-color stroke text-decoration-color".split(" "));
k.consumeColor=k.consumeParenthesised.bind(null,h);k.mergeColors=e})(F,null);(function(k,f){function h(l){function n(){var r=z.exec(l);u=r?r[0]:void 0}function t(){if("("!==u){var r=Number(u);n();return r}n();r=q();if(")"!==u)return NaN;n();return r}function p(){for(var r=t();"*"===u||"/"===u;){var y=u;n();var m=t();r="*"===y?r*m:r/m}return r}function q(){for(var r=p();"+"===u||"-"===u;){var y=u;n();var m=p();r="+"===y?r+m:r-m}return r}var z=/([\+\-\w\.]+|[\(\)\*\/])/g,u;n();return q()}function e(l,
n){n=n.trim().toLowerCase();if("0"==n&&0<="px".search(l))return{px:0};if(/^[^(]*$|^calc/.test(n)){n=n.replace(/calc\(/g,"(");var t={};n=n.replace(l,function(r){t[r]=null;return"U"+r});l="U("+l.source+")";for(var p=n.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+l,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),q=[/N\*(D)/g,/(N|D)[*/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],z=0;z<q.length;)q[z].test(p)?(p=p.replace(q[z],"$1"),z=0):z++;if("D"==p){for(var u in t){p=h(n.replace(new RegExp("U"+
u,"g"),"").replace(new RegExp(l,"g"),"*0"));if(!isFinite(p))return;t[u]=p}return t}}}function a(l,n){return c(l,n,!0)}function c(l,n,t){var p=[],q;for(q in l)p.push(q);for(q in n)0>p.indexOf(q)&&p.push(q);l=p.map(function(z){return l[z]||0});n=p.map(function(z){return n[z]||0});return[l,n,function(z){var u=z.map(function(r,y){1==z.length&&t&&(r=Math.max(r,0));return k.numberToString(r)+p[y]}).join(" + ");return 1<z.length?"calc("+u+")":u}]}var b=e.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc/g);
f=e.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|%/g);var g=e.bind(null,/deg|rad|grad|turn/g);k.parseLength=b;k.parseLengthOrPercent=f;k.consumeLengthOrPercent=k.consumeParenthesised.bind(null,f);k.parseAngle=g;k.mergeDimensions=c;b=k.consumeParenthesised.bind(null,b);b=k.consumeRepeated.bind(void 0,b,/^/);var d=k.consumeRepeated.bind(void 0,b,/^,/);k.consumeSizePairList=d;b=k.mergeNestedRepeated.bind(void 0,a," ");g=k.mergeNestedRepeated.bind(void 0,b,",");k.mergeNonNegativeSizePair=
b;k.addPropertiesHandler(function(l){if((l=d(l))&&""==l[1])return l[0]},g,["background-size"]);k.addPropertiesHandler(f,a,"border-bottom-width border-image-width border-left-width border-right-width border-top-width flex-basis font-size height line-height max-height max-width outline-width width".split(" "));k.addPropertiesHandler(f,c,"border-bottom-left-radius border-bottom-right-radius border-top-left-radius border-top-right-radius bottom left letter-spacing margin-bottom margin-left margin-right margin-top min-height min-width outline-offset padding-bottom padding-left padding-right padding-top perspective right shape-margin stroke-dashoffset text-indent top vertical-align word-spacing".split(" "))})(F,
null);(function(k,f){function h(a){return k.consumeLengthOrPercent(a)||k.consumeToken(/^auto/,a)}function e(a){if((a=k.consumeList([k.ignore(k.consumeToken.bind(null,/^rect/)),k.ignore(k.consumeToken.bind(null,/^\(/)),k.consumeRepeated.bind(null,h,/^,/),k.ignore(k.consumeToken.bind(null,/^\)/))],a))&&4==a[0].length)return a[0]}f=k.mergeWrappedNestedRepeated.bind(null,function(a){return"rect("+a+")"},function(a,c){return"auto"==a||"auto"==c?[!0,!1,function(b){b=b?a:c;if("auto"==b)return"auto";b=k.mergeDimensions(b,
b);return b[2](b[0])}]:k.mergeDimensions(a,c)},", ");k.parseBox=e;k.mergeBoxes=f;k.addPropertiesHandler(e,f,["clip"])})(F,null);(function(k,f){function h(p){return function(q){var z=0;return p.map(function(u){return u===d?q[z++]:u})}}function e(p){return p}function a(p){p=p.toLowerCase().trim();if("none"==p)return[];for(var q=/\s*(\w+)\(([^)]*)\)/g,z=[],u,r=0;(u=q.exec(p))&&u.index==r;){r=u.index+u[0].length;var y=u[1],m=t[y];if(!m)break;u=u[2].split(",");m=m[0];if(m.length<u.length)break;for(var A=
[],B=0;B<m.length;B++){var C=u[B],w=m[B];C=C?{A:function(D){return"0"==D.trim()?n:k.parseAngle(D)},N:k.parseNumber,T:k.parseLengthOrPercent,L:k.parseLength}[w.toUpperCase()](C):{a:n,n:A[0],t:l}[w];if(void 0===C)return;A.push(C)}z.push({t:y,d:A});if(q.lastIndex==p.length)return z}}function c(p){return p.toFixed(6).replace(".000000","")}function b(p,q){if(p.decompositionPair!==q){p.decompositionPair=q;var z=k.makeMatrixDecomposition(p)}if(q.decompositionPair!==p){q.decompositionPair=p;var u=k.makeMatrixDecomposition(q)}if(null==
z[0]||null==u[0])return[[!1],[!0],function(r){return r?q[0].d:p[0].d}];z[0].push(0);u[0].push(1);return[z,u,function(r){var y=k.quat(z[0][3],u[0][3],r[5]);return k.composeMatrix(r[0],r[1],r[2],y,r[4]).map(c).join(",")}]}function g(p){return p.replace(/(x|y|z|3d)?$/,"3d")}var d=null,l={px:0},n={deg:0},t={matrix:["NNNNNN",[d,d,0,0,d,d,0,0,0,0,1,0,d,d,0,1],e],matrix3d:["NNNNNNNNNNNNNNNN",e],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",h([d,d,
1]),e],scalex:["N",h([d,1,1]),h([d,1])],scaley:["N",h([1,d,1]),h([1,d])],scalez:["N",h([1,1,d])],scale3d:["NNN",e],skew:["Aa",null,e],skewx:["A",null,h([d,n])],skewy:["A",null,h([n,d])],translate:["Tt",h([d,d,l]),e],translatex:["T",h([d,l,l]),h([d,l])],translatey:["T",h([l,d,l]),h([l,d])],translatez:["L",h([l,l,d])],translate3d:["TTL",e]};k.addPropertiesHandler(a,function(p,q){var z=k.makeMatrixDecomposition&&!0,u=!1;if(!p.length||!q.length){p.length||(u=!0,p=q,q=[]);for(var r=0;r<p.length;r++){var y=
p[r].t,m=p[r].d,A="scale"==y.substr(0,5)?1:0;q.push({t:y,d:m.map(function(N){if("number"==typeof N)return A;var J={},K;for(K in N)J[K]=A;return J})})}}m=[];var B=[],C=[];if(p.length!=q.length){if(!z)return;var w=b(p,q);m=[w[0]];B=[w[1]];C=[["matrix",[w[2]]]]}else for(r=0;r<p.length;r++){y=p[r].t;var D=q[r].t,H=p[r].d,E=q[r].d;w=t[y];var I=t[D];if("perspective"==y&&"perspective"==D||!("matrix"!=y&&"matrix3d"!=y||"matrix"!=D&&"matrix3d"!=D)){if(!z)return;w=b([p[r]],[q[r]]);m.push(w[0]);B.push(w[1]);
C.push(["matrix",[w[2]]])}else{if(y!=D)if(w[2]&&I[2]&&y.replace(/[xy]/,"")==D.replace(/[xy]/,""))y=y.replace(/[xy]/,""),H=w[2](H),E=I[2](E);else if(w[1]&&I[1]&&g(y)==g(D))y=g(y),H=w[1](H),E=I[1](E);else{if(!z)return;w=b(p,q);m=[w[0]];B=[w[1]];C=[["matrix",[w[2]]]];break}I=[];D=[];for(var O=[],L=0;L<H.length;L++)w=("number"==typeof H[L]?k.mergeNumbers:k.mergeDimensions)(H[L],E[L]),I[L]=w[0],D[L]=w[1],O.push(w[2]);m.push(I);B.push(D);C.push([y,O])}}u&&(p=m,m=B,B=p);return[m,B,function(N){return N.map(function(J,
K){J=J.map(function(P,Q){return C[K][1][Q](P)}).join(",");"matrix"==C[K][0]&&16==J.split(",").length&&(C[K][0]="matrix3d");return C[K][0]+"("+J+")"}).join(" ")}]},["transform"]);k.transformToSvgMatrix=function(p){p=k.transformListToMatrix(a(p));return"matrix("+c(p[0])+" "+c(p[1])+" "+c(p[4])+" "+c(p[5])+" "+c(p[12])+" "+c(p[13])+")"}})(F,null);(function(k,f){function h(c,b){b.concat([c]).forEach(function(g){g in document.documentElement.style&&(e[c]=g);a[g]=c})}var e={},a={};h("transform",["webkitTransform",
"msTransform"]);h("transformOrigin",["webkitTransformOrigin"]);h("perspective",["webkitPerspective"]);h("perspectiveOrigin",["webkitPerspectiveOrigin"]);k.propertyName=function(c){return e[c]||c};k.unprefixedPropertyName=function(c){return a[c]||c}})(F,null)})();(function(){if(void 0===document.createElement("div").animate([]).oncancel){var x=window.performance&&performance.now?function(){return performance.now()}:function(){return Date.now()},v=function(f,h,e){this.target=f;this.currentTime=h;this.timelineTime=
e;this.type="cancel";this.cancelable=this.bubbles=!1;this.currentTarget=f;this.defaultPrevented=!1;this.eventPhase=Event.AT_TARGET;this.timeStamp=Date.now()},k=window.Element.prototype.animate;window.Element.prototype.animate=function(f,h){f=k.call(this,f,h);f._cancelHandlers=[];f.oncancel=null;var e=f.cancel;f.cancel=function(){e.call(this);var b=new v(this,null,x()),g=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){g.forEach(function(d){d.call(b.target,b)})},
0)};var a=f.addEventListener;f.addEventListener=function(b,g){"function"==typeof g&&"cancel"==b?this._cancelHandlers.push(g):a.call(this,b,g)};var c=f.removeEventListener;f.removeEventListener=function(b,g){"cancel"==b?(b=this._cancelHandlers.indexOf(g),0<=b&&this._cancelHandlers.splice(b,1)):c.call(this,b,g)};return f}}})();(function(x){var v=document.documentElement,k=null,f=!1;try{var h="0"==getComputedStyle(v).getPropertyValue("opacity")?"1":"0";k=v.animate({opacity:[h,h]},{duration:1});k.currentTime=
0;f=getComputedStyle(v).getPropertyValue("opacity")==h}catch(a){}finally{k&&k.cancel()}if(!f){var e=window.Element.prototype.animate;window.Element.prototype.animate=function(a,c){window.Symbol&&Symbol.iterator&&Array.prototype.from&&a[Symbol.iterator]&&(a=Array.from(a));Array.isArray(a)||null===a||(a=x.convertToArrayForm(a));return e.call(this,a,c)}}})(G);(function(x,v,k){function f(c){var b=v.timeline;b.currentTime=c;b._discardAnimations();0==b._animations.length?e=!1:requestAnimationFrame(f)}var h=
window.requestAnimationFrame;window.requestAnimationFrame=function(c){return h(function(b){v.timeline._updateAnimationsPromises();c(b);v.timeline._updateAnimationsPromises()})};v.AnimationTimeline=function(){this._animations=[];this.currentTime=void 0};v.AnimationTimeline.prototype={getAnimations:function(){this._discardAnimations();return this._animations.slice()},_updateAnimationsPromises:function(){v.animationsWithPromises=v.animationsWithPromises.filter(function(c){return c._updatePromises()})},
_discardAnimations:function(){this._updateAnimationsPromises();this._animations=this._animations.filter(function(c){return"finished"!=c.playState&&"idle"!=c.playState})},_play:function(c){c=new v.Animation(c,this);this._animations.push(c);v.restartWebAnimationsNextTick();c._updatePromises();c._animation.play();c._updatePromises();return c},play:function(c){c&&c.remove();return this._play(c)}};var e=!1;v.restartWebAnimationsNextTick=function(){e||(e=!0,requestAnimationFrame(f))};var a=new v.AnimationTimeline;
v.timeline=a;try{Object.defineProperty(window.document,"timeline",{configurable:!0,get:function(){return a}})}catch(c){}try{window.document.timeline=a}catch(c){}})(G,M,null);(function(x,v,k){v.animationsWithPromises=[];v.Animation=function(f,h){this.id="";f&&f._id&&(this.id=f._id);if(this.effect=f)f._animation=this;if(!h)throw Error("Animation with null timeline is not supported");this._timeline=h;this._sequenceNumber=x.sequenceNumber++;this._holdTime=0;this._isGroup=this._paused=!1;this._animation=
null;this._childAnimations=[];this._callback=null;this._oldPlayState="idle";this._rebuildUnderlyingAnimation();this._animation.cancel();this._updatePromises()};v.Animation.prototype={_updatePromises:function(){var f=this._oldPlayState,h=this.playState;this._readyPromise&&h!==f&&("idle"==h?(this._rejectReadyPromise(),this._readyPromise=void 0):"pending"==f?this._resolveReadyPromise():"pending"==h&&(this._readyPromise=void 0));this._finishedPromise&&h!==f&&("idle"==h?(this._rejectFinishedPromise(),
this._finishedPromise=void 0):"finished"==h?this._resolveFinishedPromise():"finished"==f&&(this._finishedPromise=void 0));this._oldPlayState=this.playState;return this._readyPromise||this._finishedPromise},_rebuildUnderlyingAnimation:function(){this._updatePromises();var f=this._animation?!0:!1;if(f){var h=this.playbackRate;var e=this._paused;var a=this.startTime;var c=this.currentTime;this._animation.cancel();this._animation=this._animation._wrapper=null}if(!this.effect||this.effect instanceof window.KeyframeEffect)this._animation=
v.newUnderlyingAnimationForKeyframeEffect(this.effect),v.bindAnimationForKeyframeEffect(this);if(this.effect instanceof window.SequenceEffect||this.effect instanceof window.GroupEffect)this._animation=v.newUnderlyingAnimationForGroup(this.effect),v.bindAnimationForGroup(this);this.effect&&this.effect._onsample&&v.bindAnimationForCustomEffect(this);f&&(1!=h&&(this.playbackRate=h),null!==a?this.startTime=a:null!==c?this.currentTime=c:null!==this._holdTime&&(this.currentTime=this._holdTime),e&&this.pause());
this._updatePromises()},_updateChildren:function(){if(this.effect&&"idle"!=this.playState){var f=this.effect._timing.delay;this._childAnimations.forEach(function(h){this._arrangeChildren(h,f);this.effect instanceof window.SequenceEffect&&(f+=v.groupChildDuration(h.effect))}.bind(this))}},_setExternalAnimation:function(f){if(this.effect&&this._isGroup)for(var h=0;h<this.effect.children.length;h++)this.effect.children[h]._animation=f,this._childAnimations[h]._setExternalAnimation(f)},_constructChildAnimations:function(){if(this.effect&&
this._isGroup){var f=this.effect._timing.delay;this._removeChildAnimations();this.effect.children.forEach(function(h){var e=v.timeline._play(h);this._childAnimations.push(e);e.playbackRate=this.playbackRate;this._paused&&e.pause();h._animation=this.effect._animation;this._arrangeChildren(e,f);this.effect instanceof window.SequenceEffect&&(f+=v.groupChildDuration(h))}.bind(this))}},_arrangeChildren:function(f,h){null===this.startTime?f.currentTime=this.currentTime-h/this.playbackRate:f.startTime!==
this.startTime+h/this.playbackRate&&(f.startTime=this.startTime+h/this.playbackRate)},get timeline(){return this._timeline},get playState(){return this._animation?this._animation.playState:"idle"},get finished(){if(!window.Promise)return console.warn("Animation Promises require JavaScript Promise constructor"),null;this._finishedPromise||(-1==v.animationsWithPromises.indexOf(this)&&v.animationsWithPromises.push(this),this._finishedPromise=new Promise(function(f,h){this._resolveFinishedPromise=function(){f(this)};
this._rejectFinishedPromise=function(){h({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"finished"==this.playState&&this._resolveFinishedPromise());return this._finishedPromise},get ready(){if(!window.Promise)return console.warn("Animation Promises require JavaScript Promise constructor"),null;this._readyPromise||(-1==v.animationsWithPromises.indexOf(this)&&v.animationsWithPromises.push(this),this._readyPromise=new Promise(function(f,h){this._resolveReadyPromise=function(){f(this)};
this._rejectReadyPromise=function(){h({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"pending"!==this.playState&&this._resolveReadyPromise());return this._readyPromise},get onfinish(){return this._animation.onfinish},set onfinish(f){this._animation.onfinish="function"==typeof f?function(h){h.target=this;f.call(this,h)}.bind(this):f},get oncancel(){return this._animation.oncancel},set oncancel(f){this._animation.oncancel="function"==typeof f?function(h){h.target=this;f.call(this,h)}.bind(this):
f},get currentTime(){this._updatePromises();var f=this._animation.currentTime;this._updatePromises();return f},set currentTime(f){this._updatePromises();this._animation.currentTime=isFinite(f)?f:Math.sign(f)*Number.MAX_VALUE;this._register();this._forEachChild(function(h,e){h.currentTime=f-e});this._updatePromises()},get startTime(){return this._animation.startTime},set startTime(f){this._updatePromises();this._animation.startTime=isFinite(f)?f:Math.sign(f)*Number.MAX_VALUE;this._register();this._forEachChild(function(h,
e){h.startTime=f+e});this._updatePromises()},get playbackRate(){return this._animation.playbackRate},set playbackRate(f){this._updatePromises();var h=this.currentTime;this._animation.playbackRate=f;this._forEachChild(function(e){e.playbackRate=f});null!==h&&(this.currentTime=h);this._updatePromises()},play:function(){this._updatePromises();this._paused=!1;this._animation.play();-1==this._timeline._animations.indexOf(this)&&this._timeline._animations.push(this);this._register();v.awaitStartTime(this);
this._forEachChild(function(f){var h=f.currentTime;f.play();f.currentTime=h});this._updatePromises()},pause:function(){this._updatePromises();this.currentTime&&(this._holdTime=this.currentTime);this._animation.pause();this._register();this._forEachChild(function(f){f.pause()});this._paused=!0;this._updatePromises()},finish:function(){this._updatePromises();this._animation.finish();this._register();this._updatePromises()},cancel:function(){this._updatePromises();this._animation.cancel();this._register();
this._removeChildAnimations();this._updatePromises()},reverse:function(){this._updatePromises();var f=this.currentTime;this._animation.reverse();this._forEachChild(function(h){h.reverse()});null!==f&&(this.currentTime=f);this._updatePromises()},addEventListener:function(f,h){var e=h;"function"==typeof h&&(e=function(a){a.target=this;h.call(this,a)}.bind(this),h._wrapper=e);this._animation.addEventListener(f,e)},removeEventListener:function(f,h){this._animation.removeEventListener(f,h&&h._wrapper||
h)},_removeChildAnimations:function(){for(;this._childAnimations.length;)this._childAnimations.pop().cancel()},_forEachChild:function(f){var h=0;this.effect.children&&this._childAnimations.length<this.effect.children.length&&this._constructChildAnimations();this._childAnimations.forEach(function(c){f.call(this,c,h);this.effect instanceof window.SequenceEffect&&(h+=c.effect.activeDuration)}.bind(this));if("pending"!=this.playState){var e=this.effect._timing,a=this.currentTime;null!==a&&(a=x.calculateIterationProgress(x.calculateActiveDuration(e),
a,e));(null==a||isNaN(a))&&this._removeChildAnimations()}}};window.Animation=v.Animation})(G,M,null);(function(x,v,k){function f(d){this._frames=x.normalizeKeyframes(d)}function h(){for(var d=!1;b.length;)b.shift()._updateChildren(),d=!0;return d}var e=function(d){d._animation=void 0;if(d instanceof window.SequenceEffect||d instanceof window.GroupEffect)for(var l=0;l<d.children.length;l++)e(d.children[l])};v.removeMulti=function(d){for(var l=[],n=0;n<d.length;n++){var t=d[n];t._parent?(-1==l.indexOf(t._parent)&&
l.push(t._parent),t._parent.children.splice(t._parent.children.indexOf(t),1),t._parent=null,e(t)):t._animation&&t._animation.effect==t&&(t._animation.cancel(),t._animation.effect=new KeyframeEffect(null,[]),t._animation._callback&&(t._animation._callback._animation=null),t._animation._rebuildUnderlyingAnimation(),e(t))}for(n=0;n<l.length;n++)l[n]._rebuild()};v.KeyframeEffect=function(d,l,n,t){this.target=d;this._parent=null;n=x.numericTimingToObject(n);this._timingInput=x.cloneTimingInput(n);this._timing=
x.normalizeTimingInput(n);this.timing=x.makeTiming(n,!1,this);this.timing._effect=this;"function"==typeof l?(x.deprecated("Custom KeyframeEffect","2015-06-22","Use KeyframeEffect.onsample instead."),this._normalizedKeyframes=l):this._normalizedKeyframes=new f(l);this._keyframes=l;this.activeDuration=x.calculateActiveDuration(this._timing);this._id=t;return this};v.KeyframeEffect.prototype={getFrames:function(){return"function"==typeof this._normalizedKeyframes?this._normalizedKeyframes:this._normalizedKeyframes._frames},
set onsample(d){if("function"==typeof this.getFrames())throw Error("Setting onsample on custom effect KeyframeEffect is not supported.");this._onsample=d;this._animation&&this._animation._rebuildUnderlyingAnimation()},get parent(){return this._parent},clone:function(){if("function"==typeof this.getFrames())throw Error("Cloning custom effects is not supported.");var d=new KeyframeEffect(this.target,[],x.cloneTimingInput(this._timingInput),this._id);d._normalizedKeyframes=this._normalizedKeyframes;
d._keyframes=this._keyframes;return d},remove:function(){v.removeMulti([this])}};var a=Element.prototype.animate;Element.prototype.animate=function(d,l){var n="";l&&l.id&&(n=l.id);return v.timeline._play(new v.KeyframeEffect(this,d,l,n))};var c=document.createElementNS("http://www.w3.org/1999/xhtml","div");v.newUnderlyingAnimationForKeyframeEffect=function(d){if(d){var l=d.target||c,n=d._keyframes;"function"==typeof n&&(n=[]);var t=d._timingInput;t.id=d._id}else l=c,n=[],t=0;return a.apply(l,[n,t])};
v.bindAnimationForKeyframeEffect=function(d){d.effect&&"function"==typeof d.effect._normalizedKeyframes&&v.bindAnimationForCustomEffect(d)};var b=[];v.awaitStartTime=function(d){null===d.startTime&&d._isGroup&&(0==b.length&&requestAnimationFrame(h),b.push(d))};var g=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function(){v.timeline._updateAnimationsPromises();var d=g.apply(this,arguments);h()&&(d=g.apply(this,arguments));v.timeline._updateAnimationsPromises();
return d}});window.KeyframeEffect=v.KeyframeEffect;window.Element.prototype.getAnimations=function(){return document.timeline.getAnimations().filter(function(d){return null!==d.effect&&d.effect.target==this}.bind(this))}})(G,M,null);(function(x,v,k){function f(b){b._registered||(b._registered=!0,a.push(b),c||(c=!0,requestAnimationFrame(h)))}function h(b){b=a;a=[];b.sort(function(g,d){return g._sequenceNumber-d._sequenceNumber});b=b.filter(function(g){g();var d=g._animation?g._animation.playState:
"idle";"running"!=d&&"pending"!=d&&(g._registered=!1);return g._registered});a.push.apply(a,b);a.length?(c=!0,requestAnimationFrame(h)):c=!1}document.createElementNS("http://www.w3.org/1999/xhtml","div");var e=0;v.bindAnimationForCustomEffect=function(b){var g=b.effect.target,d="function"==typeof b.effect.getFrames();var l=d?b.effect.getFrames():b.effect._onsample;var n=b.effect.timing,t=null;n=x.normalizeTimingInput(n);var p=function(){var q=p._animation?p._animation.currentTime:null;null!==q&&(q=
x.calculateIterationProgress(x.calculateActiveDuration(n),q,n),isNaN(q)&&(q=null));q!==t&&(d?l(q,g,b.effect):l(q,b.effect,b.effect._animation));t=q};p._animation=b;p._registered=!1;p._sequenceNumber=e++;b._callback=p;f(p)};var a=[],c=!1;v.Animation.prototype._register=function(){this._callback&&f(this._callback)}})(G,M,null);(function(x,v,k){function f(e){return e._timing.delay+e.activeDuration+e._timing.endDelay}function h(e,a,c){this._id=c;this._parent=null;this.children=e||[];this._reparent(this.children);
a=x.numericTimingToObject(a);this._timingInput=x.cloneTimingInput(a);this._timing=x.normalizeTimingInput(a,!0);this.timing=x.makeTiming(a,!0,this);this.timing._effect=this;"auto"===this._timing.duration&&(this._timing.duration=this.activeDuration)}window.SequenceEffect=function(){h.apply(this,arguments)};window.GroupEffect=function(){h.apply(this,arguments)};h.prototype={_isAncestor:function(e){for(var a=this;null!==a;){if(a==e)return!0;a=a._parent}return!1},_rebuild:function(){for(var e=this;e;)"auto"===
e.timing.duration&&(e._timing.duration=e.activeDuration),e=e._parent;this._animation&&this._animation._rebuildUnderlyingAnimation()},_reparent:function(e){v.removeMulti(e);for(var a=0;a<e.length;a++)e[a]._parent=this},_putChild:function(e,a){for(var c=a?"Cannot append an ancestor or self":"Cannot prepend an ancestor or self",b=0;b<e.length;b++)if(this._isAncestor(e[b]))throw{type:DOMException.HIERARCHY_REQUEST_ERR,name:"HierarchyRequestError",message:c};for(b=0;b<e.length;b++)a?this.children.push(e[b]):
this.children.unshift(e[b]);this._reparent(e);this._rebuild()},append:function(){this._putChild(arguments,!0)},prepend:function(){this._putChild(arguments,!1)},get parent(){return this._parent},get firstChild(){return this.children.length?this.children[0]:null},get lastChild(){return this.children.length?this.children[this.children.length-1]:null},clone:function(){for(var e=x.cloneTimingInput(this._timingInput),a=[],c=0;c<this.children.length;c++)a.push(this.children[c].clone());return this instanceof
GroupEffect?new GroupEffect(a,e):new SequenceEffect(a,e)},remove:function(){v.removeMulti([this])}};window.SequenceEffect.prototype=Object.create(h.prototype);Object.defineProperty(window.SequenceEffect.prototype,"activeDuration",{get:function(){var e=0;this.children.forEach(function(a){e+=f(a)});return Math.max(e,0)}});window.GroupEffect.prototype=Object.create(h.prototype);Object.defineProperty(window.GroupEffect.prototype,"activeDuration",{get:function(){var e=0;this.children.forEach(function(a){e=
Math.max(e,f(a))});return e}});v.newUnderlyingAnimationForGroup=function(e){var a,c=null;e=new KeyframeEffect(null,[],e._timing,e._id);e.onsample=function(b){var g=a._wrapper;g&&"pending"!=g.playState&&g.effect&&(null==b?g._removeChildAnimations():0==b&&0>g.playbackRate&&(c||(c=x.normalizeTimingInput(g.effect.timing)),b=x.calculateIterationProgress(x.calculateActiveDuration(c),-1,c),isNaN(b)||null==b)&&(g._forEachChild(function(d){d.currentTime=-1}),g._removeChildAnimations()))};return a=v.timeline._play(e)};
v.bindAnimationForGroup=function(e){e._animation._wrapper=e;e._isGroup=!0;v.awaitStartTime(e);e._constructChildAnimations();e._setExternalAnimation(e)};v.groupChildDuration=f})(G,M,null)})();

</script>



<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46457317-5', 'auto');
</script>
<!-- End Google Analytics -->






<script>//~~WEBPATH~~/iron-flex-layout/iron-flex-layout.html.js
var La=document.createElement("style");La.textContent="[hidden] { display: none !important; }";document.head.appendChild(La);
</script>

<custom-style>
  <style is="custom-style">
    [hidden] {
      display: none !important;
    }
  </style>
</custom-style>

<custom-style>
  <style is="custom-style">
    html {

      --layout: {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
      };

      --layout-inline: {
        display: -ms-inline-flexbox;
        display: -webkit-inline-flex;
        display: inline-flex;
      };

      --layout-horizontal: {
        @apply --layout;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
      };

      --layout-horizontal-reverse: {
        @apply --layout;

        -ms-flex-direction: row-reverse;
        -webkit-flex-direction: row-reverse;
        flex-direction: row-reverse;
      };

      --layout-vertical: {
        @apply --layout;

        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;
      };

      --layout-vertical-reverse: {
        @apply --layout;

        -ms-flex-direction: column-reverse;
        -webkit-flex-direction: column-reverse;
        flex-direction: column-reverse;
      };

      --layout-wrap: {
        -ms-flex-wrap: wrap;
        -webkit-flex-wrap: wrap;
        flex-wrap: wrap;
      };

      --layout-wrap-reverse: {
        -ms-flex-wrap: wrap-reverse;
        -webkit-flex-wrap: wrap-reverse;
        flex-wrap: wrap-reverse;
      };

      --layout-flex-auto: {
        -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;
      };

      --layout-flex-none: {
        -ms-flex: none;
        -webkit-flex: none;
        flex: none;
      };

      --layout-flex: {
        -ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;
      };

      --layout-flex-2: {
        -ms-flex: 2;
        -webkit-flex: 2;
        flex: 2;
      };

      --layout-flex-3: {
        -ms-flex: 3;
        -webkit-flex: 3;
        flex: 3;
      };

      --layout-flex-4: {
        -ms-flex: 4;
        -webkit-flex: 4;
        flex: 4;
      };

      --layout-flex-5: {
        -ms-flex: 5;
        -webkit-flex: 5;
        flex: 5;
      };

      --layout-flex-6: {
        -ms-flex: 6;
        -webkit-flex: 6;
        flex: 6;
      };

      --layout-flex-7: {
        -ms-flex: 7;
        -webkit-flex: 7;
        flex: 7;
      };

      --layout-flex-8: {
        -ms-flex: 8;
        -webkit-flex: 8;
        flex: 8;
      };

      --layout-flex-9: {
        -ms-flex: 9;
        -webkit-flex: 9;
        flex: 9;
      };

      --layout-flex-10: {
        -ms-flex: 10;
        -webkit-flex: 10;
        flex: 10;
      };

      --layout-flex-11: {
        -ms-flex: 11;
        -webkit-flex: 11;
        flex: 11;
      };

      --layout-flex-12: {
        -ms-flex: 12;
        -webkit-flex: 12;
        flex: 12;
      };

      /* alignment in cross axis */

      --layout-start: {
        -ms-flex-align: start;
        -webkit-align-items: flex-start;
        align-items: flex-start;
      };

      --layout-center: {
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
      };

      --layout-end: {
        -ms-flex-align: end;
        -webkit-align-items: flex-end;
        align-items: flex-end;
      };

      --layout-baseline: {
        -ms-flex-align: baseline;
        -webkit-align-items: baseline;
        align-items: baseline;
      };

      /* alignment in main axis */

      --layout-start-justified: {
        -ms-flex-pack: start;
        -webkit-justify-content: flex-start;
        justify-content: flex-start;
      };

      --layout-center-justified: {
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
      };

      --layout-end-justified: {
        -ms-flex-pack: end;
        -webkit-justify-content: flex-end;
        justify-content: flex-end;
      };

      --layout-around-justified: {
        -ms-flex-pack: distribute;
        -webkit-justify-content: space-around;
        justify-content: space-around;
      };

      --layout-justified: {
        -ms-flex-pack: justify;
        -webkit-justify-content: space-between;
        justify-content: space-between;
      };

      --layout-center-center: {
        @apply --layout-center;
        @apply --layout-center-justified;
      };

      /* self alignment */

      --layout-self-start: {
        -ms-align-self: flex-start;
        -webkit-align-self: flex-start;
        align-self: flex-start;
      };

      --layout-self-center: {
        -ms-align-self: center;
        -webkit-align-self: center;
        align-self: center;
      };

      --layout-self-end: {
        -ms-align-self: flex-end;
        -webkit-align-self: flex-end;
        align-self: flex-end;
      };

      --layout-self-stretch: {
        -ms-align-self: stretch;
        -webkit-align-self: stretch;
        align-self: stretch;
      };

      --layout-self-baseline: {
        -ms-align-self: baseline;
        -webkit-align-self: baseline;
        align-self: baseline;
      };

      /* multi-line alignment in main axis */

      --layout-start-aligned: {
        -ms-flex-line-pack: start;  /* IE10 */
        -ms-align-content: flex-start;
        -webkit-align-content: flex-start;
        align-content: flex-start;
      };

      --layout-end-aligned: {
        -ms-flex-line-pack: end;  /* IE10 */
        -ms-align-content: flex-end;
        -webkit-align-content: flex-end;
        align-content: flex-end;
      };

      --layout-center-aligned: {
        -ms-flex-line-pack: center;  /* IE10 */
        -ms-align-content: center;
        -webkit-align-content: center;
        align-content: center;
      };

      --layout-between-aligned: {
        -ms-flex-line-pack: justify;  /* IE10 */
        -ms-align-content: space-between;
        -webkit-align-content: space-between;
        align-content: space-between;
      };

      --layout-around-aligned: {
        -ms-flex-line-pack: distribute;  /* IE10 */
        -ms-align-content: space-around;
        -webkit-align-content: space-around;
        align-content: space-around;
      };

      /*******************************
                Other Layout
      *******************************/

      --layout-block: {
        display: block;
      };

      --layout-invisible: {
        visibility: hidden !important;
      };

      --layout-relative: {
        position: relative;
      };

      --layout-fit: {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      };

      --layout-scroll: {
        -webkit-overflow-scrolling: touch;
        overflow: auto;
      };

      --layout-fullbleed: {
        margin: 0;
        height: 100vh;
      };

      /* fixed position */

      --layout-fixed-top: {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
      };

      --layout-fixed-right: {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
      };

      --layout-fixed-bottom: {
        position: fixed;
        right: 0;
        bottom: 0;
        left: 0;
      };

      --layout-fixed-left: {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
      };

    }
  </style>
</custom-style>




<dom-module id="iron-icon">
  <template>
    <style>
      :host {
        @apply --layout-inline;
        @apply --layout-center-center;
        position: relative;

        vertical-align: middle;

        fill: var(--iron-icon-fill-color, currentcolor);
        stroke: var(--iron-icon-stroke-color, none);

        width: var(--iron-icon-width, 24px);
        height: var(--iron-icon-height, 24px);
        @apply --iron-icon;
      }

      :host([hidden]) {
        display: none;
      }
    </style>
  </template>

  <script>//~~WEBPATH~~/iron-icon/iron-icon.html.js
Polymer({is:"iron-icon",properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:Polymer.Base.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function(a){a=(a||"").split(":");this._iconName=a.pop();this._iconsetName=a.pop()||this._DEFAULT_ICONSET;this._updateIcon()},_srcChanged:function(){this._updateIcon()},
_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&Polymer.dom(this.root).removeChild(this._img),""===this._iconName?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&((this._iconset=this._meta.byKey(this._iconsetName))?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,"iron-iconset-added","_updateIcon")):this.listen(window,"iron-iconset-added","_updateIcon"))):(this._iconset&&
this._iconset.removeIcon(this),this._img||(this._img=document.createElement("img"),this._img.style.width="100%",this._img.style.height="100%",this._img.draggable=!1),this._img.src=this.src,Polymer.dom(this.root).appendChild(this._img))}});
</script>

</dom-module>





<script>//~~WEBPATH~~/iron-a11y-keys-behavior/iron-a11y-keys-behavior.html.js
(function(){function a(p,t){var r="";if(p)if(p=p.toLowerCase()," "===p||n.test(p))r="space";else if(q.test(p))r="esc";else if(1==p.length){if(!t||k.test(p))r=p}else r=m.test(p)?p.replace("arrow",""):"multiply"==p?"*":p;return r}function b(p,t){var r=p.hasModifiers;if(t.key)r=a(t.key,r);else if(t.detail&&t.detail.key)r=a(t.detail.key,r);else{r=t.keyIdentifier;var v="";r&&(r in e?v=e[r]:l.test(r)?(r=parseInt(r.replace("U+","0x"),16),v=String.fromCharCode(r).toLowerCase()):v=r.toLowerCase());(r=v)||
(r=t.keyCode,v="",Number(r)&&(v=65<=r&&90>=r?String.fromCharCode(32+r):112<=r&&123>=r?"f"+(r-112+1):48<=r&&57>=r?String(r-48):96<=r&&105>=r?String(r-96):g[r]),r=v);r=r||""}return r===p.key&&(!p.hasModifiers||!!t.shiftKey===!!p.shiftKey&&!!t.ctrlKey===!!p.ctrlKey&&!!t.altKey===!!p.altKey&&!!t.metaKey===!!p.metaKey)}function c(p){return 1===p.length?{combo:p,key:p,event:"keydown"}:p.split("+").reduce(function(t,r){var v=r.split(":");r=v[0];v=v[1];r in h?(t[h[r]]=!0,t.hasModifiers=!0):(t.key=r,t.event=
v||"keydown");return t},{combo:p.split(":").shift()})}function d(p){return p.trim().split(" ").map(function(t){return c(t)})}var e={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},g={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},h={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},k=/[a-z0-9*]/,l=/U\+/,m=/^arrow/,n=/^space(bar)?/,q=/^escape$/;
Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},
addOwnKeyBinding:function(p,t){this._imperativeKeyBindings[p]=t;this._prepKeyBindings();this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={};this._prepKeyBindings();this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(p,t){t=d(t);for(var r=0;r<t.length;++r)if(b(t[r],p))return!0;return!1},_collectKeyBindings:function(){var p=this.behaviors.map(function(t){return t.keyBindings});-1===p.indexOf(this.keyBindings)&&p.push(this.keyBindings);return p},
_prepKeyBindings:function(){this._keyBindings={};this._collectKeyBindings().forEach(function(r){for(var v in r)this._addKeyBinding(v,r[v])},this);for(var p in this._imperativeKeyBindings)this._addKeyBinding(p,this._imperativeKeyBindings[p]);for(var t in this._keyBindings)this._keyBindings[t].sort(function(r,v){r=r[0].hasModifiers;return r===v[0].hasModifiers?0:r?-1:1})},_addKeyBinding:function(p,t){d(p).forEach(function(r){this._keyBindings[r.event]=this._keyBindings[r.event]||[];this._keyBindings[r.event].push([r,
t])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners();this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach(function(p){var t=this._onKeyBindingEvent.bind(this,this._keyBindings[p]);this._boundKeyHandlers.push([this.keyEventTarget,p,t]);this.keyEventTarget.addEventListener(p,t)},this)},_unlistenKeyEventListeners:function(){for(var p,t,r;this._boundKeyHandlers.length;)p=this._boundKeyHandlers.pop(),
t=p[0],r=p[1],p=p[2],t.removeEventListener(r,p)},_onKeyBindingEvent:function(p,t){this.stopKeyboardEventPropagation&&t.stopPropagation();if(!t.defaultPrevented)for(var r=0;r<p.length;r++){var v=p[r][0],u=p[r][1];if(b(v,t)&&(this._triggerKeyHandler(v,u,t),t.defaultPrevented))break}},_triggerKeyHandler:function(p,t,r){var v=Object.create(p);v.keyboardEvent=r;p=new CustomEvent(p.event,{detail:v,cancelable:!0});this[t].call(this,p);p.defaultPrevented&&r.preventDefault()}}})();
</script>



<script>//~~WEBPATH~~/iron-behaviors/iron-control-state.html.js
Polymer.IronControlState={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:String},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}},__handleEventRetargeting:{type:Boolean,value:function(){return!this.shadowRoot&&!Polymer.Element}}},observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",
this._boundFocusBlurHandler,!0);this.addEventListener("blur",this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(a){if(Polymer.Element)this._setFocused("focus"===a.type);else if(a.target===this)this._setFocused("focus"===a.type);else if(this.__handleEventRetargeting){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}},_disabledChanged:function(a){this.setAttribute("aria-disabled",a?"true":"false");
this.style.pointerEvents=a?"none":"";a?(this._oldTabIndex=this.getAttribute("tabindex"),this._setFocused(!1),this.tabIndex=-1,this.blur()):void 0!==this._oldTabIndex&&(null===this._oldTabIndex?this.removeAttribute("tabindex"):this.setAttribute("tabindex",this._oldTabIndex))},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}};
</script>


<script>//~~WEBPATH~~/iron-behaviors/iron-button-state.html.js
Polymer.IronButtonStateImpl={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},
observers:["_focusChanged(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_focusChanged:function(a){this._detectKeyboardFocus(a);a||this._setPressed(!1)},_detectKeyboardFocus:function(a){this._setReceivedFocusFromKeyboard(!this.pointerDown&&a)},_userActivate:function(a){this.active!==
a&&(this.active=a,this.fire("change"))},_downHandler:function(){this._setPointerDown(!0);this._setPressed(!0);this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1);this._setPressed(!1)},_spaceKeyDownHandler:function(a){a=a.detail.keyboardEvent;var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||(a.preventDefault(),a.stopImmediatePropagation(),this._setPressed(!0))},_spaceKeyUpHandler:function(a){a=Polymer.dom(a.detail.keyboardEvent).localTarget;this.isLightDescendant(a)||
(this.pressed&&this._asyncClick(),this._setPressed(!1))},_asyncClick:function(){this.async(function(){this.click()},1)},_pressedChanged:function(){this._changedButtonState()},_ariaActiveAttributeChanged:function(a,b){b&&b!=a&&this.hasAttribute(b)&&this.removeAttribute(b)},_activeChanged:function(a){this.toggles?this.setAttribute(this.ariaActiveAttribute,a?"true":"false"):this.removeAttribute(this.ariaActiveAttribute);this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):
this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}};Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl];
</script>








<dom-module id="paper-ripple">

  <template>
    <style>
      :host {
        display: block;
        position: absolute;
        border-radius: inherit;
        overflow: hidden;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;

        /* See PolymerElements/paper-behaviors/issues/34. On non-Chrome browsers,
         * creating a node (with a position:absolute) in the middle of an event
         * handler "interrupts" that event handler (which happens when the
         * ripple is created on demand) */
        pointer-events: none;
      }

      :host([animating]) {
        /* This resolves a rendering issue in Chrome (as of 40) where the
           ripple is not properly clipped by its parent (which may have
           rounded corners). See: http://jsbin.com/temexa/4

           Note: We only apply this style conditionally. Otherwise, the browser
           will create a new compositing layer for every ripple element on the
           page, and that would be bad. */
        -webkit-transform: translate(0, 0);
        transform: translate3d(0, 0, 0);
      }

      #background,
      #waves,
      .wave-container,
      .wave {
        pointer-events: none;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      #background,
      .wave {
        opacity: 0;
      }

      #waves,
      .wave {
        overflow: hidden;
      }

      .wave-container,
      .wave {
        border-radius: 50%;
      }

      :host(.circle) #background,
      :host(.circle) #waves {
        border-radius: 50%;
      }

      :host(.circle) .wave-container {
        overflow: hidden;
      }
    </style>

    <div id="background"></div>
    <div id="waves"></div>
  </template>
</dom-module>
<script>//~~WEBPATH~~/paper-ripple/paper-ripple.html.js
(function(){function a(d){this.element=d;this.width=this.boundingRect.width;this.height=this.boundingRect.height;this.size=Math.max(this.width,this.height)}function b(d){this.element=d;this.color=window.getComputedStyle(d).color;this.wave=document.createElement("div");this.waveContainer=document.createElement("div");this.wave.style.backgroundColor=this.color;this.wave.classList.add("wave");this.waveContainer.classList.add("wave-container");Polymer.dom(this.waveContainer).appendChild(this.wave);this.resetInteractionState()}
var c={distance:function(d,e,g,h){d-=g;e-=h;return Math.sqrt(d*d+e*e)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};a.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(d,e){var g=c.distance(d,e,0,0),h=c.distance(d,e,this.width,0),k=c.distance(d,e,0,this.height);d=c.distance(d,e,this.width,this.height);return Math.max(g,h,k,d)}};b.MAX_RADIUS=300;b.prototype={get recenters(){return this.element.recenters},
get center(){return this.element.center},get mouseDownElapsed(){if(!this.mouseDownStart)return 0;var d=c.now()-this.mouseDownStart;this.mouseUpStart&&(d-=this.mouseUpElapsed);return d},get mouseUpElapsed(){return this.mouseUpStart?c.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1E3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1E3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},
get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var d=1.1*Math.min(Math.sqrt(this.containerMetrics.width*this.containerMetrics.width+this.containerMetrics.height*this.containerMetrics.height),b.MAX_RADIUS)+5;return Math.abs(d*(1-Math.pow(80,-(this.mouseInteractionSeconds/(1.1-d/b.MAX_RADIUS*.2)))))},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){return Math.max(0,
Math.min(.3*this.mouseUpElapsedSeconds,this.opacity))},get isOpacityFullyDecayed(){return.01>this.opacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?
this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.slideDistance=this.yEnd=this.xEnd=this.yStart=this.xStart=this.mouseUpStart=this.mouseDownStart=this.maxRadius=0;this.containerMetrics=new a(this.element)},draw:function(){this.wave.style.opacity=this.opacity;var d=this.radius/
(this.containerMetrics.size/2);var e=this.xNow-this.containerMetrics.width/2;var g=this.yNow-this.containerMetrics.height/2;this.waveContainer.style.webkitTransform="translate("+e+"px, "+g+"px)";this.waveContainer.style.transform="translate3d("+e+"px, "+g+"px, 0)";this.wave.style.webkitTransform="scale("+d+","+d+")";this.wave.style.transform="scale3d("+d+","+d+",1)"},downAction:function(d){var e=this.containerMetrics.width/2,g=this.containerMetrics.height/2;this.resetInteractionState();this.mouseDownStart=
c.now();this.center?(this.xStart=e,this.yStart=g,this.slideDistance=c.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=d?d.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=d?d.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2);this.recenters&&(this.xEnd=e,this.yEnd=g,this.slideDistance=c.distance(this.xStart,this.yStart,this.xEnd,this.yEnd));this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,
this.yStart);this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px";this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px";this.waveContainer.style.width=this.containerMetrics.size+"px";this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(){this.isMouseDown&&(this.mouseUpStart=c.now())},remove:function(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}};Polymer({is:"paper-ripple",
behaviors:[Polymer.IronA11yKeysBehavior],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},
get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){var d=this.keyEventTarget=11==this.parentNode.nodeType?Polymer.dom(this).getOwnerRoot().host:this.parentNode;this.listen(d,"up","uiUpAction");this.listen(d,"down","uiDownAction")},detached:function(){this.unlisten(this.keyEventTarget,"up","uiUpAction");this.unlisten(this.keyEventTarget,"down","uiDownAction");this.keyEventTarget=
null},get shouldKeepAnimating(){for(var d=0;d<this.ripples.length;++d)if(!this.ripples[d].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null);this.async(function(){this.upAction()},1)},uiDownAction:function(d){this.noink||this.downAction(d)},downAction:function(d){this.holdDown&&0<this.ripples.length||(this.addRipple().downAction(d),this._animating||(this._animating=!0,this.animate()))},uiUpAction:function(d){this.noink||this.upAction(d)},upAction:function(d){this.holdDown||
(this.ripples.forEach(function(e){e.upAction(d)}),this._animating=!0,this.animate())},onAnimationComplete:function(){this._animating=!1;this.$.background.style.backgroundColor=null;this.fire("transitionend")},addRipple:function(){var d=new b(this);Polymer.dom(this.$.waves).appendChild(d.waveContainer);this.$.background.style.backgroundColor=d.color;this.ripples.push(d);this._setAnimating(!0);return d},removeRipple:function(d){var e=this.ripples.indexOf(d);0>e||(this.ripples.splice(e,1),d.remove(),
this.ripples.length||this._setAnimating(!1))},animate:function(){if(this._animating){var d;for(d=0;d<this.ripples.length;++d){var e=this.ripples[d];e.draw();this.$.background.style.opacity=e.outerOpacity;e.isOpacityFullyDecayed&&!e.isRestingAtMaxRadius&&this.removeRipple(e)}if(this.shouldKeepAnimating||0!==this.ripples.length)window.requestAnimationFrame(this._boundAnimate);else this.onAnimationComplete()}},_onEnterKeydown:function(){this.uiDownAction();this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},
_onSpaceKeyup:function(){this.uiUpAction()},_holdDownChanged:function(d,e){void 0!==e&&(d?this.downAction():this.upAction())}})})();
</script>


<script>//~~WEBPATH~~/paper-behaviors/paper-ripple-behavior.html.js
Polymer.PaperRippleBehavior={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(a){Polymer.IronButtonStateImpl._downHandler.call(this,a);this.pressed&&this.ensureRipple(a)},ensureRipple:function(a){if(!this.hasRipple()){this._ripple=this._createRipple();this._ripple.noink=this.noink;var b=this._rippleContainer||this.root;b&&Polymer.dom(b).appendChild(this._ripple);if(a){b=
Polymer.dom(this._rippleContainer||this);var c=Polymer.dom(a).rootTarget;b.deepContains(c)&&this._ripple.uiDownAction(a)}}},getRipple:function(){this.ensureRipple();return this._ripple},hasRipple:function(){return!!this._ripple},_createRipple:function(){return document.createElement("paper-ripple")},_noinkChanged:function(a){this.hasRipple()&&(this._ripple.noink=a)}};
</script>


<script>//~~WEBPATH~~/paper-behaviors/paper-inky-focus-behavior.html.js
Polymer.PaperInkyFocusBehaviorImpl={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(a){a&&this.ensureRipple();this.hasRipple()&&(this._ripple.holdDown=a)},_createRipple:function(){var a=Polymer.PaperRippleBehavior._createRipple();a.id="ink";a.setAttribute("center","");a.classList.add("circle");return a}};Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperInkyFocusBehaviorImpl];
</script>




<custom-style>
  <style is="custom-style">
    html {

      /* Material Design color palette for Google products */

      --google-red-100: #f4c7c3;
      --google-red-300: #e67c73;
      --google-red-500: #db4437;
      --google-red-700: #c53929;

      --google-blue-100: #c6dafc;
      --google-blue-300: #7baaf7;
      --google-blue-500: #4285f4;
      --google-blue-700: #3367d6;

      --google-green-100: #b7e1cd;
      --google-green-300: #57bb8a;
      --google-green-500: #0f9d58;
      --google-green-700: #0b8043;

      --google-yellow-100: #fce8b2;
      --google-yellow-300: #f7cb4d;
      --google-yellow-500: #f4b400;
      --google-yellow-700: #f09300;

      --google-grey-100: #f5f5f5;
      --google-grey-300: #e0e0e0;
      --google-grey-500: #9e9e9e;
      --google-grey-700: #616161;

      /* Material Design color palette from online spec document */

      --paper-red-50: #ffebee;
      --paper-red-100: #ffcdd2;
      --paper-red-200: #ef9a9a;
      --paper-red-300: #e57373;
      --paper-red-400: #ef5350;
      --paper-red-500: #f44336;
      --paper-red-600: #e53935;
      --paper-red-700: #d32f2f;
      --paper-red-800: #c62828;
      --paper-red-900: #b71c1c;
      --paper-red-a100: #ff8a80;
      --paper-red-a200: #ff5252;
      --paper-red-a400: #ff1744;
      --paper-red-a700: #d50000;

      --paper-pink-50: #fce4ec;
      --paper-pink-100: #f8bbd0;
      --paper-pink-200: #f48fb1;
      --paper-pink-300: #f06292;
      --paper-pink-400: #ec407a;
      --paper-pink-500: #e91e63;
      --paper-pink-600: #d81b60;
      --paper-pink-700: #c2185b;
      --paper-pink-800: #ad1457;
      --paper-pink-900: #880e4f;
      --paper-pink-a100: #ff80ab;
      --paper-pink-a200: #ff4081;
      --paper-pink-a400: #f50057;
      --paper-pink-a700: #c51162;

      --paper-purple-50: #f3e5f5;
      --paper-purple-100: #e1bee7;
      --paper-purple-200: #ce93d8;
      --paper-purple-300: #ba68c8;
      --paper-purple-400: #ab47bc;
      --paper-purple-500: #9c27b0;
      --paper-purple-600: #8e24aa;
      --paper-purple-700: #7b1fa2;
      --paper-purple-800: #6a1b9a;
      --paper-purple-900: #4a148c;
      --paper-purple-a100: #ea80fc;
      --paper-purple-a200: #e040fb;
      --paper-purple-a400: #d500f9;
      --paper-purple-a700: #aa00ff;

      --paper-deep-purple-50: #ede7f6;
      --paper-deep-purple-100: #d1c4e9;
      --paper-deep-purple-200: #b39ddb;
      --paper-deep-purple-300: #9575cd;
      --paper-deep-purple-400: #7e57c2;
      --paper-deep-purple-500: #673ab7;
      --paper-deep-purple-600: #5e35b1;
      --paper-deep-purple-700: #512da8;
      --paper-deep-purple-800: #4527a0;
      --paper-deep-purple-900: #311b92;
      --paper-deep-purple-a100: #b388ff;
      --paper-deep-purple-a200: #7c4dff;
      --paper-deep-purple-a400: #651fff;
      --paper-deep-purple-a700: #6200ea;

      --paper-indigo-50: #e8eaf6;
      --paper-indigo-100: #c5cae9;
      --paper-indigo-200: #9fa8da;
      --paper-indigo-300: #7986cb;
      --paper-indigo-400: #5c6bc0;
      --paper-indigo-500: #3f51b5;
      --paper-indigo-600: #3949ab;
      --paper-indigo-700: #303f9f;
      --paper-indigo-800: #283593;
      --paper-indigo-900: #1a237e;
      --paper-indigo-a100: #8c9eff;
      --paper-indigo-a200: #536dfe;
      --paper-indigo-a400: #3d5afe;
      --paper-indigo-a700: #304ffe;

      --paper-blue-50: #e3f2fd;
      --paper-blue-100: #bbdefb;
      --paper-blue-200: #90caf9;
      --paper-blue-300: #64b5f6;
      --paper-blue-400: #42a5f5;
      --paper-blue-500: #2196f3;
      --paper-blue-600: #1e88e5;
      --paper-blue-700: #1976d2;
      --paper-blue-800: #1565c0;
      --paper-blue-900: #0d47a1;
      --paper-blue-a100: #82b1ff;
      --paper-blue-a200: #448aff;
      --paper-blue-a400: #2979ff;
      --paper-blue-a700: #2962ff;

      --paper-light-blue-50: #e1f5fe;
      --paper-light-blue-100: #b3e5fc;
      --paper-light-blue-200: #81d4fa;
      --paper-light-blue-300: #4fc3f7;
      --paper-light-blue-400: #29b6f6;
      --paper-light-blue-500: #03a9f4;
      --paper-light-blue-600: #039be5;
      --paper-light-blue-700: #0288d1;
      --paper-light-blue-800: #0277bd;
      --paper-light-blue-900: #01579b;
      --paper-light-blue-a100: #80d8ff;
      --paper-light-blue-a200: #40c4ff;
      --paper-light-blue-a400: #00b0ff;
      --paper-light-blue-a700: #0091ea;

      --paper-cyan-50: #e0f7fa;
      --paper-cyan-100: #b2ebf2;
      --paper-cyan-200: #80deea;
      --paper-cyan-300: #4dd0e1;
      --paper-cyan-400: #26c6da;
      --paper-cyan-500: #00bcd4;
      --paper-cyan-600: #00acc1;
      --paper-cyan-700: #0097a7;
      --paper-cyan-800: #00838f;
      --paper-cyan-900: #006064;
      --paper-cyan-a100: #84ffff;
      --paper-cyan-a200: #18ffff;
      --paper-cyan-a400: #00e5ff;
      --paper-cyan-a700: #00b8d4;

      --paper-teal-50: #e0f2f1;
      --paper-teal-100: #b2dfdb;
      --paper-teal-200: #80cbc4;
      --paper-teal-300: #4db6ac;
      --paper-teal-400: #26a69a;
      --paper-teal-500: #009688;
      --paper-teal-600: #00897b;
      --paper-teal-700: #00796b;
      --paper-teal-800: #00695c;
      --paper-teal-900: #004d40;
      --paper-teal-a100: #a7ffeb;
      --paper-teal-a200: #64ffda;
      --paper-teal-a400: #1de9b6;
      --paper-teal-a700: #00bfa5;

      --paper-green-50: #e8f5e9;
      --paper-green-100: #c8e6c9;
      --paper-green-200: #a5d6a7;
      --paper-green-300: #81c784;
      --paper-green-400: #66bb6a;
      --paper-green-500: #4caf50;
      --paper-green-600: #43a047;
      --paper-green-700: #388e3c;
      --paper-green-800: #2e7d32;
      --paper-green-900: #1b5e20;
      --paper-green-a100: #b9f6ca;
      --paper-green-a200: #69f0ae;
      --paper-green-a400: #00e676;
      --paper-green-a700: #00c853;

      --paper-light-green-50: #f1f8e9;
      --paper-light-green-100: #dcedc8;
      --paper-light-green-200: #c5e1a5;
      --paper-light-green-300: #aed581;
      --paper-light-green-400: #9ccc65;
      --paper-light-green-500: #8bc34a;
      --paper-light-green-600: #7cb342;
      --paper-light-green-700: #689f38;
      --paper-light-green-800: #558b2f;
      --paper-light-green-900: #33691e;
      --paper-light-green-a100: #ccff90;
      --paper-light-green-a200: #b2ff59;
      --paper-light-green-a400: #76ff03;
      --paper-light-green-a700: #64dd17;

      --paper-lime-50: #f9fbe7;
      --paper-lime-100: #f0f4c3;
      --paper-lime-200: #e6ee9c;
      --paper-lime-300: #dce775;
      --paper-lime-400: #d4e157;
      --paper-lime-500: #cddc39;
      --paper-lime-600: #c0ca33;
      --paper-lime-700: #afb42b;
      --paper-lime-800: #9e9d24;
      --paper-lime-900: #827717;
      --paper-lime-a100: #f4ff81;
      --paper-lime-a200: #eeff41;
      --paper-lime-a400: #c6ff00;
      --paper-lime-a700: #aeea00;

      --paper-yellow-50: #fffde7;
      --paper-yellow-100: #fff9c4;
      --paper-yellow-200: #fff59d;
      --paper-yellow-300: #fff176;
      --paper-yellow-400: #ffee58;
      --paper-yellow-500: #ffeb3b;
      --paper-yellow-600: #fdd835;
      --paper-yellow-700: #fbc02d;
      --paper-yellow-800: #f9a825;
      --paper-yellow-900: #f57f17;
      --paper-yellow-a100: #ffff8d;
      --paper-yellow-a200: #ffff00;
      --paper-yellow-a400: #ffea00;
      --paper-yellow-a700: #ffd600;

      --paper-amber-50: #fff8e1;
      --paper-amber-100: #ffecb3;
      --paper-amber-200: #ffe082;
      --paper-amber-300: #ffd54f;
      --paper-amber-400: #ffca28;
      --paper-amber-500: #ffc107;
      --paper-amber-600: #ffb300;
      --paper-amber-700: #ffa000;
      --paper-amber-800: #ff8f00;
      --paper-amber-900: #ff6f00;
      --paper-amber-a100: #ffe57f;
      --paper-amber-a200: #ffd740;
      --paper-amber-a400: #ffc400;
      --paper-amber-a700: #ffab00;

      --paper-orange-50: #fff3e0;
      --paper-orange-100: #ffe0b2;
      --paper-orange-200: #ffcc80;
      --paper-orange-300: #ffb74d;
      --paper-orange-400: #ffa726;
      --paper-orange-500: #ff9800;
      --paper-orange-600: #fb8c00;
      --paper-orange-700: #f57c00;
      --paper-orange-800: #ef6c00;
      --paper-orange-900: #e65100;
      --paper-orange-a100: #ffd180;
      --paper-orange-a200: #ffab40;
      --paper-orange-a400: #ff9100;
      --paper-orange-a700: #ff6500;

      --paper-deep-orange-50: #fbe9e7;
      --paper-deep-orange-100: #ffccbc;
      --paper-deep-orange-200: #ffab91;
      --paper-deep-orange-300: #ff8a65;
      --paper-deep-orange-400: #ff7043;
      --paper-deep-orange-500: #ff5722;
      --paper-deep-orange-600: #f4511e;
      --paper-deep-orange-700: #e64a19;
      --paper-deep-orange-800: #d84315;
      --paper-deep-orange-900: #bf360c;
      --paper-deep-orange-a100: #ff9e80;
      --paper-deep-orange-a200: #ff6e40;
      --paper-deep-orange-a400: #ff3d00;
      --paper-deep-orange-a700: #dd2c00;

      --paper-brown-50: #efebe9;
      --paper-brown-100: #d7ccc8;
      --paper-brown-200: #bcaaa4;
      --paper-brown-300: #a1887f;
      --paper-brown-400: #8d6e63;
      --paper-brown-500: #795548;
      --paper-brown-600: #6d4c41;
      --paper-brown-700: #5d4037;
      --paper-brown-800: #4e342e;
      --paper-brown-900: #3e2723;

      --paper-grey-50: #fafafa;
      --paper-grey-100: #f5f5f5;
      --paper-grey-200: #eeeeee;
      --paper-grey-300: #e0e0e0;
      --paper-grey-400: #bdbdbd;
      --paper-grey-500: #9e9e9e;
      --paper-grey-600: #757575;
      --paper-grey-700: #616161;
      --paper-grey-800: #424242;
      --paper-grey-900: #212121;

      --paper-blue-grey-50: #eceff1;
      --paper-blue-grey-100: #cfd8dc;
      --paper-blue-grey-200: #b0bec5;
      --paper-blue-grey-300: #90a4ae;
      --paper-blue-grey-400: #78909c;
      --paper-blue-grey-500: #607d8b;
      --paper-blue-grey-600: #546e7a;
      --paper-blue-grey-700: #455a64;
      --paper-blue-grey-800: #37474f;
      --paper-blue-grey-900: #263238;

      /* opacity for dark text on a light background */
      --dark-divider-opacity: 0.12;
      --dark-disabled-opacity: 0.38; /* or hint text or icon */
      --dark-secondary-opacity: 0.54;
      --dark-primary-opacity: 0.87;

      /* opacity for light text on a dark background */
      --light-divider-opacity: 0.12;
      --light-disabled-opacity: 0.3; /* or hint text or icon */
      --light-secondary-opacity: 0.7;
      --light-primary-opacity: 1.0;

    }

  </style>
</custom-style>




<custom-style>
  <style is="custom-style">
    html {
      /*
       * You can use these generic variables in your elements for easy theming.
       * For example, if all your elements use `--primary-text-color` as its main
       * color, then switching from a light to a dark theme is just a matter of
       * changing the value of `--primary-text-color` in your application.
       */
      --primary-text-color: var(--light-theme-text-color);
      --primary-background-color: var(--light-theme-background-color);
      --secondary-text-color: var(--light-theme-secondary-color);
      --disabled-text-color: var(--light-theme-disabled-color);
      --divider-color: var(--light-theme-divider-color);
      --error-color: var(--paper-deep-orange-a700);

      /*
       * Primary and accent colors. Also see color.html for more colors.
       */
      --primary-color: var(--paper-indigo-500);
      --light-primary-color: var(--paper-indigo-100);
      --dark-primary-color: var(--paper-indigo-700);

      --accent-color: var(--paper-pink-a200);
      --light-accent-color: var(--paper-pink-a100);
      --dark-accent-color: var(--paper-pink-a400);


      /*
       * Material Design Light background theme
       */
      --light-theme-background-color: #ffffff;
      --light-theme-base-color: #000000;
      --light-theme-text-color: var(--paper-grey-900);
      --light-theme-secondary-color: #737373;  /* for secondary text and icons */
      --light-theme-disabled-color: #9b9b9b;  /* disabled/hint text */
      --light-theme-divider-color: #dbdbdb;

      /*
       * Material Design Dark background theme
       */
      --dark-theme-background-color: var(--paper-grey-900);
      --dark-theme-base-color: #ffffff;
      --dark-theme-text-color: #ffffff;
      --dark-theme-secondary-color: #bcbcbc;  /* for secondary text and icons */
      --dark-theme-disabled-color: #646464;  /* disabled/hint text */
      --dark-theme-divider-color: #3c3c3c;

      /*
       * Deprecated values because of their confusing names.
       */
      --text-primary-color: var(--dark-theme-text-color);
      --default-primary-color: var(--primary-color);
    }
  </style>
</custom-style>




<dom-module id="paper-icon-button">
  <template strip-whitespace>
    <style>
      :host {
        display: inline-block;
        position: relative;
        padding: 8px;
        outline: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        cursor: pointer;
        z-index: 0;
        line-height: 1;

        width: 40px;
        height: 40px;

        /* NOTE: Both values are needed, since some phones require the value to be `transparent`. */
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-tap-highlight-color: transparent;

        /* Because of polymer/2558, this style has lower specificity than * */
        box-sizing: border-box !important;

        @apply --paper-icon-button;
      }

      :host #ink {
        color: var(--paper-icon-button-ink-color, var(--primary-text-color));
        opacity: 0.6;
      }

      :host([disabled]) {
        color: var(--paper-icon-button-disabled-text, var(--disabled-text-color));
        pointer-events: none;
        cursor: auto;

        @apply --paper-icon-button-disabled;
      }

      :host(:hover) {
        @apply --paper-icon-button-hover;
      }

      iron-icon {
        --iron-icon-width: 100%;
        --iron-icon-height: 100%;
      }
    </style>

    <iron-icon id="icon" src="[[src]]" icon="[[icon]]" alt$="[[alt]]"></iron-icon>
  </template>

  <script>//~~WEBPATH~~/paper-icon-button/paper-icon-button.html.js
Polymer({is:"paper-icon-button",hostAttributes:{role:"button",tabindex:"0"},behaviors:[Polymer.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function(a,b){var c=this.getAttribute("aria-label");c&&b!=c||this.setAttribute("aria-label",a)}});
</script>
</dom-module>







<script>//~~WEBPATH~~/neon-animation/neon-animatable-behavior.html.js
Polymer.NeonAnimatableBehavior={properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(a,
b){for(var c in b)a[c]=b[c]},_cloneConfig:function(a){var b={isClone:!0};this._copyProperties(b,a);return b},_getAnimationConfigRecursive:function(a,b,c){if(this.animationConfig)if(this.animationConfig.value&&"function"===typeof this.animationConfig.value)this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));else{var d=a?this.animationConfig[a]:this.animationConfig;Array.isArray(d)||(d=[d]);if(d)for(var e,g=0;e=
d[g];g++)if(e.animatable)e.animatable._getAnimationConfigRecursive(e.type||a,b,c);else if(e.id){var h=b[e.id];h?(h.isClone||(b[e.id]=this._cloneConfig(h),h=b[e.id]),this._copyProperties(h,e)):b[e.id]=e}else c.push(e)}},getAnimationConfig:function(a){var b={},c=[];this._getAnimationConfigRecursive(a,b,c);for(var d in b)c.push(b[d]);return c}};
</script>


<script>//~~WEBPATH~~/neon-animation/neon-animation-runner-behavior.html.js
Polymer.NeonAnimationRunnerBehaviorImpl={_configureAnimations:function(a){var b=[],c=[];if(0<a.length)for(var d,e=0;d=a[e];e++){var g=document.createElement(d.name);if(g.isNeonAnimation){var h=null;g.configure||(g.configure=function(){return null});h=g.configure(d);c.push({result:h,config:d,neonAnimation:g})}else console.warn(this.is+":",d.name,"not found!")}for(a=0;a<c.length;a++){h=c[a].result;d=c[a].config;g=c[a].neonAnimation;try{"function"!=typeof h.cancel&&(h=document.timeline.play(h))}catch(k){h=
null,console.warn("Couldnt play","(",d.name,").",k)}h&&b.push({neonAnimation:g,config:d,animation:h})}return b},_shouldComplete:function(a){for(var b=!0,c=0;c<a.length;c++)if("finished"!=a[c].animation.playState){b=!1;break}return b},_complete:function(a){for(var b=0;b<a.length;b++)a[b].neonAnimation.complete(a[b].config);for(b=0;b<a.length;b++)a[b].animation.cancel()},playAnimation:function(a,b){var c=this.getAnimationConfig(a);if(c){this._active=this._active||{};this._active[a]&&(this._complete(this._active[a]),
delete this._active[a]);var d=this._configureAnimations(c);if(0==d.length)this.fire("neon-animation-finish",b,{bubbles:!1});else for(this._active[a]=d,c=0;c<d.length;c++)d[c].animation.onfinish=function(){this._shouldComplete(d)&&(this._complete(d),delete this._active[a],this.fire("neon-animation-finish",b,{bubbles:!1}))}.bind(this)}},cancelAnimation:function(){for(var a in this._active){var b=this._active[a],c;for(c in b)b[c].animation&&b[c].animation.cancel&&b[c].animation.cancel()}this._active=
{}}};Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl];
</script>





<script>//~~WEBPATH~~/neon-animation/neon-animation-behavior.html.js
Polymer.NeonAnimationBehavior={properties:{animationTiming:{type:Object,value:function(){return{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}}}},isNeonAnimation:!0,created:function(){document.body.animate||console.warn("No web animations detected. This element will not function without a web animations polyfill.")},timingFromConfig:function(a){if(a.timing)for(var b in a.timing)this.animationTiming[b]=a.timing[b];return this.animationTiming},setPrefixedProperty:function(a,b,c){for(var d=
{transform:["webkitTransform"],transformOrigin:["mozTransformOrigin","webkitTransformOrigin"]}[b],e,g=0;e=d[g];g++)a.style[e]=c;a.style[b]=c},complete:function(){}};
</script>





<script>//~~WEBPATH~~/neon-animation/animations/fade-in-animation.html.js
Polymer({is:"fade-in-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){return this._effect=new KeyframeEffect(a.node,[{opacity:"0"},{opacity:"1"}],this.timingFromConfig(a))}});
</script>







<script>//~~WEBPATH~~/neon-animation/animations/fade-out-animation.html.js
Polymer({is:"fade-out-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){return this._effect=new KeyframeEffect(a.node,[{opacity:"1"},{opacity:"0"}],this.timingFromConfig(a))}});
</script>




<dom-module id="paper-tooltip">
  <template>
    <style>
      :host {
        display: block;
        position: absolute;
        outline: none;
        z-index: 1002;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;
        cursor: default;
      }

      #tooltip {
        display: block;
        outline: none;
        @apply --paper-font-common-base;
        font-size: 10px;
        line-height: 1;

        background-color: var(--paper-tooltip-background, #616161);
        opacity: var(--paper-tooltip-opacity, 0.9);
        color: var(--paper-tooltip-text-color, white);

        padding: 8px;
        border-radius: 2px;

        @apply --paper-tooltip;
      }

      /* Thanks IE 10. */
      .hidden {
        display: none !important;
      }
    </style>

    <div id="tooltip" class="hidden">
      <slot></slot>
    </div>
  </template>

  <script>//~~WEBPATH~~/paper-tooltip/paper-tooltip.html.js
Polymer({is:"paper-tooltip",hostAttributes:{role:"tooltip",tabindex:-1},behaviors:[Polymer.NeonAnimationRunnerBehavior],properties:{for:{type:String,observer:"_findTarget"},manualMode:{type:Boolean,value:!1,observer:"_manualModeChanged"},position:{type:String,value:"bottom"},fitToVisibleBounds:{type:Boolean,value:!1},offset:{type:Number,value:14},marginTop:{type:Number,value:14},animationDelay:{type:Number,value:500},animationConfig:{type:Object,value:function(){return{entry:[{name:"fade-in-animation",
node:this,timing:{delay:0}}],exit:[{name:"fade-out-animation",node:this}]}}},_showing:{type:Boolean,value:!1}},listeners:{"neon-animation-finish":"_onAnimationFinish"},get target(){var a=Polymer.dom(this).parentNode,b=Polymer.dom(this).getOwnerRoot();return this.for?Polymer.dom(b).querySelector("#"+this.for):a?a.nodeType==Node.DOCUMENT_FRAGMENT_NODE?b.host:a:null},attached:function(){this._findTarget()},detached:function(){this.manualMode||this._removeListeners()},show:function(){if(!this._showing){if(""===
Polymer.dom(this).textContent.trim()){for(var a=!0,b=Polymer.dom(this).getEffectiveChildNodes(),c=0;c<b.length;c++)if(""!==b[c].textContent.trim()){a=!1;break}if(a)return}this.cancelAnimation();this._showing=!0;this.toggleClass("hidden",!1,this.$.tooltip);this.updatePosition();this.animationConfig.entry[0].timing=this.animationConfig.entry[0].timing||{};this.animationConfig.entry[0].timing.delay=this.animationDelay;this._animationPlaying=!0;this.playAnimation("entry")}},hide:function(){this._showing&&
(this._animationPlaying?(this.cancelAnimation(),this._showing=!1,this._onAnimationFinish()):(this._showing=!1,this._animationPlaying=!0,this.playAnimation("exit")))},updatePosition:function(){if(this._target&&this.offsetParent){var a=this.offset;14!=this.marginTop&&14==this.offset&&(a=this.marginTop);var b=this.offsetParent.getBoundingClientRect(),c=this._target.getBoundingClientRect(),d=this.getBoundingClientRect(),e=(c.width-d.width)/2,g=(c.height-d.height)/2,h=c.left-b.left,k=c.top-b.top;switch(this.position){case "top":var l=
h+e;var m=k-d.height-a;break;case "bottom":l=h+e;m=k+c.height+a;break;case "left":l=h-d.width-a;m=k+g;break;case "right":l=h+c.width+a,m=k+g}this.fitToVisibleBounds?(b.left+l+d.width>window.innerWidth?(this.style.right="0px",this.style.left="auto"):(this.style.left=Math.max(0,l)+"px",this.style.right="auto"),b.top+m+d.height>window.innerHeight?(this.style.bottom=b.height+"px",this.style.top="auto"):(this.style.top=Math.max(-b.top,m)+"px",this.style.bottom="auto")):(this.style.left=l+"px",this.style.top=
m+"px")}},_addListeners:function(){this._target&&(this.listen(this._target,"mouseenter","show"),this.listen(this._target,"focus","show"),this.listen(this._target,"mouseleave","hide"),this.listen(this._target,"blur","hide"),this.listen(this._target,"tap","hide"));this.listen(this,"mouseenter","hide")},_findTarget:function(){this.manualMode||this._removeListeners();this._target=this.target;this.manualMode||this._addListeners()},_manualModeChanged:function(){this.manualMode?this._removeListeners():this._addListeners()},
_onAnimationFinish:function(){this._animationPlaying=!1;this._showing||this.toggleClass("hidden",!0,this.$.tooltip)},_removeListeners:function(){this._target&&(this.unlisten(this._target,"mouseenter","show"),this.unlisten(this._target,"focus","show"),this.unlisten(this._target,"mouseleave","hide"),this.unlisten(this._target,"blur","hide"),this.unlisten(this._target,"tap","hide"));this.unlisten(this,"mouseenter","hide")}});
</script>
</dom-module>


<dom-module id="vz-projector-styles">
<template>
<style>
:host {
  --paper-input-container-label: {
    font-size: 14px;
  };
  --paper-input-container-input: {
    font-size: 14px;
  };
  /* TODO: Figure out why this doesn't work */
  --paper-dropdown-menu-input: {
    font-size: 14px;
  };
}

paper-button {
  background: #e3e3e3;
  margin-left: 0;
  text-transform: none;
}

paper-dropdown-menu paper-item {
  font-size: 13px;
}

paper-tooltip {
  max-width: 200px;
  --paper-tooltip: {
    font-size: 12px;
  };
}

paper-checkbox {
  --paper-checkbox-checked-color: #880E4F;
}

paper-toggle-button {
  --paper-toggle-button-checked-bar-color:  #880E4F;
  --paper-toggle-button-checked-button-color:  #880E4F;
  --paper-toggle-button-checked-ink-color: #880E4F;
}

paper-icon-button {
  border-radius: 50%;
}

paper-icon-button[active] {
  color: white;
  background-color: #880E4F;
}

.slider {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  justify-content: space-between;
}

.slider span {
  width: 35px;
  text-align: right;
}

.slider label {
  align-items: center;
  display: flex;
}

.help-icon {
  height: 15px;
  left: 2px;
  min-width: 15px;
  min-height: 15px;
  margin: 0;
  padding: 0;
  top: -2px;
  width: 15px;
}

.ink-panel {
  display: flex;
  flex-direction: column;
  font-size: 14px;
}

.ink-panel h4 {
  border-bottom: 1px solid #ddd;
  font-size: 14px;
  font-weight: 500;
  margin: 0;
  margin-bottom: 10px;
  padding-bottom: 5px;
}

.ink-panel-header {
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  height: 50px;
}

.ink-panel-content {
  display: none;
  height: 100%;
}

.ink-panel-content.active {
  display: block;
}

.ink-panel-content h3 {
  font-weight: 500;
  font-size: 14px;
  margin-top: 20px;
  margin-bottom: 5px;
  text-transform: uppercase;
}

.ink-panel-header h3 {
  font-weight: 500;
  font-size: 14px;
  margin: 0;
  padding: 0 24px;
  text-transform: uppercase;
}


/* - Tabs */
.ink-tab-group {
  align-items: center;
  box-sizing: border-box;
  display: flex;
  height: 100%;
  justify-content: space-around;
}

.ink-tab-group .projection-tab {
  color: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  font-weight: 300;
  line-height: 49px;
  padding: 0 12px;
  text-align: center;
  text-transform: uppercase;
}

.ink-tab-group .projection-tab:hover {
  color: black;
}

.ink-tab-group .projection-tab.active {
  border-bottom: 2px solid black;
  color: black;
  font-weight: 500;
}

h4 {
  margin: 30px 0 10px 0;
}

.dismiss-dialog-note {
  margin-top: 25px;
  font-size: 11px;
  text-align: right;
}
</style>
</template>
</dom-module>




<script>//~~WEBPATH~~/iron-resizable-behavior/iron-resizable-behavior.html.js
(function(){var a=new Set;Polymer.IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[];this._boundNotifyResize=this.notifyResize.bind(this);this._boundOnDescendantIronResize=this._onDescendantIronResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?
this._parentResizable.stopResizeNotificationsFor(this):(a.delete(this),window.removeEventListener("resize",this._boundNotifyResize));this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(b){this.resizerShouldNotify(b)&&this._notifyDescendant(b)},this),this._fireResize())},assignParentResizable:function(b){this._parentResizable&&this._parentResizable.stopResizeNotificationsFor(this);(this._parentResizable=b)&&-1===b._interestedResizables.indexOf(this)&&
(b._interestedResizables.push(this),b._subscribeIronResize(this))},stopResizeNotificationsFor:function(b){var c=this._interestedResizables.indexOf(b);-1<c&&(this._interestedResizables.splice(c,1),this._unsubscribeIronResize(b))},_subscribeIronResize:function(b){b.addEventListener("iron-resize",this._boundOnDescendantIronResize)},_unsubscribeIronResize:function(b){b.removeEventListener("iron-resize",this._boundOnDescendantIronResize)},resizerShouldNotify:function(){return!0},_onDescendantIronResize:function(b){this._notifyingDescendant?
b.stopPropagation():Polymer.Settings.useShadow||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(b){var c=Polymer.dom(b).rootTarget;c!==this&&(c.assignParentResizable(this),this._notifyDescendant(c),b.stopPropagation())},_parentResizableChanged:function(b){b&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(b){this.isAttached&&(this._notifyingDescendant=!0,b.notifyResize(),
this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(this.isAttached)if("loading"===document.readyState){var b=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",function d(){document.removeEventListener("readystatechange",d);b()})}else this._findParent(),this._parentResizable?this._parentResizable._interestedResizables.forEach(function(c){c!==this&&c._findParent()},this):(a.forEach(function(c){c!==this&&c._findParent()},this),window.addEventListener("resize",
this._boundNotifyResize),this.notifyResize())},_findParent:function(){this.assignParentResizable(null);this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0});this._parentResizable?a.delete(this):a.add(this)}}})();
</script>




<dom-module id="iron-collapse">

  <template>

    <style>
      :host {
        display: block;
        transition-duration: var(--iron-collapse-transition-duration, 300ms);
        /* Safari 10 needs this property prefixed to correctly apply the custom property */
        -webkit-transition-duration: var(--iron-collapse-transition-duration, 300ms);
        overflow: visible;
      }

      :host(.iron-collapse-closed) {
        display: none;
      }

      :host(:not(.iron-collapse-opened)) {
        overflow: hidden;
      }
    </style>

    <slot></slot>

  </template>

</dom-module>

<script>//~~WEBPATH~~/iron-collapse/iron-collapse.html.js
Polymer({is:"iron-collapse",behaviors:[Polymer.IronResizableBehavior],properties:{horizontal:{type:Boolean,value:!1,observer:"_horizontalChanged"},opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},transitioning:{type:Boolean,notify:!0,readOnly:!0},noAnimation:{type:Boolean},_desiredSize:{type:String,value:""}},get dimension(){return this.horizontal?"width":"height"},get _dimensionMax(){return this.horizontal?"maxWidth":"maxHeight"},get _dimensionMaxCss(){return this.horizontal?"max-width":
"max-height"},hostAttributes:{role:"group","aria-hidden":"true"},listeners:{transitionend:"_onTransitionEnd"},toggle:function(){this.opened=!this.opened},show:function(){this.opened=!0},hide:function(){this.opened=!1},updateSize:function(a,b){a="auto"===a?"":a;b=b&&!this.noAnimation&&this.isAttached&&this._desiredSize!==a;this._desiredSize=a;this._updateTransition(!1);b&&(b=this._calcSize(),""===a&&(this.style[this._dimensionMax]="",a=this._calcSize()),this.style[this._dimensionMax]=b,this.scrollTop=
this.scrollTop,this._updateTransition(!0),b=a!==b);this.style[this._dimensionMax]=a;b||this._transitionEnd()},enableTransition:function(a){Polymer.Base._warn("`enableTransition()` is deprecated, use `noAnimation` instead.");this.noAnimation=!a},_updateTransition:function(a){this.style.transitionDuration=a&&!this.noAnimation?"":"0s"},_horizontalChanged:function(){this.style.transitionProperty=this._dimensionMaxCss;this.style["maxWidth"===this._dimensionMax?"maxHeight":"maxWidth"]="";this.updateSize(this.opened?
"auto":"0px",!1)},_openedChanged:function(){this.setAttribute("aria-hidden",!this.opened);this._setTransitioning(!0);this.toggleClass("iron-collapse-closed",!1);this.toggleClass("iron-collapse-opened",!1);this.updateSize(this.opened?"auto":"0px",!0);this.opened&&this.focus()},_transitionEnd:function(){this.style[this._dimensionMax]=this._desiredSize;this.toggleClass("iron-collapse-closed",!this.opened);this.toggleClass("iron-collapse-opened",this.opened);this._updateTransition(!1);this.notifyResize();
this._setTransitioning(!1)},_onTransitionEnd:function(a){Polymer.dom(a).rootTarget===this&&this._transitionEnd()},_calcSize:function(){return this.getBoundingClientRect()[this.dimension]+"px"}});
</script>





<script>//~~WEBPATH~~/iron-iconset-svg/iron-iconset-svg.html.js
Polymer({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1},useGlobalRtlAttribute:{type:Boolean,value:!1}},created:function(){this._meta=new Polymer.IronMeta({type:"iconset",key:null,value:null})},attached:function(){this.style.display="none"},getIconNames:function(){this._icons=this._createIconMap();return Object.keys(this._icons).map(function(a){return this.name+":"+a},this)},applyIcon:function(a,b){this.removeIcon(a);
if(b=this._cloneIcon(b,this.rtlMirroring&&this._targetIsRTL(a))){var c=Polymer.dom(a.root||a);c.insertBefore(b,c.childNodes[0]);return a._svgIcon=b}return null},removeIcon:function(a){a._svgIcon&&(Polymer.dom(a.root||a).removeChild(a._svgIcon),a._svgIcon=null)},_targetIsRTL:function(a){null==this.__targetIsRTL&&(this.useGlobalRtlAttribute?this.__targetIsRTL="rtl"===(document.body&&document.body.hasAttribute("dir")?document.body:document.documentElement).getAttribute("dir"):(a&&a.nodeType!==Node.ELEMENT_NODE&&
(a=a.host),this.__targetIsRTL=a&&"rtl"===window.getComputedStyle(a).direction));return this.__targetIsRTL},_nameChanged:function(){this._meta.value=null;this._meta.key=this.name;this._meta.value=this;this.async(function(){this.fire("iron-iconset-added",this,{node:window})})},_createIconMap:function(){var a=Object.create(null);Polymer.dom(this).querySelectorAll("[id]").forEach(function(b){a[b.id]=b});return a},_cloneIcon:function(a,b){this._icons=this._icons||this._createIconMap();return this._prepareSvgClone(this._icons[a],
this.size,b)},_prepareSvgClone:function(a,b,c){if(a){a=a.cloneNode(!0);var d=document.createElementNS("http://www.w3.org/2000/svg","svg");b=a.getAttribute("viewBox")||"0 0 "+b+" "+b;var e="pointer-events: none; display: block; width: 100%; height: 100%;";c&&a.hasAttribute("mirror-in-rtl")&&(e+="-webkit-transform:scale(-1,1);transform:scale(-1,1);transform-origin:center;");d.setAttribute("viewBox",b);d.setAttribute("preserveAspectRatio","xMidYMid meet");d.setAttribute("focusable","false");d.style.cssText=
e;d.appendChild(a).removeAttribute("id");return d}return null}});
</script>

<iron-iconset-svg name="image" size="24">
<svg><defs>
<g id="add-a-photo"><path d="M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z" /></g>
<g id="add-to-photos"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z" /></g>
<g id="adjust"><path d="M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z" /></g>
<g id="assistant"><path d="M19 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-5.12 10.88L12 17l-1.88-4.12L6 11l4.12-1.88L12 5l1.88 4.12L18 11l-4.12 1.88z" /></g>
<g id="assistant-photo"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z" /></g>
<g id="audiotrack"><path d="M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z" /></g>
<g id="blur-circular"><path d="M10 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zM7 9.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm3 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-3-3c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm3-6c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-1.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm3 6c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-4c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm2-3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-3.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z" /></g>
<g id="blur-linear"><path d="M5 17.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 13c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zM3 21h18v-2H3v2zM5 9.5c.83 0 1.5-.67 1.5-1.5S5.83 6.5 5 6.5 3.5 7.17 3.5 8 4.17 9.5 5 9.5zm0 4c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 17c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8-.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM3 3v2h18V3H3zm14 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm0 4c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM13 9c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1z" /></g>
<g id="blur-off"><path d="M14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm-.2 4.48l.2.02c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5l.02.2c.09.67.61 1.19 1.28 1.28zM14 3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-4 0c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm11 7c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8 8c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm-4 13.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM2.5 5.27l3.78 3.78L6 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1c0-.1-.03-.19-.06-.28l2.81 2.81c-.71.11-1.25.73-1.25 1.47 0 .83.67 1.5 1.5 1.5.74 0 1.36-.54 1.47-1.25l2.81 2.81c-.09-.03-.18-.06-.28-.06-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1c0-.1-.03-.19-.06-.28l3.78 3.78L20 20.23 3.77 4 2.5 5.27zM10 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm11-3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zM3 9.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 11c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3-3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5z" /></g>
<g id="blur-on"><path d="M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z" /></g>
<g id="brightness-1"><circle cx="12" cy="12" r="10" /></g>
<g id="brightness-2"><path d="M10 2c-1.82 0-3.53.5-5 1.35C7.99 5.08 10 8.3 10 12s-2.01 6.92-5 8.65C6.47 21.5 8.18 22 10 22c5.52 0 10-4.48 10-10S15.52 2 10 2z" /></g>
<g id="brightness-3"><path d="M9 2c-1.05 0-2.05.16-3 .46 4.06 1.27 7 5.06 7 9.54 0 4.48-2.94 8.27-7 9.54.95.3 1.95.46 3 .46 5.52 0 10-4.48 10-10S14.52 2 9 2z" /></g>
<g id="brightness-4"><path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6z" /></g>
<g id="brightness-5"><path d="M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z" /></g>
<g id="brightness-6"><path d="M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18V6c3.31 0 6 2.69 6 6s-2.69 6-6 6z" /></g>
<g id="brightness-7"><path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z" /></g>
<g id="broken-image"><path d="M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2zm-3 6.42l3 3.01V19c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-6.58l3 2.99 4-4 4 4 4-3.99z" /></g>
<g id="brush"><path d="M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z" /></g>
<g id="burst-mode"><path d="M1 5h2v14H1zm4 0h2v14H5zm17 0H10c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zM11 17l2.5-3.15L15.29 16l2.5-3.22L21 17H11z" /></g>
<g id="camera"><path d="M9.4 10.5l4.77-8.26C13.47 2.09 12.75 2 12 2c-2.4 0-4.6.85-6.32 2.25l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25C21 16.97 22 14.61 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75C3.01 7.03 2 9.39 2 12c0 .69.07 1.35.2 2h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0l-3.9 6.76c.7.15 1.42.24 2.17.24 2.4 0 4.6-.85 6.32-2.25l-3.66-6.35-.93 1.6z" /></g>
<g id="camera-alt"><circle cx="12" cy="12" r="3.2" /><path d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z" /></g>
<g id="camera-front"><path d="M10 20H5v2h5v2l3-3-3-3v2zm4 0v2h5v-2h-5zM12 8c1.1 0 2-.9 2-2s-.9-2-2-2-1.99.9-1.99 2S10.9 8 12 8zm5-8H7C5.9 0 5 .9 5 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zM7 2h10v10.5c0-1.67-3.33-2.5-5-2.5s-5 .83-5 2.5V2z" /></g>
<g id="camera-rear"><path d="M10 20H5v2h5v2l3-3-3-3v2zm4 0v2h5v-2h-5zm3-20H7C5.9 0 5 .9 5 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zm-5 6c-1.11 0-2-.9-2-2s.89-2 1.99-2 2 .9 2 2C14 5.1 13.1 6 12 6z" /></g>
<g id="camera-roll"><path d="M14 5c0-1.1-.9-2-2-2h-1V2c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1v1H4c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2h8V5h-8zm-2 13h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2z" /></g>
<g id="center-focus-strong"><path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-7 7H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4z" /></g>
<g id="center-focus-weak"><path d="M5 15H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z" /></g>
<g id="collections"><path d="M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4l2.03 2.71L16 11l4 5H8l3-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z" /></g>
<g id="collections-bookmark"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 10l-2.5-1.5L15 12V4h5v8z" /></g>
<g id="color-lens"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z" /></g>
<g id="colorize"><path d="M20.71 5.63l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z" /></g>
<g id="compare"><path d="M10 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v2h2V1h-2v2zm0 15H5l5-6v6zm9-15h-5v2h5v13l-5-6v9h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" /></g>
<g id="control-point"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" /></g>
<g id="control-point-duplicate"><path d="M16 8h-2v3h-3v2h3v3h2v-3h3v-2h-3zM2 12c0-2.79 1.64-5.2 4.01-6.32V3.52C2.52 4.76 0 8.09 0 12s2.52 7.24 6.01 8.48v-2.16C3.64 17.2 2 14.79 2 12zm13-9c-4.96 0-9 4.04-9 9s4.04 9 9 9 9-4.04 9-9-4.04-9-9-9zm0 16c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7z" /></g>
<g id="crop"><path d="M17 15h2V7c0-1.1-.9-2-2-2H9v2h8v8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2H7z" /></g>
<g id="crop-16-9"><path d="M19 6H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H5V8h14v8z" /></g>
<g id="crop-3-2"><path d="M19 4H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H5V6h14v12z" /></g>
<g id="crop-5-4"><path d="M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 12H5V7h14v10z" /></g>
<g id="crop-7-5"><path d="M19 7H5c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm0 8H5V9h14v6z" /></g>
<g id="crop-din"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z" /></g>
<g id="crop-free"><path d="M3 5v4h2V5h4V3H5c-1.1 0-2 .9-2 2zm2 10H3v4c0 1.1.9 2 2 2h4v-2H5v-4zm14 4h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zm0-16h-4v2h4v4h2V5c0-1.1-.9-2-2-2z" /></g>
<g id="crop-landscape"><path d="M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 12H5V7h14v10z" /></g>
<g id="crop-original"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z" /></g>
<g id="crop-portrait"><path d="M17 3H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H7V5h10v14z" /></g>
<g id="crop-rotate"><path d="M7.47 21.49C4.2 19.93 1.86 16.76 1.5 13H0c.51 6.16 5.66 11 11.95 11 .23 0 .44-.02.66-.03L8.8 20.15l-1.33 1.34zM12.05 0c-.23 0-.44.02-.66.04l3.81 3.81 1.33-1.33C19.8 4.07 22.14 7.24 22.5 11H24c-.51-6.16-5.66-11-11.95-11zM16 14h2V8c0-1.11-.9-2-2-2h-6v2h6v6zm-8 2V4H6v2H4v2h2v8c0 1.1.89 2 2 2h8v2h2v-2h2v-2H8z" /></g>
<g id="crop-square"><path d="M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H6V6h12v12z" /></g>
<g id="dehaze"><path d="M2 15.5v2h20v-2H2zm0-5v2h20v-2H2zm0-5v2h20v-2H2z" /></g>
<g id="details"><path d="M3 4l9 16 9-16H3zm3.38 2h11.25L12 16 6.38 6z" /></g>
<g id="edit"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" /></g>
<g id="exposure"><path d="M15 17v2h2v-2h2v-2h-2v-2h-2v2h-2v2h2zm5-15H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM5 5h6v2H5V5zm15 15H4L20 4v16z" /></g>
<g id="exposure-neg-1"><path d="M4 11v2h8v-2H4zm15 7h-2V7.38L14 8.4V6.7L18.7 5h.3v13z" /></g>
<g id="exposure-neg-2"><path d="M15.05 16.29l2.86-3.07c.38-.39.72-.79 1.04-1.18.32-.39.59-.78.82-1.17.23-.39.41-.78.54-1.17s.19-.79.19-1.18c0-.53-.09-1.02-.27-1.46-.18-.44-.44-.81-.78-1.11-.34-.31-.77-.54-1.26-.71-.51-.16-1.08-.24-1.72-.24-.69 0-1.31.11-1.85.32-.54.21-1 .51-1.36.88-.37.37-.65.8-.84 1.3-.18.47-.27.97-.28 1.5h2.14c.01-.31.05-.6.13-.87.09-.29.23-.54.4-.75.18-.21.41-.37.68-.49.27-.12.6-.18.96-.18.31 0 .58.05.81.15.23.1.43.25.59.43.16.18.28.4.37.65.08.25.13.52.13.81 0 .22-.03.43-.08.65-.06.22-.15.45-.29.7-.14.25-.32.53-.56.83-.23.3-.52.65-.88 1.03l-4.17 4.55V18H21v-1.71h-5.95zM2 11v2h8v-2H2z" /></g>
<g id="exposure-plus-1"><path d="M10 7H8v4H4v2h4v4h2v-4h4v-2h-4V7zm10 11h-2V7.38L15 8.4V6.7L19.7 5h.3v13z" /></g>
<g id="exposure-plus-2"><path d="M16.05 16.29l2.86-3.07c.38-.39.72-.79 1.04-1.18.32-.39.59-.78.82-1.17.23-.39.41-.78.54-1.17.13-.39.19-.79.19-1.18 0-.53-.09-1.02-.27-1.46-.18-.44-.44-.81-.78-1.11-.34-.31-.77-.54-1.26-.71-.51-.16-1.08-.24-1.72-.24-.69 0-1.31.11-1.85.32-.54.21-1 .51-1.36.88-.37.37-.65.8-.84 1.3-.18.47-.27.97-.28 1.5h2.14c.01-.31.05-.6.13-.87.09-.29.23-.54.4-.75.18-.21.41-.37.68-.49.27-.12.6-.18.96-.18.31 0 .58.05.81.15.23.1.43.25.59.43.16.18.28.4.37.65.08.25.13.52.13.81 0 .22-.03.43-.08.65-.06.22-.15.45-.29.7-.14.25-.32.53-.56.83-.23.3-.52.65-.88 1.03l-4.17 4.55V18H22v-1.71h-5.95zM8 7H6v4H2v2h4v4h2v-4h4v-2H8V7z" /></g>
<g id="exposure-zero"><path d="M16.14 12.5c0 1-.1 1.85-.3 2.55-.2.7-.48 1.27-.83 1.7-.36.44-.79.75-1.3.95-.51.2-1.07.3-1.7.3-.62 0-1.18-.1-1.69-.3-.51-.2-.95-.51-1.31-.95-.36-.44-.65-1.01-.85-1.7-.2-.7-.3-1.55-.3-2.55v-2.04c0-1 .1-1.85.3-2.55.2-.7.48-1.26.84-1.69.36-.43.8-.74 1.31-.93C10.81 5.1 11.38 5 12 5c.63 0 1.19.1 1.7.29.51.19.95.5 1.31.93.36.43.64.99.84 1.69.2.7.3 1.54.3 2.55v2.04zm-2.11-2.36c0-.64-.05-1.18-.13-1.62-.09-.44-.22-.79-.4-1.06-.17-.27-.39-.46-.64-.58-.25-.13-.54-.19-.86-.19-.32 0-.61.06-.86.18s-.47.31-.64.58c-.17.27-.31.62-.4 1.06s-.13.98-.13 1.62v2.67c0 .64.05 1.18.14 1.62.09.45.23.81.4 1.09s.39.48.64.61.54.19.87.19c.33 0 .62-.06.87-.19s.46-.33.63-.61c.17-.28.3-.64.39-1.09.09-.45.13-.99.13-1.62v-2.66z" /></g>
<g id="filter"><path d="M15.96 10.29l-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z" /></g>
<g id="filter-1"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm11 10h2V5h-4v2h2v8zm7-14H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z" /></g>
<g id="filter-2"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-4-4h-4v-2h2c1.1 0 2-.89 2-2V7c0-1.11-.9-2-2-2h-4v2h4v2h-2c-1.1 0-2 .89-2 2v4h6v-2z" /></g>
<g id="filter-3"><path d="M21 1H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm14 8v-1.5c0-.83-.67-1.5-1.5-1.5.83 0 1.5-.67 1.5-1.5V7c0-1.11-.9-2-2-2h-4v2h4v2h-2v2h2v2h-4v2h4c1.1 0 2-.89 2-2z" /></g>
<g id="filter-4"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm12 10h2V5h-2v4h-2V5h-2v6h4v4zm6-14H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z" /></g>
<g id="filter-5"><path d="M21 1H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm14 8v-2c0-1.11-.9-2-2-2h-2V7h4V5h-6v6h4v2h-4v2h4c1.1 0 2-.89 2-2z" /></g>
<g id="filter-6"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-8-2h2c1.1 0 2-.89 2-2v-2c0-1.11-.9-2-2-2h-2V7h4V5h-4c-1.1 0-2 .89-2 2v6c0 1.11.9 2 2 2zm0-4h2v2h-2v-2z" /></g>
<g id="filter-7"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-8-2l4-8V5h-6v2h4l-4 8h2z" /></g>
<g id="filter-8"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-8-2h2c1.1 0 2-.89 2-2v-1.5c0-.83-.67-1.5-1.5-1.5.83 0 1.5-.67 1.5-1.5V7c0-1.11-.9-2-2-2h-2c-1.1 0-2 .89-2 2v1.5c0 .83.67 1.5 1.5 1.5-.83 0-1.5.67-1.5 1.5V13c0 1.11.9 2 2 2zm0-8h2v2h-2V7zm0 4h2v2h-2v-2z" /></g>
<g id="filter-9"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zM15 5h-2c-1.1 0-2 .89-2 2v2c0 1.11.9 2 2 2h2v2h-4v2h4c1.1 0 2-.89 2-2V7c0-1.11-.9-2-2-2zm0 4h-2V7h2v2z" /></g>
<g id="filter-9-plus"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm11 7V8c0-1.11-.9-2-2-2h-1c-1.1 0-2 .89-2 2v1c0 1.11.9 2 2 2h1v1H9v2h3c1.1 0 2-.89 2-2zm-3-3V8h1v1h-1zm10-8H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 8h-2V7h-2v2h-2v2h2v2h2v-2h2v6H7V3h14v6z" /></g>
<g id="filter-b-and-w"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16l-7-8v8H5l7-8V5h7v14z" /></g>
<g id="filter-center-focus"><path d="M5 15H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zM12 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" /></g>
<g id="filter-drama"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.61 5.64 5.36 8.04 2.35 8.36 0 10.9 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4h2c0-2.76-1.86-5.08-4.4-5.78C8.61 6.88 10.2 6 12 6c3.03 0 5.5 2.47 5.5 5.5v.5H19c1.65 0 3 1.35 3 3s-1.35 3-3 3z" /></g>
<g id="filter-frames"><path d="M20 4h-4l-4-4-4 4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H4V6h4.52l3.52-3.5L15.52 6H20v14zM18 8H6v10h12" /></g>
<g id="filter-hdr"><path d="M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z" /></g>
<g id="filter-none"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z" /></g>
<g id="filter-tilt-shift"><path d="M11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69c1.11-.86 2.44-1.44 3.9-1.62zm7.32.19C16.84 3.05 15.01 2.25 13 2.05v2.02c1.46.18 2.79.76 3.9 1.62l1.42-1.43zM19.93 11h2.02c-.2-2.01-1-3.84-2.21-5.32L18.31 7.1c.86 1.11 1.44 2.44 1.62 3.9zM5.69 7.1L4.26 5.68C3.05 7.16 2.25 8.99 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM4.07 13H2.05c.2 2.01 1 3.84 2.21 5.32l1.43-1.43c-.86-1.1-1.44-2.43-1.62-3.89zM15 12c0-1.66-1.34-3-3-3s-3 1.34-3 3 1.34 3 3 3 3-1.34 3-3zm3.31 4.9l1.43 1.43c1.21-1.48 2.01-3.32 2.21-5.32h-2.02c-.18 1.45-.76 2.78-1.62 3.89zM13 19.93v2.02c2.01-.2 3.84-1 5.32-2.21l-1.43-1.43c-1.1.86-2.43 1.44-3.89 1.62zm-7.32-.19C7.16 20.95 9 21.75 11 21.95v-2.02c-1.46-.18-2.79-.76-3.9-1.62l-1.42 1.43z" /></g>
<g id="filter-vintage"><path d="M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z" /></g>
<g id="flare"><path d="M7 11H1v2h6v-2zm2.17-3.24L7.05 5.64 5.64 7.05l2.12 2.12 1.41-1.41zM13 1h-2v6h2V1zm5.36 6.05l-1.41-1.41-2.12 2.12 1.41 1.41 2.12-2.12zM17 11v2h6v-2h-6zm-5-2c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm2.83 7.24l2.12 2.12 1.41-1.41-2.12-2.12-1.41 1.41zm-9.19.71l1.41 1.41 2.12-2.12-1.41-1.41-2.12 2.12zM11 23h2v-6h-2v6z" /></g>
<g id="flash-auto"><path d="M3 2v12h3v9l7-12H9l4-9H3zm16 0h-2l-3.2 9h1.9l.7-2h3.2l.7 2h1.9L19 2zm-2.15 5.65L18 4l1.15 3.65h-2.3z" /></g>
<g id="flash-off"><path d="M3.27 3L2 4.27l5 5V13h3v9l3.58-6.14L17.73 20 19 18.73 3.27 3zM17 10h-4l4-8H7v2.18l8.46 8.46L17 10z" /></g>
<g id="flash-on"><path d="M7 2v11h3v9l7-12h-4l4-8z" /></g>
<g id="flip"><path d="M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z" /></g>
<g id="gradient"><path d="M11 9h2v2h-2zm-2 2h2v2H9zm4 0h2v2h-2zm2-2h2v2h-2zM7 9h2v2H7zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z" /></g>
<g id="grain"><path d="M10 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12-8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-4 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" /></g>
<g id="grid-off"><path d="M8 4v1.45l2 2V4h4v4h-3.45l2 2H14v1.45l2 2V10h4v4h-3.45l2 2H20v1.45l2 2V4c0-1.1-.9-2-2-2H4.55l2 2H8zm8 0h4v4h-4V4zM1.27 1.27L0 2.55l2 2V20c0 1.1.9 2 2 2h15.46l2 2 1.27-1.27L1.27 1.27zM10 12.55L11.45 14H10v-1.45zm-6-6L5.45 8H4V6.55zM8 20H4v-4h4v4zm0-6H4v-4h3.45l.55.55V14zm6 6h-4v-4h3.45l.55.54V20zm2 0v-1.46L17.46 20H16z" /></g>
<g id="grid-on"><path d="M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z" /></g>
<g id="hdr-off"><path d="M17.5 15v-2h1.1l.9 2H21l-.9-2.1c.5-.2.9-.8.9-1.4v-1c0-.8-.7-1.5-1.5-1.5H16v4.9l1.1 1.1h.4zm0-4.5h2v1h-2v-1zm-4.5 0v.4l1.5 1.5v-1.9c0-.8-.7-1.5-1.5-1.5h-1.9l1.5 1.5h.4zm-3.5-1l-7-7-1.1 1L6.9 9h-.4v2h-2V9H3v6h1.5v-2.5h2V15H8v-4.9l1.5 1.5V15h3.4l7.6 7.6 1.1-1.1-12.1-12z" /></g>
<g id="hdr-on"><path d="M21 11.5v-1c0-.8-.7-1.5-1.5-1.5H16v6h1.5v-2h1.1l.9 2H21l-.9-2.1c.5-.3.9-.8.9-1.4zm-1.5 0h-2v-1h2v1zm-13-.5h-2V9H3v6h1.5v-2.5h2V15H8V9H6.5v2zM13 9H9.5v6H13c.8 0 1.5-.7 1.5-1.5v-3c0-.8-.7-1.5-1.5-1.5zm0 4.5h-2v-3h2v3z" /></g>
<g id="hdr-strong"><path d="M17 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zM5 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z" /></g>
<g id="hdr-weak"><path d="M5 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm12-2c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z" /></g>
<g id="healing"><path d="M17.73 12.02l3.98-3.98c.39-.39.39-1.02 0-1.41l-4.34-4.34c-.39-.39-1.02-.39-1.41 0l-3.98 3.98L8 2.29C7.8 2.1 7.55 2 7.29 2c-.25 0-.51.1-.7.29L2.25 6.63c-.39.39-.39 1.02 0 1.41l3.98 3.98L2.25 16c-.39.39-.39 1.02 0 1.41l4.34 4.34c.39.39 1.02.39 1.41 0l3.98-3.98 3.98 3.98c.2.2.45.29.71.29.26 0 .51-.1.71-.29l4.34-4.34c.39-.39.39-1.02 0-1.41l-3.99-3.98zM12 9c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-4.71 1.96L3.66 7.34l3.63-3.63 3.62 3.62-3.62 3.63zM10 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2-4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2.66 9.34l-3.63-3.62 3.63-3.63 3.62 3.62-3.62 3.63z" /></g>
<g id="image"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z" /></g>
<g id="image-aspect-ratio"><path d="M16 10h-2v2h2v-2zm0 4h-2v2h2v-2zm-8-4H6v2h2v-2zm4 0h-2v2h2v-2zm8-6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h16v12z" /></g>
<g id="iso"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5.5 7.5h2v-2H9v2h2V9H9v2H7.5V9h-2V7.5zM19 19H5L19 5v14zm-2-2v-1.5h-5V17h5z" /></g>
<g id="landscape"><path d="M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z" /></g>
<g id="leak-add"><path d="M6 3H3v3c1.66 0 3-1.34 3-3zm8 0h-2c0 4.97-4.03 9-9 9v2c6.08 0 11-4.93 11-11zm-4 0H8c0 2.76-2.24 5-5 5v2c3.87 0 7-3.13 7-7zm0 18h2c0-4.97 4.03-9 9-9v-2c-6.07 0-11 4.93-11 11zm8 0h3v-3c-1.66 0-3 1.34-3 3zm-4 0h2c0-2.76 2.24-5 5-5v-2c-3.87 0-7 3.13-7 7z" /></g>
<g id="leak-remove"><path d="M10 3H8c0 .37-.04.72-.12 1.06l1.59 1.59C9.81 4.84 10 3.94 10 3zM3 4.27l2.84 2.84C5.03 7.67 4.06 8 3 8v2c1.61 0 3.09-.55 4.27-1.46L8.7 9.97C7.14 11.24 5.16 12 3 12v2c2.71 0 5.19-.99 7.11-2.62l2.5 2.5C10.99 15.81 10 18.29 10 21h2c0-2.16.76-4.14 2.03-5.69l1.43 1.43C14.55 17.91 14 19.39 14 21h2c0-1.06.33-2.03.89-2.84L19.73 21 21 19.73 4.27 3 3 4.27zM14 3h-2c0 1.5-.37 2.91-1.02 4.16l1.46 1.46C13.42 6.98 14 5.06 14 3zm5.94 13.12c.34-.08.69-.12 1.06-.12v-2c-.94 0-1.84.19-2.66.52l1.6 1.6zm-4.56-4.56l1.46 1.46C18.09 12.37 19.5 12 21 12v-2c-2.06 0-3.98.58-5.62 1.56z" /></g>
<g id="lens"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z" /></g>
<g id="linked-camera"><circle cx="12" cy="14" r="3.2" /><path d="M16 3.33c2.58 0 4.67 2.09 4.67 4.67H22c0-3.31-2.69-6-6-6v1.33M16 6c1.11 0 2 .89 2 2h1.33c0-1.84-1.49-3.33-3.33-3.33V6" /><path d="M17 9c0-1.11-.89-2-2-2V4H9L7.17 6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9h-5zm-5 10c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z" /></g>
<g id="looks"><path d="M12 10c-3.86 0-7 3.14-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.86-3.14-7-7-7zm0-4C5.93 6 1 10.93 1 17h2c0-4.96 4.04-9 9-9s9 4.04 9 9h2c0-6.07-4.93-11-11-11z" /></g>
<g id="looks-3"><path d="M19.01 3h-14c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 7.5c0 .83-.67 1.5-1.5 1.5.83 0 1.5.67 1.5 1.5V15c0 1.11-.9 2-2 2h-4v-2h4v-2h-2v-2h2V9h-4V7h4c1.1 0 2 .89 2 2v1.5z" /></g>
<g id="looks-4"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 14h-2v-4H9V7h2v4h2V7h2v10z" /></g>
<g id="looks-5"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 6h-4v2h2c1.1 0 2 .89 2 2v2c0 1.11-.9 2-2 2H9v-2h4v-2H9V7h6v2z" /></g>
<g id="looks-6"><path d="M11 15h2v-2h-2v2zm8-12H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 6h-4v2h2c1.1 0 2 .89 2 2v2c0 1.11-.9 2-2 2h-2c-1.1 0-2-.89-2-2V9c0-1.11.9-2 2-2h4v2z" /></g>
<g id="looks-one"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14h-2V9h-2V7h4v10z" /></g>
<g id="looks-two"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 8c0 1.11-.9 2-2 2h-2v2h4v2H9v-4c0-1.11.9-2 2-2h2V9H9V7h4c1.1 0 2 .89 2 2v2z" /></g>
<g id="loupe"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10h8c1.1 0 2-.9 2-2v-8c0-5.51-4.49-10-10-10zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" /></g>
<g id="monochrome-photos"><path d="M20 5h-3.2L15 3H9L7.2 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 14h-8v-1c-2.8 0-5-2.2-5-5s2.2-5 5-5V7h8v12zm-3-6c0-2.8-2.2-5-5-5v1.8c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2V18c2.8 0 5-2.2 5-5zm-8.2 0c0 1.8 1.4 3.2 3.2 3.2V9.8c-1.8 0-3.2 1.4-3.2 3.2z" /></g>
<g id="movie-creation"><path d="M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z" /></g>
<g id="movie-filter"><path d="M18 4l2 3h-3l-2-3h-2l2 3h-3l-2-3H8l2 3H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4zm-6.75 11.25L10 18l-1.25-2.75L6 14l2.75-1.25L10 10l1.25 2.75L14 14l-2.75 1.25zm5.69-3.31L16 14l-.94-2.06L13 11l2.06-.94L16 8l.94 2.06L19 11l-2.06.94z" /></g>
<g id="music-note"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z" /></g>
<g id="nature"><path d="M13 16.12c3.47-.41 6.17-3.36 6.17-6.95 0-3.87-3.13-7-7-7s-7 3.13-7 7c0 3.47 2.52 6.34 5.83 6.89V20H5v2h14v-2h-6v-3.88z" /></g>
<g id="nature-people"><path d="M22.17 9.17c0-3.87-3.13-7-7-7s-7 3.13-7 7c0 3.47 2.52 6.34 5.83 6.89V20H6v-3h1v-4c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v4h1v5h16v-2h-3v-3.88c3.47-.41 6.17-3.36 6.17-6.95zM4.5 11c.83 0 1.5-.67 1.5-1.5S5.33 8 4.5 8 3 8.67 3 9.5 3.67 11 4.5 11z" /></g>
<g id="navigate-before"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" /></g>
<g id="navigate-next"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" /></g>
<g id="palette"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z" /></g>
<g id="panorama"><path d="M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z" /></g>
<g id="panorama-fish-eye"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" /></g>
<g id="panorama-horizontal"><path d="M20 6.54v10.91c-2.6-.77-5.28-1.16-8-1.16-2.72 0-5.4.39-8 1.16V6.54c2.6.77 5.28 1.16 8 1.16 2.72.01 5.4-.38 8-1.16M21.43 4c-.1 0-.2.02-.31.06C18.18 5.16 15.09 5.7 12 5.7c-3.09 0-6.18-.55-9.12-1.64-.11-.04-.22-.06-.31-.06-.34 0-.57.23-.57.63v14.75c0 .39.23.62.57.62.1 0 .2-.02.31-.06 2.94-1.1 6.03-1.64 9.12-1.64 3.09 0 6.18.55 9.12 1.64.11.04.21.06.31.06.33 0 .57-.23.57-.63V4.63c0-.4-.24-.63-.57-.63z" /></g>
<g id="panorama-vertical"><path d="M19.94 21.12c-1.1-2.94-1.64-6.03-1.64-9.12 0-3.09.55-6.18 1.64-9.12.04-.11.06-.22.06-.31 0-.34-.23-.57-.63-.57H4.63c-.4 0-.63.23-.63.57 0 .1.02.2.06.31C5.16 5.82 5.71 8.91 5.71 12c0 3.09-.55 6.18-1.64 9.12-.05.11-.07.22-.07.31 0 .33.23.57.63.57h14.75c.39 0 .63-.24.63-.57-.01-.1-.03-.2-.07-.31zM6.54 20c.77-2.6 1.16-5.28 1.16-8 0-2.72-.39-5.4-1.16-8h10.91c-.77 2.6-1.16 5.28-1.16 8 0 2.72.39 5.4 1.16 8H6.54z" /></g>
<g id="panorama-wide-angle"><path d="M12 6c2.45 0 4.71.2 7.29.64.47 1.78.71 3.58.71 5.36 0 1.78-.24 3.58-.71 5.36-2.58.44-4.84.64-7.29.64s-4.71-.2-7.29-.64C4.24 15.58 4 13.78 4 12c0-1.78.24-3.58.71-5.36C7.29 6.2 9.55 6 12 6m0-2c-2.73 0-5.22.24-7.95.72l-.93.16-.25.9C2.29 7.85 2 9.93 2 12s.29 4.15.87 6.22l.25.89.93.16c2.73.49 5.22.73 7.95.73s5.22-.24 7.95-.72l.93-.16.25-.89c.58-2.08.87-4.16.87-6.23s-.29-4.15-.87-6.22l-.25-.89-.93-.16C17.22 4.24 14.73 4 12 4z" /></g>
<g id="photo"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z" /></g>
<g id="photo-album"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4zm0 15l3-3.86 2.14 2.58 3-3.86L18 19H6z" /></g>
<g id="photo-camera"><circle cx="12" cy="12" r="3.2" /><path d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z" /></g>
<g id="photo-filter"><path d="M19.02 10v9H5V5h9V3H5.02c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-9h-2zM17 10l.94-2.06L20 7l-2.06-.94L17 4l-.94 2.06L14 7l2.06.94zm-3.75.75L12 8l-1.25 2.75L8 12l2.75 1.25L12 16l1.25-2.75L16 12z" /></g>
<g id="photo-library"><path d="M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4l2.03 2.71L16 11l4 5H8l3-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z" /></g>
<g id="photo-size-select-actual"><path d="M21 3H3C2 3 1 4 1 5v14c0 1.1.9 2 2 2h18c1 0 2-1 2-2V5c0-1-1-2-2-2zM5 17l3.5-4.5 2.5 3.01L14.5 11l4.5 6H5z" /></g>
<g id="photo-size-select-large"><path d="M21 15h2v2h-2v-2zm0-4h2v2h-2v-2zm2 8h-2v2c1 0 2-1 2-2zM13 3h2v2h-2V3zm8 4h2v2h-2V7zm0-4v2h2c0-1-1-2-2-2zM1 7h2v2H1V7zm16-4h2v2h-2V3zm0 16h2v2h-2v-2zM3 3C2 3 1 4 1 5h2V3zm6 0h2v2H9V3zM5 3h2v2H5V3zm-4 8v8c0 1.1.9 2 2 2h12V11H1zm2 8l2.5-3.21 1.79 2.15 2.5-3.22L13 19H3z" /></g>
<g id="photo-size-select-small"><path d="M23 15h-2v2h2v-2zm0-4h-2v2h2v-2zm0 8h-2v2c1 0 2-1 2-2zM15 3h-2v2h2V3zm8 4h-2v2h2V7zm-2-4v2h2c0-1-1-2-2-2zM3 21h8v-6H1v4c0 1.1.9 2 2 2zM3 7H1v2h2V7zm12 12h-2v2h2v-2zm4-16h-2v2h2V3zm0 16h-2v2h2v-2zM3 3C2 3 1 4 1 5h2V3zm0 8H1v2h2v-2zm8-8H9v2h2V3zM7 3H5v2h2V3z" /></g>
<g id="picture-as-pdf"><path d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z" /></g>
<g id="portrait"><path d="M12 12.25c1.24 0 2.25-1.01 2.25-2.25S13.24 7.75 12 7.75 9.75 8.76 9.75 10s1.01 2.25 2.25 2.25zm4.5 4c0-1.5-3-2.25-4.5-2.25s-4.5.75-4.5 2.25V17h9v-.75zM19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z" /></g>
<g id="remove-red-eye"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" /></g>
<g id="rotate-90-degrees-ccw"><path d="M7.34 6.41L.86 12.9l6.49 6.48 6.49-6.48-6.5-6.49zM3.69 12.9l3.66-3.66L11 12.9l-3.66 3.66-3.65-3.66zm15.67-6.26C17.61 4.88 15.3 4 13 4V.76L8.76 5 13 9.24V6c1.79 0 3.58.68 4.95 2.05 2.73 2.73 2.73 7.17 0 9.9C16.58 19.32 14.79 20 13 20c-.97 0-1.94-.21-2.84-.61l-1.49 1.49C10.02 21.62 11.51 22 13 22c2.3 0 4.61-.88 6.36-2.64 3.52-3.51 3.52-9.21 0-12.72z" /></g>
<g id="rotate-left"><path d="M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z" /></g>
<g id="rotate-right"><path d="M15.55 5.55L11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47h2.02zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03zm3.89-2.42l1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48z" /></g>
<g id="slideshow"><path d="M10 8v8l5-4-5-4zm9-5H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z" /></g>
<g id="straighten"><path d="M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2v8z" /></g>
<g id="style"><path d="M2.53 19.65l1.34.56v-9.03l-2.43 5.86c-.41 1.02.08 2.19 1.09 2.61zm19.5-3.7L17.07 3.98c-.31-.75-1.04-1.21-1.81-1.23-.26 0-.53.04-.79.15L7.1 5.95c-.75.31-1.21 1.03-1.23 1.8-.01.27.04.54.15.8l4.96 11.97c.31.76 1.05 1.22 1.83 1.23.26 0 .52-.05.77-.15l7.36-3.05c1.02-.42 1.51-1.59 1.09-2.6zM7.88 8.75c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-2 11c0 1.1.9 2 2 2h1.45l-3.45-8.34v6.34z" /></g>
<g id="switch-camera"><path d="M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 11.5V13H9v2.5L5.5 12 9 8.5V11h6V8.5l3.5 3.5-3.5 3.5z" /></g>
<g id="switch-video"><path d="M18 9.5V6c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-3.5l4 4v-13l-4 4zm-5 6V13H7v2.5L3.5 12 7 8.5V11h6V8.5l3.5 3.5-3.5 3.5z" /></g>
<g id="tag-faces"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z" /></g>
<g id="texture"><path d="M19.51 3.08L3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41zM11.88 3L3 11.88v2.83L14.71 3h-2.83zM5 3c-1.1 0-2 .9-2 2v2l4-4H5zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2zm-9.71 0h2.83L21 12.12V9.29L9.29 21z" /></g>
<g id="timelapse"><path d="M16.24 7.76C15.07 6.59 13.54 6 12 6v6l-4.24 4.24c2.34 2.34 6.14 2.34 8.49 0 2.34-2.34 2.34-6.14-.01-8.48zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" /></g>
<g id="timer"><path d="M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z" /></g>
<g id="timer-10"><path d="M0 7.72V9.4l3-1V18h2V6h-.25L0 7.72zm23.78 6.65c-.14-.28-.35-.53-.63-.74-.28-.21-.61-.39-1.01-.53s-.85-.27-1.35-.38c-.35-.07-.64-.15-.87-.23-.23-.08-.41-.16-.55-.25-.14-.09-.23-.19-.28-.3-.05-.11-.08-.24-.08-.39 0-.14.03-.28.09-.41.06-.13.15-.25.27-.34.12-.1.27-.18.45-.24s.4-.09.64-.09c.25 0 .47.04.66.11.19.07.35.17.48.29.13.12.22.26.29.42.06.16.1.32.1.49h1.95c0-.39-.08-.75-.24-1.09-.16-.34-.39-.63-.69-.88-.3-.25-.66-.44-1.09-.59C21.49 9.07 21 9 20.46 9c-.51 0-.98.07-1.39.21-.41.14-.77.33-1.06.57-.29.24-.51.52-.67.84-.16.32-.23.65-.23 1.01s.08.69.23.96c.15.28.36.52.64.73.27.21.6.38.98.53.38.14.81.26 1.27.36.39.08.71.17.95.26s.43.19.57.29c.13.1.22.22.27.34.05.12.07.25.07.39 0 .32-.13.57-.4.77-.27.2-.66.29-1.17.29-.22 0-.43-.02-.64-.08-.21-.05-.4-.13-.56-.24-.17-.11-.3-.26-.41-.44-.11-.18-.17-.41-.18-.67h-1.89c0 .36.08.71.24 1.05.16.34.39.65.7.93.31.27.69.49 1.15.66.46.17.98.25 1.58.25.53 0 1.01-.06 1.44-.19.43-.13.8-.31 1.11-.54.31-.23.54-.51.71-.83.17-.32.25-.67.25-1.06-.02-.4-.09-.74-.24-1.02zm-9.96-7.32c-.34-.4-.75-.7-1.23-.88-.47-.18-1.01-.27-1.59-.27-.58 0-1.11.09-1.59.27-.48.18-.89.47-1.23.88-.34.41-.6.93-.79 1.59-.18.65-.28 1.45-.28 2.39v1.92c0 .94.09 1.74.28 2.39.19.66.45 1.19.8 1.6.34.41.75.71 1.23.89.48.18 1.01.28 1.59.28.59 0 1.12-.09 1.59-.28.48-.18.88-.48 1.22-.89.34-.41.6-.94.78-1.6.18-.65.28-1.45.28-2.39v-1.92c0-.94-.09-1.74-.28-2.39-.18-.66-.44-1.19-.78-1.59zm-.92 6.17c0 .6-.04 1.11-.12 1.53-.08.42-.2.76-.36 1.02-.16.26-.36.45-.59.57-.23.12-.51.18-.82.18-.3 0-.58-.06-.82-.18s-.44-.31-.6-.57c-.16-.26-.29-.6-.38-1.02-.09-.42-.13-.93-.13-1.53v-2.5c0-.6.04-1.11.13-1.52.09-.41.21-.74.38-1 .16-.25.36-.43.6-.55.24-.11.51-.17.81-.17.31 0 .58.06.81.17.24.11.44.29.6.55.16.25.29.58.37.99.08.41.13.92.13 1.52v2.51z" /></g>
<g id="timer-3"><path d="M11.61 12.97c-.16-.24-.36-.46-.62-.65-.25-.19-.56-.35-.93-.48.3-.14.57-.3.8-.5.23-.2.42-.41.57-.64.15-.23.27-.46.34-.71.08-.24.11-.49.11-.73 0-.55-.09-1.04-.28-1.46-.18-.42-.44-.77-.78-1.06-.33-.28-.73-.5-1.2-.64-.45-.13-.97-.2-1.53-.2-.55 0-1.06.08-1.52.24-.47.17-.87.4-1.2.69-.33.29-.6.63-.78 1.03-.2.39-.29.83-.29 1.29h1.98c0-.26.05-.49.14-.69.09-.2.22-.38.38-.52.17-.14.36-.25.58-.33.22-.08.46-.12.73-.12.61 0 1.06.16 1.36.47.3.31.44.75.44 1.32 0 .27-.04.52-.12.74-.08.22-.21.41-.38.57-.17.16-.38.28-.63.37-.25.09-.55.13-.89.13H6.72v1.57H7.9c.34 0 .64.04.91.11.27.08.5.19.69.35.19.16.34.36.44.61.1.24.16.54.16.87 0 .62-.18 1.09-.53 1.42-.35.33-.84.49-1.45.49-.29 0-.56-.04-.8-.13-.24-.08-.44-.2-.61-.36-.17-.16-.3-.34-.39-.56-.09-.22-.14-.46-.14-.72H4.19c0 .55.11 1.03.32 1.45.21.42.5.77.86 1.05s.77.49 1.24.63.96.21 1.48.21c.57 0 1.09-.08 1.58-.23.49-.15.91-.38 1.26-.68.36-.3.64-.66.84-1.1.2-.43.3-.93.3-1.48 0-.29-.04-.58-.11-.86-.08-.25-.19-.51-.35-.76zm9.26 1.4c-.14-.28-.35-.53-.63-.74-.28-.21-.61-.39-1.01-.53s-.85-.27-1.35-.38c-.35-.07-.64-.15-.87-.23-.23-.08-.41-.16-.55-.25-.14-.09-.23-.19-.28-.3-.05-.11-.08-.24-.08-.39s.03-.28.09-.41c.06-.13.15-.25.27-.34.12-.1.27-.18.45-.24s.4-.09.64-.09c.25 0 .47.04.66.11.19.07.35.17.48.29.13.12.22.26.29.42.06.16.1.32.1.49h1.95c0-.39-.08-.75-.24-1.09-.16-.34-.39-.63-.69-.88-.3-.25-.66-.44-1.09-.59-.43-.15-.92-.22-1.46-.22-.51 0-.98.07-1.39.21-.41.14-.77.33-1.06.57-.29.24-.51.52-.67.84-.16.32-.23.65-.23 1.01s.08.68.23.96c.15.28.37.52.64.73.27.21.6.38.98.53.38.14.81.26 1.27.36.39.08.71.17.95.26s.43.19.57.29c.13.1.22.22.27.34.05.12.07.25.07.39 0 .32-.13.57-.4.77-.27.2-.66.29-1.17.29-.22 0-.43-.02-.64-.08-.21-.05-.4-.13-.56-.24-.17-.11-.3-.26-.41-.44-.11-.18-.17-.41-.18-.67h-1.89c0 .36.08.71.24 1.05.16.34.39.65.7.93.31.27.69.49 1.15.66.46.17.98.25 1.58.25.53 0 1.01-.06 1.44-.19.43-.13.8-.31 1.11-.54.31-.23.54-.51.71-.83.17-.32.25-.67.25-1.06-.02-.4-.09-.74-.24-1.02z" /></g>
<g id="timer-off"><path d="M19.04 4.55l-1.42 1.42C16.07 4.74 14.12 4 12 4c-1.83 0-3.53.55-4.95 1.48l1.46 1.46C9.53 6.35 10.73 6 12 6c3.87 0 7 3.13 7 7 0 1.27-.35 2.47-.94 3.49l1.45 1.45C20.45 16.53 21 14.83 21 13c0-2.12-.74-4.07-1.97-5.61l1.42-1.42-1.41-1.42zM15 1H9v2h6V1zm-4 8.44l2 2V8h-2v1.44zM3.02 4L1.75 5.27 4.5 8.03C3.55 9.45 3 11.16 3 13c0 4.97 4.02 9 9 9 1.84 0 3.55-.55 4.98-1.5l2.5 2.5 1.27-1.27-7.71-7.71L3.02 4zM12 20c-3.87 0-7-3.13-7-7 0-1.28.35-2.48.95-3.52l9.56 9.56c-1.03.61-2.23.96-3.51.96z" /></g>
<g id="tonality"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93s3.05-7.44 7-7.93v15.86zm2-15.86c1.03.13 2 .45 2.87.93H13v-.93zM13 7h5.24c.25.31.48.65.68 1H13V7zm0 3h6.74c.08.33.15.66.19 1H13v-1zm0 9.93V19h2.87c-.87.48-1.84.8-2.87.93zM18.24 17H13v-1h5.92c-.2.35-.43.69-.68 1zm1.5-3H13v-1h6.93c-.04.34-.11.67-.19 1z" /></g>
<g id="transform"><path d="M22 18v-2H8V4h2L7 1 4 4h2v2H2v2h4v8c0 1.1.9 2 2 2h8v2h-2l3 3 3-3h-2v-2h4zM10 8h6v6h2V8c0-1.1-.9-2-2-2h-6v2z" /></g>
<g id="tune"><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z" /></g>
<g id="view-comfy"><path d="M3 9h4V5H3v4zm0 5h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zM8 9h4V5H8v4zm5-4v4h4V5h-4zm5 9h4v-4h-4v4zM3 19h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zm5 0h4v-4h-4v4zm0-14v4h4V5h-4z" /></g>
<g id="view-compact"><path d="M3 19h6v-7H3v7zm7 0h12v-7H10v7zM3 5v6h19V5H3z" /></g>
<g id="vignette"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 15c-4.42 0-8-2.69-8-6s3.58-6 8-6 8 2.69 8 6-3.58 6-8 6z" /></g>
<g id="wb-auto"><path d="M6.85 12.65h2.3L8 9l-1.15 3.65zM22 7l-1.2 6.29L19.3 7h-1.6l-1.49 6.29L15 7h-.76C12.77 5.17 10.53 4 8 4c-4.42 0-8 3.58-8 8s3.58 8 8 8c3.13 0 5.84-1.81 7.15-4.43l.1.43H17l1.5-6.1L20 16h1.75l2.05-9H22zm-11.7 9l-.7-2H6.4l-.7 2H3.8L7 7h2l3.2 9h-1.9z" /></g>
<g id="wb-cloudy"><path d="M19.36 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.64-4.96z" /></g>
<g id="wb-incandescent"><path d="M3.55 18.54l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8zM11 22.45h2V19.5h-2v2.95zM4 10.5H1v2h3v-2zm11-4.19V1.5H9v4.81C7.21 7.35 6 9.28 6 11.5c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19zm5 4.19v2h3v-2h-3zm-2.76 7.66l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4z" /></g>
<g id="wb-iridescent"><path d="M5 14.5h14v-6H5v6zM11 .55V3.5h2V.55h-2zm8.04 2.5l-1.79 1.79 1.41 1.41 1.8-1.79-1.42-1.41zM13 22.45V19.5h-2v2.95h2zm7.45-3.91l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zM3.55 4.46l1.79 1.79 1.41-1.41-1.79-1.79-1.41 1.41zm1.41 15.49l1.79-1.8-1.41-1.41-1.79 1.79 1.41 1.42z" /></g>
<g id="wb-sunny"><path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z" /></g>
</defs></svg>
</iron-iconset-svg>



<iron-iconset-svg name="icons" size="24">
<svg><defs>
<g id="3d-rotation"><path d="M7.52 21.48C4.25 19.94 1.91 16.76 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32zm.89-6.52c-.19 0-.37-.03-.52-.08-.16-.06-.29-.13-.4-.24-.11-.1-.2-.22-.26-.37-.06-.14-.09-.3-.09-.47h-1.3c0 .36.07.68.21.95.14.27.33.5.56.69.24.18.51.32.82.41.3.1.62.15.96.15.37 0 .72-.05 1.03-.15.32-.1.6-.25.83-.44s.42-.43.55-.72c.13-.29.2-.61.2-.97 0-.19-.02-.38-.07-.56-.05-.18-.12-.35-.23-.51-.1-.16-.24-.3-.4-.43-.17-.13-.37-.23-.61-.31.2-.09.37-.2.52-.33.15-.13.27-.27.37-.42.1-.15.17-.3.22-.46.05-.16.07-.32.07-.48 0-.36-.06-.68-.18-.96-.12-.28-.29-.51-.51-.69-.2-.19-.47-.33-.77-.43C9.1 8.05 8.76 8 8.39 8c-.36 0-.69.05-1 .16-.3.11-.57.26-.79.45-.21.19-.38.41-.51.67-.12.26-.18.54-.18.85h1.3c0-.17.03-.32.09-.45s.14-.25.25-.34c.11-.09.23-.17.38-.22.15-.05.3-.08.48-.08.4 0 .7.1.89.31.19.2.29.49.29.86 0 .18-.03.34-.08.49-.05.15-.14.27-.25.37-.11.1-.25.18-.41.24-.16.06-.36.09-.58.09H7.5v1.03h.77c.22 0 .42.02.6.07s.33.13.45.23c.12.11.22.24.29.4.07.16.1.35.1.57 0 .41-.12.72-.35.93-.23.23-.55.33-.95.33zm8.55-5.92c-.32-.33-.7-.59-1.14-.77-.43-.18-.92-.27-1.46-.27H12v8h2.3c.55 0 1.06-.09 1.51-.27.45-.18.84-.43 1.16-.76.32-.33.57-.73.74-1.19.17-.47.26-.99.26-1.57v-.4c0-.58-.09-1.1-.26-1.57-.18-.47-.43-.87-.75-1.2zm-.39 3.16c0 .42-.05.79-.14 1.13-.1.33-.24.62-.43.85-.19.23-.43.41-.71.53-.29.12-.62.18-.99.18h-.91V9.12h.97c.72 0 1.27.23 1.64.69.38.46.57 1.12.57 1.99v.4zM12 0l-.66.03 3.81 3.81 1.33-1.33c3.27 1.55 5.61 4.72 5.96 8.48h1.5C23.44 4.84 18.29 0 12 0z" /></g>
<g id="accessibility"><path d="M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 7h-6v13h-2v-6h-2v6H9V9H3V7h18v2z" /></g>
<g id="accessible"><circle cx="12" cy="4" r="2" /><path d="M19 13v-2c-1.54.02-3.09-.75-4.07-1.83l-1.29-1.43c-.17-.19-.38-.34-.61-.45-.01 0-.01-.01-.02-.01H13c-.35-.2-.75-.3-1.19-.26C10.76 7.11 10 8.04 10 9.09V15c0 1.1.9 2 2 2h5v5h2v-5.5c0-1.1-.9-2-2-2h-3v-3.45c1.29 1.07 3.25 1.94 5 1.95zm-6.17 5c-.41 1.16-1.52 2-2.83 2-1.66 0-3-1.34-3-3 0-1.31.84-2.41 2-2.83V12.1c-2.28.46-4 2.48-4 4.9 0 2.76 2.24 5 5 5 2.42 0 4.44-1.72 4.9-4h-2.07z" /></g>
<g id="account-balance"><path d="M4 10v7h3v-7H4zm6 0v7h3v-7h-3zM2 22h19v-3H2v3zm14-12v7h3v-7h-3zm-4.5-9L2 6v2h19V6l-9.5-5z" /></g>
<g id="account-balance-wallet"><path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z" /></g>
<g id="account-box"><path d="M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z" /></g>
<g id="account-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z" /></g>
<g id="add"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" /></g>
<g id="add-alert"><path d="M10.01 21.01c0 1.1.89 1.99 1.99 1.99s1.99-.89 1.99-1.99h-3.98zm8.87-4.19V11c0-3.25-2.25-5.97-5.29-6.69v-.72C13.59 2.71 12.88 2 12 2s-1.59.71-1.59 1.59v.72C7.37 5.03 5.12 7.75 5.12 11v5.82L3 18.94V20h18v-1.06l-2.12-2.12zM16 13.01h-3v3h-2v-3H8V11h3V8h2v3h3v2.01z" /></g>
<g id="add-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z" /></g>
<g id="add-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z" /></g>
<g id="add-circle-outline"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" /></g>
<g id="add-shopping-cart"><path d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z" /></g>
<g id="alarm"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z" /></g>
<g id="alarm-add"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm1-11h-2v3H8v2h3v3h2v-3h3v-2h-3V9z" /></g>
<g id="alarm-off"><path d="M12 6c3.87 0 7 3.13 7 7 0 .84-.16 1.65-.43 2.4l1.52 1.52c.58-1.19.91-2.51.91-3.92 0-4.97-4.03-9-9-9-1.41 0-2.73.33-3.92.91L9.6 6.43C10.35 6.16 11.16 6 12 6zm10-.28l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM2.92 2.29L1.65 3.57 2.98 4.9l-1.11.93 1.42 1.42 1.11-.94.8.8C3.83 8.69 3 10.75 3 13c0 4.97 4.02 9 9 9 2.25 0 4.31-.83 5.89-2.2l2.2 2.2 1.27-1.27L3.89 3.27l-.97-.98zm13.55 16.1C15.26 19.39 13.7 20 12 20c-3.87 0-7-3.13-7-7 0-1.7.61-3.26 1.61-4.47l9.86 9.86zM8.02 3.28L6.6 1.86l-.86.71 1.42 1.42.86-.71z" /></g>
<g id="alarm-on"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-1.46-5.47L8.41 12.4l-1.06 1.06 3.18 3.18 6-6-1.06-1.06-4.93 4.95z" /></g>
<g id="all-out"><path d="M16.21 4.16l4 4v-4zm4 12l-4 4h4zm-12 4l-4-4v4zm-4-12l4-4h-4zm12.95-.95c-2.73-2.73-7.17-2.73-9.9 0s-2.73 7.17 0 9.9 7.17 2.73 9.9 0 2.73-7.16 0-9.9zm-1.1 8.8c-2.13 2.13-5.57 2.13-7.7 0s-2.13-5.57 0-7.7 5.57-2.13 7.7 0 2.13 5.57 0 7.7z" /></g>
<g id="android"><path d="M6 18c0 .55.45 1 1 1h1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h2v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h1c.55 0 1-.45 1-1V8H6v10zM3.5 8C2.67 8 2 8.67 2 9.5v7c0 .83.67 1.5 1.5 1.5S5 17.33 5 16.5v-7C5 8.67 4.33 8 3.5 8zm17 0c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5zm-4.97-5.84l1.3-1.3c.2-.2.2-.51 0-.71-.2-.2-.51-.2-.71 0l-1.48 1.48C13.85 1.23 12.95 1 12 1c-.96 0-1.86.23-2.66.63L7.85.15c-.2-.2-.51-.2-.71 0-.2.2-.2.51 0 .71l1.31 1.31C6.97 3.26 6 5.01 6 7h12c0-1.99-.97-3.75-2.47-4.84zM10 5H9V4h1v1zm5 0h-1V4h1v1z" /></g>
<g id="announcement"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z" /></g>
<g id="apps"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z" /></g>
<g id="archive"><path d="M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z" /></g>
<g id="arrow-back"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /></g>
<g id="arrow-downward"><path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z" /></g>
<g id="arrow-drop-down"><path d="M7 10l5 5 5-5z" /></g>
<g id="arrow-drop-down-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 12l-4-4h8l-4 4z" /></g>
<g id="arrow-drop-up"><path d="M7 14l5-5 5 5z" /></g>
<g id="arrow-forward"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z" /></g>
<g id="arrow-upward"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z" /></g>
<g id="aspect-ratio"><path d="M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z" /></g>
<g id="assessment"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z" /></g>
<g id="assignment"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z" /></g>
<g id="assignment-ind"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z" /></g>
<g id="assignment-late"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 15h-2v-2h2v2zm0-4h-2V8h2v6zm-1-9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z" /></g>
<g id="assignment-return"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm4 12h-4v3l-5-5 5-5v3h4v4z" /></g>
<g id="assignment-returned"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 15l-5-5h3V9h4v4h3l-5 5z" /></g>
<g id="assignment-turned-in"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z" /></g>
<g id="attachment"><path d="M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z" /></g>
<g id="autorenew"><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z" /></g>
<g id="backspace"><path d="M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 12.59L17.59 17 14 13.41 10.41 17 9 15.59 12.59 12 9 8.41 10.41 7 14 10.59 17.59 7 19 8.41 15.41 12 19 15.59z" /></g>
<g id="backup"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z" /></g>
<g id="block"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z" /></g>
<g id="book"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z" /></g>
<g id="bookmark"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z" /></g>
<g id="bookmark-border"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z" /></g>
<g id="bug-report"><path d="M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z" /></g>
<g id="build"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z" /></g>
<g id="cached"><path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z" /></g>
<g id="camera-enhance"><path d="M9 3L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2h-3.17L15 3H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-1l1.25-2.75L16 13l-2.75-1.25L12 9l-1.25 2.75L8 13l2.75 1.25z" /></g>
<g id="cancel"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z" /></g>
<g id="card-giftcard"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z" /></g>
<g id="card-membership"><path d="M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2zm0 13H4v-2h16v2zm0-5H4V4h16v6z" /></g>
<g id="card-travel"><path d="M20 6h-3V4c0-1.11-.89-2-2-2H9c-1.11 0-2 .89-2 2v2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM9 4h6v2H9V4zm11 15H4v-2h16v2zm0-5H4V8h3v2h2V8h6v2h2V8h3v6z" /></g>
<g id="change-history"><path d="M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z" /></g>
<g id="check"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z" /></g>
<g id="check-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" /></g>
<g id="check-box-outline-blank"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" /></g>
<g id="check-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" /></g>
<g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" /></g>
<g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" /></g>
<g id="chrome-reader-mode"><path d="M13 12h7v1.5h-7zm0-2.5h7V11h-7zm0 5h7V16h-7zM21 4H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 15h-9V6h9v13z" /></g>
<g id="class"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z" /></g>
<g id="clear"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" /></g>
<g id="close"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" /></g>
<g id="cloud"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z" /></g>
<g id="cloud-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.5 14H8c-1.66 0-3-1.34-3-3s1.34-3 3-3l.14.01C8.58 8.28 10.13 7 12 7c2.21 0 4 1.79 4 4h.5c1.38 0 2.5 1.12 2.5 2.5S17.88 16 16.5 16z" /></g>
<g id="cloud-done"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z" /></g>
<g id="cloud-download"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z" /></g>
<g id="cloud-off"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z" /></g>
<g id="cloud-queue"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3z" /></g>
<g id="cloud-upload"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z" /></g>
<g id="code"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z" /></g>
<g id="compare-arrows"><path d="M9.01 14H2v2h7.01v3L13 15l-3.99-4v3zm5.98-1v-3H22V8h-7.01V5L11 9l3.99 4z" /></g>
<g id="content-copy"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z" /></g>
<g id="content-cut"><path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z" /></g>
<g id="content-paste"><path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z" /></g>
<g id="copyright"><path d="M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91 1.05.34 1.7.34c.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" /></g>
<g id="create"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" /></g>
<g id="create-new-folder"><path d="M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z" /></g>
<g id="credit-card"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z" /></g>
<g id="dashboard"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z" /></g>
<g id="date-range"><path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z" /></g>
<g id="delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" /></g>
<g id="delete-forever"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z" /></g>
<g id="delete-sweep"><path d="M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zM14 5h-3l-1-1H6L5 5H2v2h12z" /></g>
<g id="description"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z" /></g>
<g id="dns"><path d="M20 13H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zM7 19c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM20 3H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM7 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z" /></g>
<g id="done"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" /></g>
<g id="done-all"><path d="M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z" /></g>
<g id="donut-large"><path d="M11 5.08V2c-5 .5-9 4.81-9 10s4 9.5 9 10v-3.08c-3-.48-6-3.4-6-6.92s3-6.44 6-6.92zM18.97 11H22c-.47-5-4-8.53-9-9v3.08C16 5.51 18.54 8 18.97 11zM13 18.92V22c5-.47 8.53-4 9-9h-3.03c-.43 3-2.97 5.49-5.97 5.92z" /></g>
<g id="donut-small"><path d="M11 9.16V2c-5 .5-9 4.79-9 10s4 9.5 9 10v-7.16c-1-.41-2-1.52-2-2.84s1-2.43 2-2.84zM14.86 11H22c-.48-4.75-4-8.53-9-9v7.16c1 .3 1.52.98 1.86 1.84zM13 14.84V22c5-.47 8.52-4.25 9-9h-7.14c-.34.86-.86 1.54-1.86 1.84z" /></g>
<g id="drafts"><path d="M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2l-.01-10zM12 13L3.74 7.84 12 3l8.26 4.84L12 13z" /></g>
<g id="eject"><path d="M5 17h14v2H5zm7-12L5.33 15h13.34z" /></g>
<g id="error"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" /></g>
<g id="error-outline"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" /></g>
<g id="euro-symbol"><path d="M15 18.5c-2.51 0-4.68-1.42-5.76-3.5H15v-2H8.58c-.05-.33-.08-.66-.08-1s.03-.67.08-1H15V9H9.24C10.32 6.92 12.5 5.5 15 5.5c1.61 0 3.09.59 4.23 1.57L21 5.3C19.41 3.87 17.3 3 15 3c-3.92 0-7.24 2.51-8.48 6H3v2h3.06c-.04.33-.06.66-.06 1 0 .34.02.67.06 1H3v2h3.52c1.24 3.49 4.56 6 8.48 6 2.31 0 4.41-.87 6-2.3l-1.78-1.77c-1.13.98-2.6 1.57-4.22 1.57z" /></g>
<g id="event"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z" /></g>
<g id="event-seat"><path d="M4 18v3h3v-3h10v3h3v-6H4zm15-8h3v3h-3zM2 10h3v3H2zm15 3H7V5c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2v8z" /></g>
<g id="exit-to-app"><path d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" /></g>
<g id="expand-less"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z" /></g>
<g id="expand-more"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z" /></g>
<g id="explore"><path d="M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.19 12.19L6 18l3.81-8.19L18 6l-3.81 8.19z" /></g>
<g id="extension"><path d="M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z" /></g>
<g id="face"><path d="M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8z" /></g>
<g id="favorite"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" /></g>
<g id="favorite-border"><path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z" /></g>
<g id="feedback"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z" /></g>
<g id="file-download"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" /></g>
<g id="file-upload"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z" /></g>
<g id="filter-list"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z" /></g>
<g id="find-in-page"><path d="M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z" /></g>
<g id="find-replace"><path d="M11 6c1.38 0 2.63.56 3.54 1.46L12 10h6V4l-2.05 2.05C14.68 4.78 12.93 4 11 4c-3.53 0-6.43 2.61-6.92 6H6.1c.46-2.28 2.48-4 4.9-4zm5.64 9.14c.66-.9 1.12-1.97 1.28-3.14H15.9c-.46 2.28-2.48 4-4.9 4-1.38 0-2.63-.56-3.54-1.46L10 12H4v6l2.05-2.05C7.32 17.22 9.07 18 11 18c1.55 0 2.98-.51 4.14-1.36L20 21.49 21.49 20l-4.85-4.86z" /></g>
<g id="fingerprint"><path d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z" /></g>
<g id="first-page"><path d="M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z" /></g>
<g id="flag"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z" /></g>
<g id="flight-land"><path d="M2.5 19h19v2h-19zm7.18-5.73l4.35 1.16 5.31 1.42c.8.21 1.62-.26 1.84-1.06.21-.8-.26-1.62-1.06-1.84l-5.31-1.42-2.76-9.02L10.12 2v8.28L5.15 8.95l-.93-2.32-1.45-.39v5.17l1.6.43 5.31 1.43z" /></g>
<g id="flight-takeoff"><path d="M2.5 19h19v2h-19zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 1.82 3.16.77 1.33 1.6-.43 5.31-1.42 4.35-1.16L21 11.49c.81-.23 1.28-1.05 1.07-1.85z" /></g>
<g id="flip-to-back"><path d="M9 7H7v2h2V7zm0 4H7v2h2v-2zm0-8c-1.11 0-2 .9-2 2h2V3zm4 12h-2v2h2v-2zm6-12v2h2c0-1.1-.9-2-2-2zm-6 0h-2v2h2V3zM9 17v-2H7c0 1.1.89 2 2 2zm10-4h2v-2h-2v2zm0-4h2V7h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zM5 7H3v12c0 1.1.89 2 2 2h12v-2H5V7zm10-2h2V3h-2v2zm0 12h2v-2h-2v2z" /></g>
<g id="flip-to-front"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm2 4v-2H3c0 1.1.89 2 2 2zM3 9h2V7H3v2zm12 12h2v-2h-2v2zm4-18H9c-1.11 0-2 .9-2 2v10c0 1.1.89 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12H9V5h10v10zm-8 6h2v-2h-2v2zm-4 0h2v-2H7v2z" /></g>
<g id="folder"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z" /></g>
<g id="folder-open"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z" /></g>
<g id="folder-shared"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-5 3c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8h-8v-1c0-1.33 2.67-2 4-2s4 .67 4 2v1z" /></g>
<g id="font-download"><path d="M9.93 13.5h4.14L12 7.98zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-4.05 16.5l-1.14-3H9.17l-1.12 3H5.96l5.11-13h1.86l5.11 13h-2.09z" /></g>
<g id="forward"><path d="M12 8V4l8 8-8 8v-4H4V8z" /></g>
<g id="fullscreen"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z" /></g>
<g id="fullscreen-exit"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z" /></g>
<g id="g-translate"><path d="M20 5h-9.12L10 2H4c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h7l1 3h8c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM7.17 14.59c-2.25 0-4.09-1.83-4.09-4.09s1.83-4.09 4.09-4.09c1.04 0 1.99.37 2.74 1.07l.07.06-1.23 1.18-.06-.05c-.29-.27-.78-.59-1.52-.59-1.31 0-2.38 1.09-2.38 2.42s1.07 2.42 2.38 2.42c1.37 0 1.96-.87 2.12-1.46H7.08V9.91h3.95l.01.07c.04.21.05.4.05.61 0 2.35-1.61 4-3.92 4zm6.03-1.71c.33.6.74 1.18 1.19 1.7l-.54.53-.65-2.23zm.77-.76h-.99l-.31-1.04h3.99s-.34 1.31-1.56 2.74c-.52-.62-.89-1.23-1.13-1.7zM21 20c0 .55-.45 1-1 1h-7l2-2-.81-2.77.92-.92L17.79 18l.73-.73-2.71-2.68c.9-1.03 1.6-2.25 1.92-3.51H19v-1.04h-3.64V9h-1.04v1.04h-1.96L11.18 6H20c.55 0 1 .45 1 1v13z" /></g>
<g id="gavel"><path d="M1 21h12v2H1zM5.245 8.07l2.83-2.827 14.14 14.142-2.828 2.828zM12.317 1l5.657 5.656-2.83 2.83-5.654-5.66zM3.825 9.485l5.657 5.657-2.828 2.828-5.657-5.657z" /></g>
<g id="gesture"><path d="M4.59 6.89c.7-.71 1.4-1.35 1.71-1.22.5.2 0 1.03-.3 1.52-.25.42-2.86 3.89-2.86 6.31 0 1.28.48 2.34 1.34 2.98.75.56 1.74.73 2.64.46 1.07-.31 1.95-1.4 3.06-2.77 1.21-1.49 2.83-3.44 4.08-3.44 1.63 0 1.65 1.01 1.76 1.79-3.78.64-5.38 3.67-5.38 5.37 0 1.7 1.44 3.09 3.21 3.09 1.63 0 4.29-1.33 4.69-6.1H21v-2.5h-2.47c-.15-1.65-1.09-4.2-4.03-4.2-2.25 0-4.18 1.91-4.94 2.84-.58.73-2.06 2.48-2.29 2.72-.25.3-.68.84-1.11.84-.45 0-.72-.83-.36-1.92.35-1.09 1.4-2.86 1.85-3.52.78-1.14 1.3-1.92 1.3-3.28C8.95 3.69 7.31 3 6.44 3 5.12 3 3.97 4 3.72 4.25c-.36.36-.66.66-.88.93l1.75 1.71zm9.29 11.66c-.31 0-.74-.26-.74-.72 0-.6.73-2.2 2.87-2.76-.3 2.69-1.43 3.48-2.13 3.48z" /></g>
<g id="get-app"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" /></g>
<g id="gif"><path d="M11.5 9H13v6h-1.5zM9 9H6c-.6 0-1 .5-1 1v4c0 .5.4 1 1 1h3c.6 0 1-.5 1-1v-2H8.5v1.5h-2v-3H10V10c0-.5-.4-1-1-1zm10 1.5V9h-4.5v6H16v-2h2v-1.5h-2v-1z" /></g>
<g id="grade"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" /></g>
<g id="group-work"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM9.5 8c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8zm6.5 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" /></g>
<g id="help"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z" /></g>
<g id="help-outline"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z" /></g>
<g id="highlight-off"><path d="M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" /></g>
<g id="history"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z" /></g>
<g id="home"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" /></g>
<g id="hourglass-empty"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z" /></g>
<g id="hourglass-full"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6z" /></g>
<g id="http"><path d="M4.5 11h-2V9H1v6h1.5v-2.5h2V15H6V9H4.5v2zm2.5-.5h1.5V15H10v-4.5h1.5V9H7v1.5zm5.5 0H14V15h1.5v-4.5H17V9h-4.5v1.5zm9-1.5H18v6h1.5v-2h2c.8 0 1.5-.7 1.5-1.5v-1c0-.8-.7-1.5-1.5-1.5zm0 2.5h-2v-1h2v1z" /></g>
<g id="https"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z" /></g>
<g id="important-devices"><path d="M23 11.01L18 11c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5c.55 0 1-.45 1-1v-9c0-.55-.45-.99-1-.99zM23 20h-5v-7h5v7zM20 2H2C.89 2 0 2.89 0 4v12c0 1.1.89 2 2 2h7v2H7v2h8v-2h-2v-2h2v-2H2V4h18v5h2V4c0-1.11-.9-2-2-2zm-8.03 7L11 6l-.97 3H7l2.47 1.76-.94 2.91 2.47-1.8 2.47 1.8-.94-2.91L15 9h-3.03z" /></g>
<g id="inbox"><path d="M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z" /></g>
<g id="indeterminate-check-box"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z" /></g>
<g id="info"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z" /></g>
<g id="info-outline"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z" /></g>
<g id="input"><path d="M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z" /></g>
<g id="invert-colors"><path d="M17.66 7.93L12 2.27 6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58c2.05 0 4.1-.78 5.66-2.34 3.12-3.12 3.12-8.19 0-11.31zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z" /></g>
<g id="label"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z" /></g>
<g id="label-outline"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16zM16 17H5V7h11l3.55 5L16 17z" /></g>
<g id="language"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z" /></g>
<g id="last-page"><path d="M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z" /></g>
<g id="launch"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z" /></g>
<g id="lightbulb-outline"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z" /></g>
<g id="line-style"><path d="M3 16h5v-2H3v2zm6.5 0h5v-2h-5v2zm6.5 0h5v-2h-5v2zM3 20h2v-2H3v2zm4 0h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM3 12h8v-2H3v2zm10 0h8v-2h-8v2zM3 4v4h18V4H3z" /></g>
<g id="line-weight"><path d="M3 17h18v-2H3v2zm0 3h18v-1H3v1zm0-7h18v-3H3v3zm0-9v4h18V4H3z" /></g>
<g id="link"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z" /></g>
<g id="list"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z" /></g>
<g id="lock"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z" /></g>
<g id="lock-open"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z" /></g>
<g id="lock-outline"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9V6zM18 20H6V10h12v10z" /></g>
<g id="low-priority"><path d="M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5z" /></g>
<g id="loyalty"><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7zm11.77 8.27L13 19.54l-4.27-4.27C8.28 14.81 8 14.19 8 13.5c0-1.38 1.12-2.5 2.5-2.5.69 0 1.32.28 1.77.74l.73.72.73-.73c.45-.45 1.08-.73 1.77-.73 1.38 0 2.5 1.12 2.5 2.5 0 .69-.28 1.32-.73 1.77z" /></g>
<g id="mail"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" /></g>
<g id="markunread"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" /></g>
<g id="markunread-mailbox"><path d="M20 6H10v6H8V4h6V0H6v6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2z" /></g>
<g id="menu"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" /></g>
<g id="more-horiz"><path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" /></g>
<g id="more-vert"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" /></g>
<g id="motorcycle"><path d="M19.44 9.03L15.41 5H11v2h3.59l2 2H5c-2.8 0-5 2.2-5 5s2.2 5 5 5c2.46 0 4.45-1.69 4.9-4h1.65l2.77-2.77c-.21.54-.32 1.14-.32 1.77 0 2.8 2.2 5 5 5s5-2.2 5-5c0-2.65-1.97-4.77-4.56-4.97zM7.82 15C7.4 16.15 6.28 17 5 17c-1.63 0-3-1.37-3-3s1.37-3 3-3c1.28 0 2.4.85 2.82 2H5v2h2.82zM19 17c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z" /></g>
<g id="move-to-inbox"><path d="M19 3H4.99c-1.11 0-1.98.9-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10zm-3-5h-2V7h-4v3H8l4 4 4-4z" /></g>
<g id="next-week"><path d="M20 7h-4V5c0-.55-.22-1.05-.59-1.41C15.05 3.22 14.55 3 14 3h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5zm1 13.5l-1-1 3-3-3-3 1-1 4 4-4 4z" /></g>
<g id="note-add"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z" /></g>
<g id="offline-pin"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm5 16H7v-2h10v2zm-6.7-4L7 10.7l1.4-1.4 1.9 1.9 5.3-5.3L17 7.3 10.3 14z" /></g>
<g id="opacity"><path d="M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z" /></g>
<g id="open-in-browser"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7 6l-4 4h3v6h2v-6h3l-4-4z" /></g>
<g id="open-in-new"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z" /></g>
<g id="open-with"><path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z" /></g>
<g id="pageview"><path d="M11.5 9C10.12 9 9 10.12 9 11.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5S12.88 9 11.5 9zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3.21 14.21l-2.91-2.91c-.69.44-1.51.7-2.39.7C9.01 16 7 13.99 7 11.5S9.01 7 11.5 7 16 9.01 16 11.5c0 .88-.26 1.69-.7 2.39l2.91 2.9-1.42 1.42z" /></g>
<g id="pan-tool"><path d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z" /></g>
<g id="payment"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z" /></g>
<g id="perm-camera-mic"><path d="M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v-2.09c-2.83-.48-5-2.94-5-5.91h2c0 2.21 1.79 4 4 4s4-1.79 4-4h2c0 2.97-2.17 5.43-5 5.91V21h7c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-6 8c0 1.1-.9 2-2 2s-2-.9-2-2V9c0-1.1.9-2 2-2s2 .9 2 2v4z" /></g>
<g id="perm-contact-calendar"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1z" /></g>
<g id="perm-data-setting"><path d="M18.99 11.5c.34 0 .67.03 1 .07L20 0 0 20h11.56c-.04-.33-.07-.66-.07-1 0-4.14 3.36-7.5 7.5-7.5zm3.71 7.99c.02-.16.04-.32.04-.49 0-.17-.01-.33-.04-.49l1.06-.83c.09-.08.12-.21.06-.32l-1-1.73c-.06-.11-.19-.15-.31-.11l-1.24.5c-.26-.2-.54-.37-.85-.49l-.19-1.32c-.01-.12-.12-.21-.24-.21h-2c-.12 0-.23.09-.25.21l-.19 1.32c-.3.13-.59.29-.85.49l-1.24-.5c-.11-.04-.24 0-.31.11l-1 1.73c-.06.11-.04.24.06.32l1.06.83c-.02.16-.03.32-.03.49 0 .17.01.33.03.49l-1.06.83c-.09.08-.12.21-.06.32l1 1.73c.06.11.19.15.31.11l1.24-.5c.26.2.54.37.85.49l.19 1.32c.02.12.12.21.25.21h2c.12 0 .23-.09.25-.21l.19-1.32c.3-.13.59-.29.84-.49l1.25.5c.11.04.24 0 .31-.11l1-1.73c.06-.11.03-.24-.06-.32l-1.07-.83zm-3.71 1.01c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z" /></g>
<g id="perm-device-information"><path d="M13 7h-2v2h2V7zm0 4h-2v6h2v-6zm4-9.99L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z" /></g>
<g id="perm-identity"><path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z" /></g>
<g id="perm-media"><path d="M2 6H0v5h.01L0 20c0 1.1.9 2 2 2h18v-2H2V6zm20-2h-8l-2-2H6c-1.1 0-1.99.9-1.99 2L4 16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 15l4.5-6 3.5 4.51 2.5-3.01L21 15H7z" /></g>
<g id="perm-phone-msg"><path d="M20 15.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM12 3v10l3-3h6V3h-9z" /></g>
<g id="perm-scan-wifi"><path d="M12 3C6.95 3 3.15 4.85 0 7.23L12 22 24 7.25C20.85 4.87 17.05 3 12 3zm1 13h-2v-6h2v6zm-2-8V6h2v2h-2z" /></g>
<g id="pets"><circle cx="4.5" cy="9.5" r="2.5" /><circle cx="9" cy="5.5" r="2.5" /><circle cx="15" cy="5.5" r="2.5" /><circle cx="19.5" cy="9.5" r="2.5" /><path d="M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z" /></g>
<g id="picture-in-picture"><path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z" /></g>
<g id="picture-in-picture-alt"><path d="M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z" /></g>
<g id="play-for-work"><path d="M11 5v5.59H7.5l4.5 4.5 4.5-4.5H13V5h-2zm-5 9c0 3.31 2.69 6 6 6s6-2.69 6-6h-2c0 2.21-1.79 4-4 4s-4-1.79-4-4H6z" /></g>
<g id="polymer"><path d="M19 4h-4L7.11 16.63 4.5 12 9 4H5L.5 12 5 20h4l7.89-12.63L19.5 12 15 20h4l4.5-8z" /></g>
<g id="power-settings-new"><path d="M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z" /></g>
<g id="pregnant-woman"><path d="M9 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm7 9c-.01-1.34-.83-2.51-2-3 0-1.66-1.34-3-3-3s-3 1.34-3 3v7h2v5h3v-5h3v-4z" /></g>
<g id="print"><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z" /></g>
<g id="query-builder"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z" /></g>
<g id="question-answer"><path d="M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z" /></g>
<g id="radio-button-checked"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" /></g>
<g id="radio-button-unchecked"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" /></g>
<g id="receipt"><path d="M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z" /></g>
<g id="record-voice-over"><circle cx="9" cy="9" r="4" /><path d="M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z" /></g>
<g id="redeem"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z" /></g>
<g id="redo"><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z" /></g>
<g id="refresh"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" /></g>
<g id="remove"><path d="M19 13H5v-2h14v2z" /></g>
<g id="remove-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z" /></g>
<g id="remove-circle-outline"><path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" /></g>
<g id="remove-shopping-cart"><path d="M22.73 22.73L2.77 2.77 2 2l-.73-.73L0 2.54l4.39 4.39 2.21 4.66-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h7.46l1.38 1.38c-.5.36-.83.95-.83 1.62 0 1.1.89 2 1.99 2 .67 0 1.26-.33 1.62-.84L21.46 24l1.27-1.27zM7.42 15c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h2.36l2 2H7.42zm8.13-2c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H6.54l9.01 9zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2z" /></g>
<g id="reorder"><path d="M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z" /></g>
<g id="reply"><path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z" /></g>
<g id="reply-all"><path d="M7 8V5l-7 7 7 7v-3l-4-4 4-4zm6 1V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z" /></g>
<g id="report"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z" /></g>
<g id="report-problem"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" /></g>
<g id="restore"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z" /></g>
<g id="restore-page"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-2 16c-2.05 0-3.81-1.24-4.58-3h1.71c.63.9 1.68 1.5 2.87 1.5 1.93 0 3.5-1.57 3.5-3.5S13.93 9.5 12 9.5c-1.35 0-2.52.78-3.1 1.9l1.6 1.6h-4V9l1.3 1.3C8.69 8.92 10.23 8 12 8c2.76 0 5 2.24 5 5s-2.24 5-5 5z" /></g>
<g id="room"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" /></g>
<g id="rounded-corner"><path d="M19 19h2v2h-2v-2zm0-2h2v-2h-2v2zM3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm0-4h2V3H3v2zm4 0h2V3H7v2zm8 16h2v-2h-2v2zm-4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm-8 0h2v-2H7v2zm-4 0h2v-2H3v2zM21 8c0-2.76-2.24-5-5-5h-5v2h5c1.65 0 3 1.35 3 3v5h2V8z" /></g>
<g id="rowing"><path d="M8.5 14.5L4 19l1.5 1.5L9 17h2l-2.5-2.5zM15 1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 20.01L18 24l-2.99-3.01V19.5l-7.1-7.09c-.31.05-.61.07-.91.07v-2.16c1.66.03 3.61-.87 4.67-2.04l1.4-1.55c.19-.21.43-.38.69-.5.29-.14.62-.23.96-.23h.03C15.99 6.01 17 7.02 17 8.26v5.75c0 .84-.35 1.61-.92 2.16l-3.58-3.58v-2.27c-.63.52-1.43 1.02-2.29 1.39L16.5 18H18l3 3.01z" /></g>
<g id="save"><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z" /></g>
<g id="schedule"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z" /></g>
<g id="search"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /></g>
<g id="select-all"><path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" /></g>
<g id="send"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" /></g>
<g id="settings"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z" /></g>
<g id="settings-applications"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm7-7H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-1.75 9c0 .23-.02.46-.05.68l1.48 1.16c.13.11.17.3.08.45l-1.4 2.42c-.09.15-.27.21-.43.15l-1.74-.7c-.36.28-.76.51-1.18.69l-.26 1.85c-.03.17-.18.3-.35.3h-2.8c-.17 0-.32-.13-.35-.29l-.26-1.85c-.43-.18-.82-.41-1.18-.69l-1.74.7c-.16.06-.34 0-.43-.15l-1.4-2.42c-.09-.15-.05-.34.08-.45l1.48-1.16c-.03-.23-.05-.46-.05-.69 0-.23.02-.46.05-.68l-1.48-1.16c-.13-.11-.17-.3-.08-.45l1.4-2.42c.09-.15.27-.21.43-.15l1.74.7c.36-.28.76-.51 1.18-.69l.26-1.85c.03-.17.18-.3.35-.3h2.8c.17 0 .32.13.35.29l.26 1.85c.43.18.82.41 1.18.69l1.74-.7c.16-.06.34 0 .43.15l1.4 2.42c.09.15.05.34-.08.45l-1.48 1.16c.03.23.05.46.05.69z" /></g>
<g id="settings-backup-restore"><path d="M14 12c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2zm-2-9c-4.97 0-9 4.03-9 9H0l4 4 4-4H5c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.51 0-2.91-.49-4.06-1.3l-1.42 1.44C8.04 20.3 9.94 21 12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9z" /></g>
<g id="settings-bluetooth"><path d="M11 24h2v-2h-2v2zm-4 0h2v-2H7v2zm8 0h2v-2h-2v2zm2.71-18.29L12 0h-1v7.59L6.41 3 5 4.41 10.59 10 5 15.59 6.41 17 11 12.41V20h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 3.83l1.88 1.88L13 7.59V3.83zm1.88 10.46L13 16.17v-3.76l1.88 1.88z" /></g>
<g id="settings-brightness"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02zM8 16h2.5l1.5 1.5 1.5-1.5H16v-2.5l1.5-1.5-1.5-1.5V8h-2.5L12 6.5 10.5 8H8v2.5L6.5 12 8 13.5V16zm4-7c1.66 0 3 1.34 3 3s-1.34 3-3 3V9z" /></g>
<g id="settings-cell"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM16 .01L8 0C6.9 0 6 .9 6 2v16c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V2c0-1.1-.9-1.99-2-1.99zM16 16H8V4h8v12z" /></g>
<g id="settings-ethernet"><path d="M7.77 6.76L6.23 5.48.82 12l5.41 6.52 1.54-1.28L3.42 12l4.35-5.24zM7 13h2v-2H7v2zm10-2h-2v2h2v-2zm-6 2h2v-2h-2v2zm6.77-7.52l-1.54 1.28L20.58 12l-4.35 5.24 1.54 1.28L23.18 12l-5.41-6.52z" /></g>
<g id="settings-input-antenna"><path d="M12 5c-3.87 0-7 3.13-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.87-3.13-7-7-7zm1 9.29c.88-.39 1.5-1.26 1.5-2.29 0-1.38-1.12-2.5-2.5-2.5S9.5 10.62 9.5 12c0 1.02.62 1.9 1.5 2.29v3.3L7.59 21 9 22.41l3-3 3 3L16.41 21 13 17.59v-3.3zM12 1C5.93 1 1 5.93 1 12h2c0-4.97 4.03-9 9-9s9 4.03 9 9h2c0-6.07-4.93-11-11-11z" /></g>
<g id="settings-input-component"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z" /></g>
<g id="settings-input-composite"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z" /></g>
<g id="settings-input-hdmi"><path d="M18 7V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v3H5v6l3 6v3h8v-3l3-6V7h-1zM8 4h8v3h-2V5h-1v2h-2V5h-1v2H8V4z" /></g>
<g id="settings-input-svideo"><path d="M8 11.5c0-.83-.67-1.5-1.5-1.5S5 10.67 5 11.5 5.67 13 6.5 13 8 12.33 8 11.5zm7-5c0-.83-.67-1.5-1.5-1.5h-3C9.67 5 9 5.67 9 6.5S9.67 8 10.5 8h3c.83 0 1.5-.67 1.5-1.5zM8.5 15c-.83 0-1.5.67-1.5 1.5S7.67 18 8.5 18s1.5-.67 1.5-1.5S9.33 15 8.5 15zM12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9zm5.5-11c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm-2 5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z" /></g>
<g id="settings-overscan"><path d="M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z" /></g>
<g id="settings-phone"><path d="M13 9h-2v2h2V9zm4 0h-2v2h2V9zm3 6.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM19 9v2h2V9h-2z" /></g>
<g id="settings-power"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm2-22h-2v10h2V2zm3.56 2.44l-1.45 1.45C16.84 6.94 18 8.83 18 11c0 3.31-2.69 6-6 6s-6-2.69-6-6c0-2.17 1.16-4.06 2.88-5.12L7.44 4.44C5.36 5.88 4 8.28 4 11c0 4.42 3.58 8 8 8s8-3.58 8-8c0-2.72-1.36-5.12-3.44-6.56zM15 24h2v-2h-2v2z" /></g>
<g id="settings-remote"><path d="M15 9H9c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V10c0-.55-.45-1-1-1zm-3 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM7.05 6.05l1.41 1.41C9.37 6.56 10.62 6 12 6s2.63.56 3.54 1.46l1.41-1.41C15.68 4.78 13.93 4 12 4s-3.68.78-4.95 2.05zM12 0C8.96 0 6.21 1.23 4.22 3.22l1.41 1.41C7.26 3.01 9.51 2 12 2s4.74 1.01 6.36 2.64l1.41-1.41C17.79 1.23 15.04 0 12 0z" /></g>
<g id="settings-voice"><path d="M7 24h2v-2H7v2zm5-11c1.66 0 2.99-1.34 2.99-3L15 4c0-1.66-1.34-3-3-3S9 2.34 9 4v6c0 1.66 1.34 3 3 3zm-1 11h2v-2h-2v2zm4 0h2v-2h-2v2zm4-14h-1.7c0 3-2.54 5.1-5.3 5.1S6.7 13 6.7 10H5c0 3.41 2.72 6.23 6 6.72V20h2v-3.28c3.28-.49 6-3.31 6-6.72z" /></g>
<g id="shop"><path d="M16 6V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H2v13c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6h-6zm-6-2h4v2h-4V4zM9 18V9l7.5 4L9 18z" /></g>
<g id="shop-two"><path d="M3 9H1v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2H3V9zm15-4V3c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H5v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5h-5zm-6-2h4v2h-4V3zm0 12V8l5.5 3-5.5 4z" /></g>
<g id="shopping-basket"><path d="M17.21 9l-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z" /></g>
<g id="shopping-cart"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z" /></g>
<g id="sort"><path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z" /></g>
<g id="speaker-notes"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 14H6v-2h2v2zm0-3H6V9h2v2zm0-3H6V6h2v2zm7 6h-5v-2h5v2zm3-3h-8V9h8v2zm0-3h-8V6h8v2z" /></g>
<g id="speaker-notes-off"><path d="M10.54 11l-.54-.54L7.54 8 6 6.46 2.38 2.84 1.27 1.73 0 3l2.01 2.01L2 22l4-4h9l5.73 5.73L22 22.46 17.54 18l-7-7zM8 14H6v-2h2v2zm-2-3V9l2 2H6zm14-9H4.08L10 7.92V6h8v2h-7.92l1 1H18v2h-4.92l6.99 6.99C21.14 17.95 22 17.08 22 16V4c0-1.1-.9-2-2-2z" /></g>
<g id="spellcheck"><path d="M12.45 16h2.09L9.43 3H7.57L2.46 16h2.09l1.12-3h5.64l1.14 3zm-6.02-5L8.5 5.48 10.57 11H6.43zm15.16.59l-8.09 8.09L9.83 16l-1.41 1.41 5.09 5.09L23 13l-1.41-1.41z" /></g>
<g id="star"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" /></g>
<g id="star-border"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z" /></g>
<g id="star-half"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z" /></g>
<g id="stars"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z" /></g>
<g id="store"><path d="M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z" /></g>
<g id="subdirectory-arrow-left"><path d="M11 9l1.42 1.42L8.83 14H18V4h2v12H8.83l3.59 3.58L11 21l-6-6 6-6z" /></g>
<g id="subdirectory-arrow-right"><path d="M19 15l-6 6-1.42-1.42L15.17 16H4V4h2v10h9.17l-3.59-3.58L13 9l6 6z" /></g>
<g id="subject"><path d="M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z" /></g>
<g id="supervisor-account"><path d="M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5zM9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3zm7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75zM9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13z" /></g>
<g id="swap-horiz"><path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z" /></g>
<g id="swap-vert"><path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z" /></g>
<g id="swap-vertical-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM6.5 9L10 5.5 13.5 9H11v4H9V9H6.5zm11 6L14 18.5 10.5 15H13v-4h2v4h2.5z" /></g>
<g id="system-update-alt"><path d="M12 16.5l4-4h-3v-9h-2v9H8l4 4zm9-13h-6v1.99h6v14.03H3V5.49h6V3.5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2z" /></g>
<g id="tab"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z" /></g>
<g id="tab-unselected"><path d="M1 9h2V7H1v2zm0 4h2v-2H1v2zm0-8h2V3c-1.1 0-2 .9-2 2zm8 16h2v-2H9v2zm-8-4h2v-2H1v2zm2 4v-2H1c0 1.1.9 2 2 2zM21 3h-8v6h10V5c0-1.1-.9-2-2-2zm0 14h2v-2h-2v2zM9 5h2V3H9v2zM5 21h2v-2H5v2zM5 5h2V3H5v2zm16 16c1.1 0 2-.9 2-2h-2v2zm0-8h2v-2h-2v2zm-8 8h2v-2h-2v2zm4 0h2v-2h-2v2z" /></g>
<g id="text-format"><path d="M5 17v2h14v-2H5zm4.5-4.2h5l.9 2.2h2.1L12.75 4h-1.5L6.5 15h2.1l.9-2.2zM12 5.98L13.87 11h-3.74L12 5.98z" /></g>
<g id="theaters"><path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z" /></g>
<g id="thumb-down"><path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z" /></g>
<g id="thumb-up"><path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01L23 10z" /></g>
<g id="thumbs-up-down"><path d="M12 6c0-.55-.45-1-1-1H5.82l.66-3.18.02-.23c0-.31-.13-.59-.33-.8L5.38 0 .44 4.94C.17 5.21 0 5.59 0 6v6.5c0 .83.67 1.5 1.5 1.5h6.75c.62 0 1.15-.38 1.38-.91l2.26-5.29c.07-.17.11-.36.11-.55V6zm10.5 4h-6.75c-.62 0-1.15.38-1.38.91l-2.26 5.29c-.07.17-.11.36-.11.55V18c0 .55.45 1 1 1h5.18l-.66 3.18-.02.24c0 .31.13.59.33.8l.79.78 4.94-4.94c.27-.27.44-.65.44-1.06v-6.5c0-.83-.67-1.5-1.5-1.5z" /></g>
<g id="timeline"><path d="M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2z" /></g>
<g id="toc"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z" /></g>
<g id="today"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z" /></g>
<g id="toll"><path d="M15 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zM3 12c0-2.61 1.67-4.83 4-5.65V4.26C3.55 5.15 1 8.27 1 12s2.55 6.85 6 7.74v-2.09c-2.33-.82-4-3.04-4-5.65z" /></g>
<g id="touch-app"><path d="M9 11.24V7.5C9 6.12 10.12 5 11.5 5S14 6.12 14 7.5v3.74c1.21-.81 2-2.18 2-3.74C16 5.01 13.99 3 11.5 3S7 5.01 7 7.5c0 1.56.79 2.93 2 3.74zm9.84 4.63l-4.54-2.26c-.17-.07-.35-.11-.54-.11H13v-6c0-.83-.67-1.5-1.5-1.5S10 6.67 10 7.5v10.74l-3.43-.72c-.08-.01-.15-.03-.24-.03-.31 0-.59.13-.79.33l-.79.8 4.94 4.94c.27.27.65.44 1.06.44h6.79c.75 0 1.33-.55 1.44-1.28l.75-5.27c.01-.07.02-.14.02-.2 0-.62-.38-1.16-.91-1.38z" /></g>
<g id="track-changes"><path d="M19.07 4.93l-1.41 1.41C19.1 7.79 20 9.79 20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8c0-4.08 3.05-7.44 7-7.93v2.02C8.16 6.57 6 9.03 6 12c0 3.31 2.69 6 6 6s6-2.69 6-6c0-1.66-.67-3.16-1.76-4.24l-1.41 1.41C15.55 9.9 16 10.9 16 12c0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.86 1.28-3.41 3-3.86v2.14c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V2h-1C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-2.76-1.12-5.26-2.93-7.07z" /></g>
<g id="translate"><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z" /></g>
<g id="trending-down"><path d="M16 18l2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z" /></g>
<g id="trending-flat"><path d="M22 12l-4-4v3H3v2h15v3z" /></g>
<g id="trending-up"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z" /></g>
<g id="turned-in"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z" /></g>
<g id="turned-in-not"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z" /></g>
<g id="unarchive"><path d="M20.55 5.22l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.15.55L3.46 5.22C3.17 5.57 3 6.01 3 6.5V19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.49-.17-.93-.45-1.28zM12 9.5l5.5 5.5H14v2h-4v-2H6.5L12 9.5zM5.12 5l.82-1h12l.93 1H5.12z" /></g>
<g id="undo"><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z" /></g>
<g id="unfold-less"><path d="M7.41 18.59L8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z" /></g>
<g id="unfold-more"><path d="M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z" /></g>
<g id="update"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79 2.73 2.71 7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58 3.51-3.47 9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z" /></g>
<g id="verified-user"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z" /></g>
<g id="view-agenda"><path d="M20 13H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zm0-10H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1z" /></g>
<g id="view-array"><path d="M4 18h3V5H4v13zM18 5v13h3V5h-3zM8 18h9V5H8v13z" /></g>
<g id="view-carousel"><path d="M7 19h10V4H7v15zm-5-2h4V6H2v11zM18 6v11h4V6h-4z" /></g>
<g id="view-column"><path d="M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z" /></g>
<g id="view-day"><path d="M2 21h19v-3H2v3zM20 8H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zM2 3v3h19V3H2z" /></g>
<g id="view-headline"><path d="M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z" /></g>
<g id="view-list"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z" /></g>
<g id="view-module"><path d="M4 11h5V5H4v6zm0 7h5v-6H4v6zm6 0h5v-6h-5v6zm6 0h5v-6h-5v6zm-6-7h5V5h-5v6zm6-6v6h5V5h-5z" /></g>
<g id="view-quilt"><path d="M10 18h5v-6h-5v6zm-6 0h5V5H4v13zm12 0h5v-6h-5v6zM10 5v6h11V5H10z" /></g>
<g id="view-stream"><path d="M4 18h17v-6H4v6zM4 5v6h17V5H4z" /></g>
<g id="view-week"><path d="M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z" /></g>
<g id="visibility"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" /></g>
<g id="visibility-off"><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z" /></g>
<g id="warning"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" /></g>
<g id="watch-later"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z" /></g>
<g id="weekend"><path d="M21 10c-1.1 0-2 .9-2 2v3H5v-3c0-1.1-.9-2-2-2s-2 .9-2 2v5c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm-3-5H6c-1.1 0-2 .9-2 2v2.15c1.16.41 2 1.51 2 2.82V14h12v-2.03c0-1.3.84-2.4 2-2.82V7c0-1.1-.9-2-2-2z" /></g>
<g id="work"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z" /></g>
<g id="youtube-searched-for"><path d="M17.01 14h-.8l-.27-.27c.98-1.14 1.57-2.61 1.57-4.23 0-3.59-2.91-6.5-6.5-6.5s-6.5 3-6.5 6.5H2l3.84 4 4.16-4H6.51C6.51 7 8.53 5 11.01 5s4.5 2.01 4.5 4.5c0 2.48-2.02 4.5-4.5 4.5-.65 0-1.26-.14-1.82-.38L7.71 15.1c.97.57 2.09.9 3.3.9 1.61 0 3.08-.59 4.22-1.57l.27.27v.79l5.01 4.99L22 19l-4.99-5z" /></g>
<g id="zoom-in"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></g>
<g id="zoom-out"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z" /></g>
</defs></svg>
</iron-iconset-svg>







<script>//~~WEBPATH~~/paper-behaviors/paper-button-behavior.html.js
Polymer.PaperButtonBehaviorImpl={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var a=1;this.disabled?a=0:this.active||this.pressed?a=4:this.receivedFocusFromKeyboard&&(a=3);this._setElevation(a)},_computeKeyboardClass:function(a){this.toggleClass("keyboard-focus",
a)},_spaceKeyDownHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this,a);this.hasRipple()&&1>this.getRipple().ripples.length&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this,a);this.hasRipple()&&this._ripple.uiUpAction()}};Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperButtonBehaviorImpl];
</script>




<custom-style>
  <style is="custom-style">
    html {

      --shadow-transition: {
        transition: box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);
      };

      --shadow-none: {
        box-shadow: none;
      };

      /* from http://codepen.io/shyndman/pen/c5394ddf2e8b2a5c9185904b57421cdb */

      --shadow-elevation-2dp: {
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);
      };

      --shadow-elevation-3dp: {
        box-shadow: 0 3px 4px 0 rgba(0, 0, 0, 0.14),
                    0 1px 8px 0 rgba(0, 0, 0, 0.12),
                    0 3px 3px -2px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-4dp: {
        box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),
                    0 1px 10px 0 rgba(0, 0, 0, 0.12),
                    0 2px 4px -1px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-6dp: {
        box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),
                    0 1px 18px 0 rgba(0, 0, 0, 0.12),
                    0 3px 5px -1px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-8dp: {
        box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14),
                    0 3px 14px 2px rgba(0, 0, 0, 0.12),
                    0 5px 5px -3px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-12dp: {
        box-shadow: 0 12px 16px 1px rgba(0, 0, 0, 0.14),
                    0 4px 22px 3px rgba(0, 0, 0, 0.12),
                    0 6px 7px -4px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-16dp: {
        box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14),
                    0  6px 30px 5px rgba(0, 0, 0, 0.12),
                    0  8px 10px -5px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-24dp: {
        box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14),
                    0 9px 46px 8px rgba(0, 0, 0, 0.12),
                    0 11px 15px -7px rgba(0, 0, 0, 0.4);
      };
    }
  </style>
</custom-style>




<dom-module id="paper-material-styles">
  <template>
    <style>
      :host, html {
        --paper-material: {
          display: block;
          position: relative;
        };
        --paper-material-elevation-1: {
          @apply --shadow-elevation-2dp;
        };
        --paper-material-elevation-2: {
          @apply --shadow-elevation-4dp;
        };
        --paper-material-elevation-3: {
          @apply --shadow-elevation-6dp;
        };
        --paper-material-elevation-4: {
          @apply --shadow-elevation-8dp;
        };
        --paper-material-elevation-5: {
          @apply --shadow-elevation-16dp;
        };
      }
      :host(.paper-material), .paper-material {
        @apply --paper-material;
      }
      :host(.paper-material[elevation="1"]), .paper-material[elevation="1"] {
        @apply --paper-material-elevation-1;
      }
      :host(.paper-material[elevation="2"]), .paper-material[elevation="2"] {
        @apply --paper-material-elevation-2;
      }
      :host(.paper-material[elevation="3"]), .paper-material[elevation="3"] {
        @apply --paper-material-elevation-3;
      }
      :host(.paper-material[elevation="4"]), .paper-material[elevation="4"] {
        @apply --paper-material-elevation-4;
      }
      :host(.paper-material[elevation="5"]), .paper-material[elevation="5"] {
        @apply --paper-material-elevation-5;
      }
    </style>
  </template>
</dom-module>




<dom-module id="paper-button">
  <template strip-whitespace>
    <style include="paper-material-styles">
      /* Need to specify the same specificity as the styles imported from paper-material. */
      :host {
        @apply --layout-inline;
        @apply --layout-center-center;
        position: relative;
        box-sizing: border-box;
        min-width: 5.14em;
        margin: 0 0.29em;
        background: transparent;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-tap-highlight-color: transparent;
        font: inherit;
        text-transform: uppercase;
        outline-width: 0;
        border-radius: 3px;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;
        cursor: pointer;
        z-index: 0;
        padding: 0.7em 0.57em;

        @apply --paper-font-common-base;
        @apply --paper-button;
      }

      :host([elevation="1"]) {
        @apply --paper-material-elevation-1;
      }

      :host([elevation="2"]) {
        @apply --paper-material-elevation-2;
      }

      :host([elevation="3"]) {
        @apply --paper-material-elevation-3;
      }

      :host([elevation="4"]) {
        @apply --paper-material-elevation-4;
      }

      :host([elevation="5"]) {
        @apply --paper-material-elevation-5;
      }

      :host([hidden]) {
        display: none !important;
      }

      :host([raised].keyboard-focus) {
        font-weight: bold;
        @apply --paper-button-raised-keyboard-focus;
      }

      :host(:not([raised]).keyboard-focus) {
        font-weight: bold;
        @apply --paper-button-flat-keyboard-focus;
      }

      :host([disabled]) {
        background: none;

        color: #a8a8a8;
        cursor: auto;
        pointer-events: none;

        @apply --paper-button-disabled;
      }

      :host([raised][disabled]) {
        background: #eaeaea;
      }

      :host([animated]) {
        @apply --shadow-transition;
      }

      paper-ripple {
        color: var(--paper-button-ink-color);
      }
    </style>

    <slot></slot>
  </template>

  <script>//~~WEBPATH~~/paper-button/paper-button.html.js
Polymer({is:"paper-button",behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this):this._setElevation(0)}});
</script>
</dom-module>








<script>//~~WEBPATH~~/iron-validatable-behavior/iron-validatable-behavior.html.js
Polymer.IronValidatableBehaviorMeta=null;
Polymer.IronValidatableBehavior={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1},_validatorMeta:{type:Object},validatorType:{type:String,value:"validator"},_validator:{type:Object,computed:"__computeValidator(validator)"}},observers:["_invalidChanged(invalid)"],registered:function(){Polymer.IronValidatableBehaviorMeta=new Polymer.IronMeta({type:"validator"})},_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},
hasValidator:function(){return null!=this._validator},validate:function(a){this.invalid=!this._getValidity(a);return!this.invalid},_getValidity:function(a){return this.hasValidator()?this._validator.validate(a):!0},__computeValidator:function(){return Polymer.IronValidatableBehaviorMeta&&Polymer.IronValidatableBehaviorMeta.byKey(this.validator)}};
</script>



<script>//~~WEBPATH~~/iron-form-element-behavior/iron-form-element-behavior.html.js
Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached:function(){Polymer.Element||this.fire("iron-form-element-register")},detached:function(){!Polymer.Element&&this._parentForm&&this._parentForm.fire("iron-form-element-unregister",{target:this})}};
</script>


<script>//~~WEBPATH~~/iron-checked-element-behavior/iron-checked-element-behavior.html.js
Polymer.IronCheckedElementBehaviorImpl={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(){return this.disabled||!this.required||this.checked},_requiredChanged:function(){this.required?this.setAttribute("aria-required",
"true"):this.removeAttribute("aria-required")},_checkedChanged:function(){this.active=this.checked;this.fire("iron-change")},_valueChanged:function(){if(void 0===this.value||null===this.value)this.value="on"}};Polymer.IronCheckedElementBehavior=[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronCheckedElementBehaviorImpl];
</script>



<script>//~~WEBPATH~~/paper-behaviors/paper-checked-element-behavior.html.js
Polymer.PaperCheckedElementBehaviorImpl={_checkedChanged:function(){Polymer.IronCheckedElementBehaviorImpl._checkedChanged.call(this);this.hasRipple()&&(this.checked?this._ripple.setAttribute("checked",""):this._ripple.removeAttribute("checked"))},_buttonStateChanged:function(){Polymer.PaperRippleBehavior._buttonStateChanged.call(this);!this.disabled&&this.isAttached&&(this.checked=this.active)}};
Polymer.PaperCheckedElementBehavior=[Polymer.PaperInkyFocusBehavior,Polymer.IronCheckedElementBehavior,Polymer.PaperCheckedElementBehaviorImpl];
</script>




<dom-module id="paper-checkbox">
  <template strip-whitespace>
    <style>
      :host {
        display: inline-block;
        white-space: nowrap;
        cursor: pointer;
        --calculated-paper-checkbox-size: var(--paper-checkbox-size, 18px);
        /* -1px is a sentinel for the default and is replaced in `attached`. */
        --calculated-paper-checkbox-ink-size: var(--paper-checkbox-ink-size, -1px);
        @apply --paper-font-common-base;
        line-height: 0;
        -webkit-tap-highlight-color: transparent;
      }

      :host([hidden]) {
        display: none !important;
      }

      :host(:focus) {
        outline: none;
      }

      .hidden {
        display: none;
      }

      #checkboxContainer {
        display: inline-block;
        position: relative;
        width: var(--calculated-paper-checkbox-size);
        height: var(--calculated-paper-checkbox-size);
        min-width: var(--calculated-paper-checkbox-size);
        margin: var(--paper-checkbox-margin, initial);
        vertical-align: var(--paper-checkbox-vertical-align, middle);
        background-color: var(--paper-checkbox-unchecked-background-color, transparent);
      }

      #ink {
        position: absolute;

        /* Center the ripple in the checkbox by negative offsetting it by
         * (inkWidth - rippleWidth) / 2 */
        top: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);
        left: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);
        width: var(--calculated-paper-checkbox-ink-size);
        height: var(--calculated-paper-checkbox-ink-size);
        color: var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));
        opacity: 0.6;
        pointer-events: none;
      }

      #ink:dir(rtl) {
        right: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);
        left: auto;
      }

      #ink[checked] {
        color: var(--paper-checkbox-checked-ink-color, var(--primary-color));
      }

      #checkbox {
        position: relative;
        box-sizing: border-box;
        height: 100%;
        border: solid 2px;
        border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));
        border-radius: 2px;
        pointer-events: none;
        -webkit-transition: background-color 140ms, border-color 140ms;
        transition: background-color 140ms, border-color 140ms;
      }

      /* checkbox checked animations */
      #checkbox.checked #checkmark {
        -webkit-animation: checkmark-expand 140ms ease-out forwards;
        animation: checkmark-expand 140ms ease-out forwards;
      }

      @-webkit-keyframes checkmark-expand {
        0% {
          -webkit-transform: scale(0, 0) rotate(45deg);
        }
        100% {
          -webkit-transform: scale(1, 1) rotate(45deg);
        }
      }

      @keyframes checkmark-expand {
        0% {
          transform: scale(0, 0) rotate(45deg);
        }
        100% {
          transform: scale(1, 1) rotate(45deg);
        }
      }

      #checkbox.checked {
        background-color: var(--paper-checkbox-checked-color, var(--primary-color));
        border-color: var(--paper-checkbox-checked-color, var(--primary-color));
      }

      #checkmark {
        position: absolute;
        width: 36%;
        height: 70%;
        border-style: solid;
        border-top: none;
        border-left: none;
        border-right-width: calc(2/15 * var(--calculated-paper-checkbox-size));
        border-bottom-width: calc(2/15 * var(--calculated-paper-checkbox-size));
        border-color: var(--paper-checkbox-checkmark-color, white);
        -webkit-transform-origin: 97% 86%;
        transform-origin: 97% 86%;
        box-sizing: content-box; /* protect against page-level box-sizing */
      }

      #checkmark:dir(rtl) {
        -webkit-transform-origin: 50% 14%;
        transform-origin: 50% 14%;
      }

      /* label */
      #checkboxLabel {
        position: relative;
        display: inline-block;
        vertical-align: middle;
        padding-left: var(--paper-checkbox-label-spacing, 8px);
        white-space: normal;
        line-height: normal;
        color: var(--paper-checkbox-label-color, var(--primary-text-color));
        @apply --paper-checkbox-label;
      }

      :host([checked]) #checkboxLabel {
        color: var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));
        @apply --paper-checkbox-label-checked;
      }

      #checkboxLabel:dir(rtl) {
        padding-right: var(--paper-checkbox-label-spacing, 8px);
        padding-left: 0;
      }

      #checkboxLabel[hidden] {
        display: none;
      }

      /* disabled state */

      :host([disabled]) #checkbox {
        opacity: 0.5;
        border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));
      }

      :host([disabled][checked]) #checkbox {
        background-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));
        opacity: 0.5;
      }

      :host([disabled]) #checkboxLabel  {
        opacity: 0.65;
      }

      /* invalid state */
      #checkbox.invalid:not(.checked) {
        border-color: var(--paper-checkbox-error-color, var(--error-color));
      }
    </style>

    <div id="checkboxContainer">
      <div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]">
        <div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div>
      </div>
    </div>

    <div id="checkboxLabel"><slot></slot></div>
  </template>

  <script>//~~WEBPATH~~/paper-checkbox/paper-checkbox.html.js
Polymer({is:"paper-checkbox",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"checkbox","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim()){var a=this.getComputedStyleValue("--calculated-paper-checkbox-size").trim(),b="px",c=a.match(/[A-Za-z]+$/);null!==c&&(b=c[0]);a=parseFloat(a);
c=8/3*a;"px"===b&&(c=Math.floor(c),c%2!==a%2&&c++);this.updateStyles({"--paper-checkbox-ink-size":c+b})}})},_computeCheckboxClass:function(a,b){var c="";a&&(c+="checked ");b&&(c+="invalid");return c},_computeCheckmarkClass:function(a){return a?"":"hidden"},_createRipple:function(){this._rippleContainer=this.$.checkboxContainer;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)}});
</script>
</dom-module>







<script>//~~WEBPATH~~/iron-fit-behavior/iron-fit-behavior.html.js
Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){return this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width},
get _fitHeight(){return this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height},get _fitLeft(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().left},get _fitTop(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().top},get _defaultPositionTarget(){var a=Polymer.dom(this).parentNode;a&&a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(a=a.host);return a},get _localeHorizontalAlign(){if(this._isRTL){if("right"===this.horizontalAlign)return"left";
if("left"===this.horizontalAlign)return"right"}return this.horizontalAlign},get __shouldPosition(){return(this.horizontalAlign||this.verticalAlign)&&this.positionTarget},attached:function(){"undefined"===typeof this._isRTL&&(this._isRTL="rtl"==window.getComputedStyle(this).direction);this.positionTarget=this.positionTarget||this._defaultPositionTarget;this.autoFitOnAttach&&("none"===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):(window.ShadyDOM&&ShadyDOM.flush(),
this.fit()))},detached:function(){this.__deferredFit&&(clearTimeout(this.__deferredFit),this.__deferredFit=null)},fit:function(){this.position();this.constrain();this.center()},_discoverInfo:function(){if(!this._fitInfo){var a=window.getComputedStyle(this),b=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||"",maxHeight:this.sizingTarget.style.maxHeight||
"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==a.top?"top":"auto"!==a.bottom?"bottom":null,horizontally:"auto"!==a.left?"left":"auto"!==a.right?"right":null},sizedBy:{height:"none"!==b.maxHeight,width:"none"!==b.maxWidth,minWidth:parseInt(b.minWidth,10)||0,minHeight:parseInt(b.minHeight,10)||0},margin:{top:parseInt(a.marginTop,10)||0,right:parseInt(a.marginRight,10)||0,bottom:parseInt(a.marginBottom,10)||0,left:parseInt(a.marginLeft,10)||0}}}},resetFit:function(){var a=
this._fitInfo||{},b;for(b in a.sizerInlineStyle)this.sizingTarget.style[b]=a.sizerInlineStyle[b];for(b in a.inlineStyle)this.style[b]=a.inlineStyle[b];this._fitInfo=null},refit:function(){var a=this.sizingTarget.scrollLeft,b=this.sizingTarget.scrollTop;this.resetFit();this.fit();this.sizingTarget.scrollLeft=a;this.sizingTarget.scrollTop=b},position:function(){if(this.__shouldPosition){this._discoverInfo();this.style.position="fixed";this.sizingTarget.style.boxSizing="border-box";this.style.left="0px";
this.style.top="0px";var a=this.getBoundingClientRect(),b=this.__getNormalizedRect(this.positionTarget),c=this.__getNormalizedRect(this.fitInto),d=this._fitInfo.margin,e=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,{width:a.width+d.left+d.right,height:a.height+d.top+d.bottom},a,b,c);b=e.left+d.left;e=e.top+d.top;var g=Math.min(c.right-d.right,b+a.width),h=Math.min(c.bottom-d.bottom,e+a.height);b=Math.max(c.left+d.left,Math.min(b,g-this._fitInfo.sizedBy.minWidth));e=Math.max(c.top+
d.top,Math.min(e,h-this._fitInfo.sizedBy.minHeight));this.sizingTarget.style.maxWidth=Math.max(g-b,this._fitInfo.sizedBy.minWidth)+"px";this.sizingTarget.style.maxHeight=Math.max(h-e,this._fitInfo.sizedBy.minHeight)+"px";this.style.left=b-a.left+"px";this.style.top=e-a.top+"px"}},constrain:function(){if(!this.__shouldPosition){this._discoverInfo();var a=this._fitInfo;a.positionedBy.vertically||(this.style.position="fixed",this.style.top="0px");a.positionedBy.horizontally||(this.style.position="fixed",
this.style.left="0px");this.sizingTarget.style.boxSizing="border-box";var b=this.getBoundingClientRect();a.sizedBy.height||this.__sizeDimension(b,a.positionedBy.vertically,"top","bottom","Height");a.sizedBy.width||this.__sizeDimension(b,a.positionedBy.horizontally,"left","right","Width")}},_sizeDimension:function(a,b,c,d,e){this.__sizeDimension(a,b,c,d,e)},__sizeDimension:function(a,b,c,d,e){var g=this._fitInfo,h=this.__getNormalizedRect(this.fitInto);h="Width"===e?h.width:h.height;b=b===d;var k=
"offset"+e;this.sizingTarget.style["max"+e]=h-g.margin[b?c:d]-(b?h-a[d]:a[c])-(this[k]-this.sizingTarget[k])+"px"},center:function(){if(!this.__shouldPosition){this._discoverInfo();var a=this._fitInfo.positionedBy;if(!a.vertically||!a.horizontally){this.style.position="fixed";a.vertically||(this.style.top="0px");a.horizontally||(this.style.left="0px");var b=this.getBoundingClientRect(),c=this.__getNormalizedRect(this.fitInto);a.vertically||(this.style.top=c.top-b.top+(c.height-b.height)/2+"px");a.horizontally||
(this.style.left=c.left-b.left+(c.width-b.width)/2+"px")}}},__getNormalizedRect:function(a){return a===document.documentElement||a===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:a.getBoundingClientRect()},__getOffscreenArea:function(a,b,c){return Math.abs(Math.min(0,a.top)+Math.min(0,c.bottom-(a.top+b.height)))*b.width+Math.abs(Math.min(0,a.left)+Math.min(0,c.right-(a.left+b.width)))*b.height},__getPosition:function(a,b,
c,d,e,g){var h=[{verticalAlign:"top",horizontalAlign:"left",top:e.top+this.verticalOffset,left:e.left+this.horizontalOffset},{verticalAlign:"top",horizontalAlign:"right",top:e.top+this.verticalOffset,left:e.right-c.width-this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"left",top:e.bottom-c.height-this.verticalOffset,left:e.left+this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"right",top:e.bottom-c.height-this.verticalOffset,left:e.right-c.width-this.horizontalOffset}];
if(this.noOverlap){for(var k=0,l=h.length;k<l;k++){var m={},n;for(n in h[k])m[n]=h[k][n];h.push(m)}h[0].top=h[1].top+=e.height;h[2].top=h[3].top-=e.height;h[4].left=h[6].left+=e.width;h[5].left=h[7].left-=e.width}b="auto"===b?null:b;a="auto"===a?null:a;a&&"center"!==a||(h.push({verticalAlign:"top",horizontalAlign:"center",top:e.top+this.verticalOffset+(this.noOverlap?e.height:0),left:e.left-d.width/2+e.width/2+this.horizontalOffset}),h.push({verticalAlign:"bottom",horizontalAlign:"center",top:e.bottom-
c.height-this.verticalOffset-(this.noOverlap?e.height:0),left:e.left-d.width/2+e.width/2+this.horizontalOffset}));b&&"middle"!==b||(h.push({verticalAlign:"middle",horizontalAlign:"left",top:e.top-d.height/2+e.height/2+this.verticalOffset,left:e.left+this.horizontalOffset+(this.noOverlap?e.width:0)}),h.push({verticalAlign:"middle",horizontalAlign:"right",top:e.top-d.height/2+e.height/2+this.verticalOffset,left:e.right-c.width-this.horizontalOffset-(this.noOverlap?e.width:0)}));"middle"===b&&"center"===
a&&h.push({verticalAlign:"middle",horizontalAlign:"center",top:e.top-d.height/2+e.height/2+this.verticalOffset,left:e.left-d.width/2+e.width/2+this.horizontalOffset});for(k=0;k<h.length;k++){d=h[k];e=d.verticalAlign===b;l=d.horizontalAlign===a;if(!this.dynamicAlign&&!this.noOverlap&&e&&l){var q=d;break}m=(!b||e)&&(!a||l);if(this.dynamicAlign||m){d.offscreenArea=this.__getOffscreenArea(d,c,g);if(0===d.offscreenArea&&m){q=d;break}q=q||d;m=d.offscreenArea-q.offscreenArea;if(0>m||0===m&&(e||l))q=d}}return q}};
</script>








<dom-module id="iron-overlay-backdrop">

  <template>
    <style>
      :host {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: var(--iron-overlay-backdrop-background-color, #000);
        opacity: 0;
        transition: opacity 0.2s;
        pointer-events: none;
        @apply --iron-overlay-backdrop;
      }

      :host(.opened) {
        opacity: var(--iron-overlay-backdrop-opacity, 0.6);
        pointer-events: auto;
        @apply --iron-overlay-backdrop-opened;
      }
    </style>

    <slot></slot>
  </template>

</dom-module>

<script>//~~WEBPATH~~/iron-overlay-behavior/iron-overlay-backdrop.html.js
Polymer({is:"iron-overlay-backdrop",properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_openedChanged"}},listeners:{transitionend:"_onTransitionend"},created:function(){this.__openedRaf=null},attached:function(){this.opened&&this._openedChanged(this.opened)},prepare:function(){this.opened&&!this.parentNode&&Polymer.dom(document.body).appendChild(this)},open:function(){this.opened=!0},close:function(){this.opened=!1},complete:function(){this.opened||this.parentNode!==document.body||
Polymer.dom(this.parentNode).removeChild(this)},_onTransitionend:function(a){a&&a.target===this&&this.complete()},_openedChanged:function(a){a?this.prepare():(a=window.getComputedStyle(this),"0s"!==a.transitionDuration&&0!=a.opacity||this.complete());this.isAttached&&(this.__openedRaf&&(window.cancelAnimationFrame(this.__openedRaf),this.__openedRaf=null),this.scrollTop=this.scrollTop,this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null;this.toggleClass("opened",this.opened)}.bind(this)))}});
</script>


<script>//~~WEBPATH~~/iron-overlay-behavior/iron-overlay-manager.html.js
Polymer.IronOverlayManagerClass=function(){this._overlays=[];this._minimumZ=101;this._backdropElement=null;Polymer.Gestures.add(document.documentElement,"tap",function(){});document.addEventListener("tap",this._onCaptureClick.bind(this),!0);document.addEventListener("focus",this._onCaptureFocus.bind(this),!0);document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)};
function Ma(a,b){a=a._minimumZ;b&&(b=Number(b.style.zIndex||window.getComputedStyle(b).zIndex),b===b&&(a=b));return a}
function Na(a,b){var c=a._overlays.indexOf(b);if(0<=c){if(b=c,c=a._overlays[b]){var d=a._overlays.length-1,e=a._overlays[d];e&&!c.alwaysOnTop&&e.alwaysOnTop&&d--;if(!(b>=d)){e=Math.max(Ma(a,Qa(a)),a._minimumZ);Ma(a,c)<=e&&(c.style.zIndex=e+2);for(;b<d;)a._overlays[b]=a._overlays[b+1],b++;a._overlays[d]=c}}}else{c=a._overlays.length;d=a._overlays[c-1];e=Math.max(Ma(a,d),a._minimumZ);var g=Ma(a,b);d&&!b.alwaysOnTop&&d.alwaysOnTop&&(d.style.zIndex=e+2,c--,e=Math.max(Ma(a,a._overlays[c-1]),a._minimumZ));
g<=e&&(b.style.zIndex=e+2);a._overlays.splice(c,0,b)}Va(a)}function Wa(a,b){b=a._overlays.indexOf(b);-1!==b&&(a._overlays.splice(b,1),Va(a))}function Va(a){var b=Xa(a);if(b||a._backdropElement)a.backdropElement.style.zIndex=Ma(a,b)-1,a.backdropElement.opened=!!b,a.backdropElement.prepare()}function Qa(a){return a._overlays[a._overlays.length-1]}function Xa(a){for(var b=a._overlays.length-1;0<=b;b--)if(a._overlays[b].withBackdrop)return a._overlays[b]}
function Ya(a,b){b=b||[];for(var c=0;c<b.length;c++)if(b[c]._manager===a)return b[c]}
Polymer.IronOverlayManagerClass.prototype={constructor:Polymer.IronOverlayManagerClass,get backdropElement(){this._backdropElement||(this._backdropElement=document.createElement("iron-overlay-backdrop"));return this._backdropElement},get deepActiveElement(){var a=document.activeElement;a&&!1!==a instanceof Element||(a=document.body);for(;a.root&&Polymer.dom(a.root).activeElement;)a=Polymer.dom(a.root).activeElement;return a},addOrRemoveOverlay:function(a){a.opened?Na(this,a):Wa(this,a)},ensureMinimumZ:function(a){this._minimumZ=
Math.max(this._minimumZ,a)},focusOverlay:function(){var a=Qa(this);a&&a._applyFocus()},getBackdrops:function(){for(var a=[],b=0;b<this._overlays.length;b++)this._overlays[b].withBackdrop&&a.push(this._overlays[b]);return a},backdropZ:function(){return Ma(this,Xa(this))-1},_onCaptureClick:function(a){var b=this._overlays.length-1;if(-1!==b)for(var c=Polymer.dom(a).path,d;(d=this._overlays[b])&&Ya(this,c)!==d;)if(d._onCaptureClick(a),d.allowClickThrough)b--;else break},_onCaptureFocus:function(a){var b=
Qa(this);b&&b._onCaptureFocus(a)},_onCaptureKeyDown:function(a){var b=Qa(this);b&&(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"esc")?b._onCaptureEsc(a):Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"tab")&&b._onCaptureTab(a))}};Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass;
</script>



<script>//~~WEBPATH~~/iron-overlay-behavior/iron-scroll-manager.html.js
(function(){var a=0,b=0,c=null,d=[],e=["wheel","mousewheel","DOMMouseScroll","touchstart","touchmove"];Polymer.IronScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(g){var h=this.currentLockingElement;if(void 0===h)return!1;if(this._hasCachedLockedElement(g))return!0;if(this._hasCachedUnlockedElement(g))return!1;(h=!!h&&h!==g&&!this._composedTreeContains(h,g))?this._lockedElementCache.push(g):this._unlockedElementCache.push(g);
return h},pushScrollLock:function(g){0<=this._lockingElements.indexOf(g)||(0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(g),this._lockedElementCache=[],this._unlockedElementCache=[])},removeScrollLock:function(g){g=this._lockingElements.indexOf(g);-1!==g&&(this._lockingElements.splice(g,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},_lockingElements:[],_lockedElementCache:null,
_unlockedElementCache:null,_hasCachedLockedElement:function(g){return-1<this._lockedElementCache.indexOf(g)},_hasCachedUnlockedElement:function(g){return-1<this._unlockedElementCache.indexOf(g)},_composedTreeContains:function(g,h){var k,l;if(g.contains(h))return!0;g=Polymer.dom(g).querySelectorAll("content,slot");for(k=0;k<g.length;++k){var m=Polymer.dom(g[k]).getDistributedNodes();for(l=0;l<m.length;++l)if(m[l].nodeType===Node.ELEMENT_NODE&&this._composedTreeContains(m[l],h))return!0}return!1},_scrollInteractionHandler:function(g){g.cancelable&&
this._shouldPreventScrolling(g)&&g.preventDefault();g.targetTouches&&(g=g.targetTouches[0],a=g.pageX,b=g.pageY)},_boundScrollHandler:void 0,_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);for(var g=0,h=e.length;g<h;g++)document.addEventListener(e[g],this._boundScrollHandler,{capture:!0,passive:!1})},_unlockScrollInteractions:function(){for(var g=0,h=e.length;g<h;g++)document.removeEventListener(e[g],this._boundScrollHandler,
{capture:!0,passive:!1})},_shouldPreventScrolling:function(g){var h=Polymer.dom(g).rootTarget;"touchmove"!==g.type&&c!==h&&(c=h,d=this._getScrollableNodes(Polymer.dom(g).path));if(!d.length)return!0;if("touchstart"===g.type)return!1;g=this._getScrollInfo(g);return!this._getScrollingNode(d,g.deltaX,g.deltaY)},_getScrollableNodes:function(g){for(var h=[],k=g.indexOf(this.currentLockingElement),l=0;l<=k;l++)if(g[l].nodeType===Node.ELEMENT_NODE){var m=g[l],n=m.style;"scroll"!==n.overflow&&"auto"!==n.overflow&&
(n=window.getComputedStyle(m));"scroll"!==n.overflow&&"auto"!==n.overflow||h.push(m)}return h},_getScrollingNode:function(g,h,k){if(h||k)for(var l=Math.abs(k)>=Math.abs(h),m=0;m<g.length;m++){var n=g[m];if(l?0>k?0<n.scrollTop:n.scrollTop<n.scrollHeight-n.clientHeight:0>h?0<n.scrollLeft:n.scrollLeft<n.scrollWidth-n.clientWidth)return n}},_getScrollInfo:function(g){var h={deltaX:g.deltaX,deltaY:g.deltaY};"deltaX"in g||("wheelDeltaX"in g&&"wheelDeltaY"in g?(h.deltaX=-g.wheelDeltaX,h.deltaY=-g.wheelDeltaY):
"wheelDelta"in g?(h.deltaX=0,h.deltaY=-g.wheelDelta):"axis"in g?(h.deltaX=1===g.axis?g.detail:0,h.deltaY=2===g.axis?g.detail:0):g.targetTouches&&(g=g.targetTouches[0],h.deltaX=a-g.pageX,h.deltaY=b-g.pageY));return h}}})();
</script>



<script>//~~WEBPATH~~/iron-overlay-behavior/iron-focusables-helper.html.js
(function(){var a=Element.prototype,b=a.matches||a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector;Polymer.IronFocusablesHelper={getTabbableNodes:function(c){var d=[];return this._collectTabbableNodes(c,d)?this._sortByTabIndex(d):d},isFocusable:function(c){return b.call(c,"input, select, textarea, button, object")?b.call(c,":not([disabled])"):b.call(c,"a[href], area[href], iframe, [tabindex], [contentEditable]")},isTabbable:function(c){return this.isFocusable(c)&&
b.call(c,':not([tabindex\x3d"-1"])')&&this._isVisible(c)},_normalizedTabIndex:function(c){return this.isFocusable(c)?(c=c.getAttribute("tabindex")||0,Number(c)):-1},_collectTabbableNodes:function(c,d){if(c.nodeType!==Node.ELEMENT_NODE||!this._isVisible(c))return!1;var e=this._normalizedTabIndex(c),g=0<e;0<=e&&d.push(c);c="content"===c.localName||"slot"===c.localName?Polymer.dom(c).getDistributedNodes():Polymer.dom(c.root||c).children;for(e=0;e<c.length;e++)g=this._collectTabbableNodes(c[e],d)||g;
return g},_isVisible:function(c){var d=c.style;return"hidden"!==d.visibility&&"none"!==d.display?(d=window.getComputedStyle(c),"hidden"!==d.visibility&&"none"!==d.display):!1},_sortByTabIndex:function(c){var d=c.length;if(2>d)return c;var e=Math.ceil(d/2);d=this._sortByTabIndex(c.slice(0,e));c=this._sortByTabIndex(c.slice(e));return this._mergeSortByTabIndex(d,c)},_mergeSortByTabIndex:function(c,d){for(var e=[];0<c.length&&0<d.length;)this._hasLowerTabOrder(c[0],d[0])?e.push(d.shift()):e.push(c.shift());
return e.concat(c,d)},_hasLowerTabOrder:function(c,d){c=Math.max(c.tabIndex,0);d=Math.max(d.tabIndex,0);return 0===c||0===d?d>c:c>d}}})();
</script>


<script>//~~WEBPATH~~/iron-overlay-behavior/iron-overlay-behavior.html.js
Polymer.IronOverlayBehaviorImpl={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1,notify:!0},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:"_withBackdropChanged",type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},allowClickThrough:{type:Boolean},alwaysOnTop:{type:Boolean},
scrollAction:{type:String},_manager:{type:Object,value:Polymer.IronOverlayManager},_focusedChild:{type:Object}},listeners:{"iron-resize":"_onIronResize"},observers:["__updateScrollObservers(isAttached, opened, scrollAction)"],get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||Polymer.dom(this).querySelector("[autofocus]")||this},get _focusableNodes(){return Polymer.IronFocusablesHelper.getTabbableNodes(this)},ready:function(){this.__shouldRemoveTabIndex=
this.__isAnimating=!1;this.__firstFocusableNode=this.__lastFocusableNode=null;this.__rafs={};this.__scrollTop=this.__scrollLeft=this.__restoreFocusNode=null;this.__onCaptureScroll=this.__onCaptureScroll.bind(this);this.__rootNodes=null;this._ensureSetup()},attached:function(){this.opened&&this._openedChanged(this.opened);this._observer=Polymer.dom(this).observeNodes(this._onNodesChange)},detached:function(){Polymer.dom(this).unobserveNodes(this._observer);this._observer=null;for(var a in this.__rafs)null!==
this.__rafs[a]&&cancelAnimationFrame(this.__rafs[a]);this.__rafs={};Wa(this._manager,this);this.__isAnimating&&(this.opened?this._finishRenderOpened():(this._applyFocus(),this._finishRenderClosed()))},toggle:function(){this._setCanceled(!1);this.opened=!this.opened},open:function(){this._setCanceled(!1);this.opened=!0},close:function(){this._setCanceled(!1);this.opened=!1},cancel:function(a){this.fire("iron-overlay-canceled",a,{cancelable:!0}).defaultPrevented||(this._setCanceled(!0),this.opened=
!1)},invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline="none",this.style.display="none")},_openedChanged:function(a){a?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true");this.isAttached&&(this.__isAnimating=!0,this.__deraf("__openedChanged",this.__openedChanged))},_canceledChanged:function(){this.closingReason=this.closingReason||{};this.closingReason.canceled=
this.canceled},_withBackdropChanged:function(){this.withBackdrop&&!this.hasAttribute("tabindex")?(this.setAttribute("tabindex","-1"),this.__shouldRemoveTabIndex=!0):this.__shouldRemoveTabIndex&&(this.removeAttribute("tabindex"),this.__shouldRemoveTabIndex=!1);this.opened&&this.isAttached&&Va(this._manager)},_prepareRenderOpened:function(){this.__restoreFocusNode=this._manager.deepActiveElement;this._preparePositioning();this.refit();this._finishPositioning();this.noAutoFocus&&document.activeElement===
this._focusNode&&(this._focusNode.blur(),this.__restoreFocusNode.focus())},_renderOpened:function(){this._finishRenderOpened()},_renderClosed:function(){this._finishRenderClosed()},_finishRenderOpened:function(){this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-opened")},_finishRenderClosed:function(){this.style.display="none";this.style.zIndex="";this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-closed",this.closingReason)},_preparePositioning:function(){this.style.transition=
this.style.webkitTransition="none";this.style.transform=this.style.webkitTransform="none";this.style.display=""},_finishPositioning:function(){this.style.display="none";this.scrollTop=this.scrollTop;this.style.transition=this.style.webkitTransition="";this.style.transform=this.style.webkitTransform="";this.style.display="";this.scrollTop=this.scrollTop},_applyFocus:function(){if(this.opened)this.noAutoFocus||this._focusNode.focus();else{if(this.restoreFocusOnClose&&this.__restoreFocusNode){var a=
this._manager.deepActiveElement;(a===document.body||Polymer.dom(this).deepContains(a))&&this.__restoreFocusNode.focus()}this.__restoreFocusNode=null;this._focusNode.blur();this._focusedChild=null}},_onCaptureClick:function(a){this.noCancelOnOutsideClick||this.cancel(a)},_onCaptureFocus:function(a){if(this.withBackdrop){var b=Polymer.dom(a).path;-1===b.indexOf(this)?(a.stopPropagation(),this._applyFocus()):this._focusedChild=b[0]}},_onCaptureEsc:function(a){this.noCancelOnEscKey||this.cancel(a)},_onCaptureTab:function(a){if(this.withBackdrop){this.__ensureFirstLastFocusables();
var b=a.shiftKey,c=b?this.__firstFocusableNode:this.__lastFocusableNode;b=b?this.__lastFocusableNode:this.__firstFocusableNode;if(c===b)c=!0;else{var d=this._manager.deepActiveElement;c=d===c||d===this}c&&(a.preventDefault(),this._focusedChild=b,this._applyFocus())}},_onIronResize:function(){this.opened&&!this.__isAnimating&&this.__deraf("refit",this.refit)},_onNodesChange:function(){this.opened&&!this.__isAnimating&&(this.invalidateTabbables(),this.notifyResize())},__ensureFirstLastFocusables:function(){if(!this.__firstFocusableNode||
!this.__lastFocusableNode){var a=this._focusableNodes;this.__firstFocusableNode=a[0];this.__lastFocusableNode=a[a.length-1]}},__openedChanged:function(){this.opened?(this._prepareRenderOpened(),Na(this._manager,this),this._applyFocus(),this._renderOpened()):(Wa(this._manager,this),this._applyFocus(),this._renderClosed())},__deraf:function(a,b){var c=this.__rafs;null!==c[a]&&cancelAnimationFrame(c[a]);c[a]=requestAnimationFrame(function(){c[a]=null;b.call(this)}.bind(this))},__updateScrollObservers:function(a,
b,c){a&&b&&this.__isValidScrollAction(c)?("lock"===c&&(this.__saveScrollPosition(),Polymer.IronScrollManager.pushScrollLock(this)),this.__addScrollListeners()):(Polymer.IronScrollManager.removeScrollLock(this),this.__removeScrollListeners())},__addScrollListeners:function(){if(!this.__rootNodes){this.__rootNodes=[];if(Polymer.Settings.useShadow)for(var a=this;a;)a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&a.host&&this.__rootNodes.push(a),a=a.host||a.assignedSlot||a.parentNode;this.__rootNodes.push(document)}this.__rootNodes.forEach(function(b){b.addEventListener("scroll",
this.__onCaptureScroll,{capture:!0,passive:!0})},this)},__removeScrollListeners:function(){this.__rootNodes&&this.__rootNodes.forEach(function(a){a.removeEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this);this.isAttached||(this.__rootNodes=null)},__isValidScrollAction:function(a){return"lock"===a||"refit"===a||"cancel"===a},__onCaptureScroll:function(a){if(!(this.__isAnimating||0<=Polymer.dom(a).path.indexOf(this)))switch(this.scrollAction){case "lock":this.__restoreScrollPosition();
break;case "refit":this.__deraf("refit",this.refit);break;case "cancel":this.cancel(a)}},__saveScrollPosition:function(){document.scrollingElement?(this.__scrollTop=document.scrollingElement.scrollTop,this.__scrollLeft=document.scrollingElement.scrollLeft):(this.__scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this.__scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},__restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=
this.__scrollTop,document.scrollingElement.scrollLeft=this.__scrollLeft):(document.documentElement.scrollTop=document.body.scrollTop=this.__scrollTop,document.documentElement.scrollLeft=document.body.scrollLeft=this.__scrollLeft)}};Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl];
</script>


<script>//~~WEBPATH~~/paper-dialog-behavior/paper-dialog-behavior.html.js
Polymer.PaperDialogBehaviorImpl={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{type:Boolean,value:!1}},observers:["_modalChanged(modal, _readied)"],listeners:{tap:"_onDialogClick"},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop},_modalChanged:function(a,b){b&&(a?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,
this.__prevWithBackdrop=this.withBackdrop,this.withBackdrop=this.noCancelOnEscKey=this.noCancelOnOutsideClick=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},_updateClosingReasonConfirmed:function(a){this.closingReason=this.closingReason||{};this.closingReason.confirmed=a},_onDialogClick:function(a){for(var b=Polymer.dom(a).path,
c=0;c<b.indexOf(this);c++){var d=b[c];if(d.hasAttribute&&(d.hasAttribute("dialog-dismiss")||d.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(d.hasAttribute("dialog-confirm"));this.close();a.stopPropagation();break}}}};Polymer.PaperDialogBehavior=[Polymer.IronOverlayBehavior,Polymer.PaperDialogBehaviorImpl];
</script>





<dom-module id="paper-dialog-scrollable">

  <template>
    <style>

      :host {
        display: block;
        @apply --layout-relative;
      }

      :host(.is-scrolled:not(:first-child))::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: var(--divider-color);
      }

      :host(.can-scroll:not(.scrolled-to-bottom):not(:last-child))::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: var(--divider-color);
      }

      .scrollable {
        padding: 0 24px;

        @apply --layout-scroll;
        @apply --paper-dialog-scrollable;
      }

      .fit {
        @apply --layout-fit;
      }
    </style>

    <div id="scrollable" class="scrollable" on-scroll="updateScrollState">
      <slot></slot>
    </div>
  </template>

</dom-module>

<script>//~~WEBPATH~~/paper-dialog-scrollable/paper-dialog-scrollable.html.js
Polymer({is:"paper-dialog-scrollable",properties:{dialogElement:{type:Object}},get scrollTarget(){return this.$.scrollable},ready:function(){this._ensureTarget();this.classList.add("no-padding")},attached:function(){this._ensureTarget();requestAnimationFrame(this.updateScrollState.bind(this))},updateScrollState:function(){this.toggleClass("is-scrolled",0<this.scrollTarget.scrollTop);this.toggleClass("can-scroll",this.scrollTarget.offsetHeight<this.scrollTarget.scrollHeight);this.toggleClass("scrolled-to-bottom",
this.scrollTarget.scrollTop+this.scrollTarget.offsetHeight>=this.scrollTarget.scrollHeight)},_ensureTarget:function(){(this.dialogElement=this.dialogElement||this.parentElement)&&this.dialogElement.behaviors&&0<=this.dialogElement.behaviors.indexOf(Polymer.PaperDialogBehaviorImpl)?(this.dialogElement.sizingTarget=this.scrollTarget,this.scrollTarget.classList.remove("fit")):this.dialogElement&&this.scrollTarget.classList.add("fit")}});
</script>








<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic,500,500italic,700,700italic">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700">



<custom-style>
  <style is="custom-style">
    html {

      /* Shared Styles */
      --paper-font-common-base: {
        font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;
      };

      --paper-font-common-code: {
        font-family: 'Roboto Mono', 'Consolas', 'Menlo', monospace;
        -webkit-font-smoothing: antialiased;
      };

      --paper-font-common-expensive-kerning: {
        text-rendering: optimizeLegibility;
      };

      --paper-font-common-nowrap: {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      };

      /* Material Font Styles */

      --paper-font-display4: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 112px;
        font-weight: 300;
        letter-spacing: -.044em;
        line-height: 120px;
      };

      --paper-font-display3: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 56px;
        font-weight: 400;
        letter-spacing: -.026em;
        line-height: 60px;
      };

      --paper-font-display2: {
        @apply --paper-font-common-base;

        font-size: 45px;
        font-weight: 400;
        letter-spacing: -.018em;
        line-height: 48px;
      };

      --paper-font-display1: {
        @apply --paper-font-common-base;

        font-size: 34px;
        font-weight: 400;
        letter-spacing: -.01em;
        line-height: 40px;
      };

      --paper-font-headline: {
        @apply --paper-font-common-base;

        font-size: 24px;
        font-weight: 400;
        letter-spacing: -.012em;
        line-height: 32px;
      };

      --paper-font-title: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 20px;
        font-weight: 500;
        line-height: 28px;
      };

      --paper-font-subhead: {
        @apply --paper-font-common-base;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;
      };

      --paper-font-body2: {
        @apply --paper-font-common-base;

        font-size: 14px;
        font-weight: 500;
        line-height: 24px;
      };

      --paper-font-body1: {
        @apply --paper-font-common-base;

        font-size: 14px;
        font-weight: 400;
        line-height: 20px;
      };

      --paper-font-caption: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 12px;
        font-weight: 400;
        letter-spacing: 0.011em;
        line-height: 20px;
      };

      --paper-font-menu: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 13px;
        font-weight: 500;
        line-height: 24px;
      };

      --paper-font-button: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 14px;
        font-weight: 500;
        letter-spacing: 0.018em;
        line-height: 24px;
        text-transform: uppercase;
      };

      --paper-font-code2: {
        @apply --paper-font-common-code;

        font-size: 14px;
        font-weight: 700;
        line-height: 20px;
      };

      --paper-font-code1: {
        @apply --paper-font-common-code;

        font-size: 14px;
        font-weight: 500;
        line-height: 20px;
      };

    }

  </style>
</custom-style>





<dom-module id="paper-dialog-shared-styles">
  <template>
    <style>
      :host {
        display: block;
        margin: 24px 40px;

        background: var(--paper-dialog-background-color, --primary-background-color);
        color: var(--paper-dialog-color, --primary-text-color);

        @apply(--paper-font-body1);
        @apply(--shadow-elevation-16dp);
        @apply(--paper-dialog);
      }

      :host > ::content > * {
        margin-top: 20px;
        padding: 0 24px;
      }

      :host > ::content > .no-padding {
        padding: 0;
      }

      :host > ::content > *:first-child {
        margin-top: 24px;
      }

      :host > ::content > *:last-child {
        margin-bottom: 24px;
      }

      :host > ::content h2 {
        position: relative;
        margin: 0;
        @apply(--paper-font-title);

        @apply(--paper-dialog-title);
      }

      :host > ::content .buttons {
        position: relative;
        padding: 8px 8px 8px 24px;
        margin: 0;

        color: var(--paper-dialog-button-color, --primary-color);

        @apply(--layout-horizontal);
        @apply(--layout-end-justified);
      }
    </style>
  </template>
</dom-module>



<dom-module id="paper-dialog">
  <template>
    <style include="paper-dialog-shared-styles"></style>
    <slot></slot>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-dialog/paper-dialog.html.js
Polymer({is:"paper-dialog",behaviors:[Polymer.PaperDialogBehavior,Polymer.NeonAnimationRunnerBehavior],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function(){this.cancelAnimation();this.playAnimation("entry")},_renderClosed:function(){this.cancelAnimation();this.playAnimation("exit")},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}});
</script>









<dom-module id="iron-a11y-announcer">
  <template>
    <style>
      :host {
        display: inline-block;
        position: fixed;
        clip: rect(0px,0px,0px,0px);
      }
    </style>
    <div aria-live$="[[mode]]">[[_text]]</div>
  </template>

  <script>//~~WEBPATH~~/iron-a11y-announcer/iron-a11y-announcer.html.js
Polymer.IronA11yAnnouncer=function(){};Polymer.IronA11yAnnouncer=Polymer({is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=this);document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(a){this._text="";this.async(function(){this._text=a},100)},_onIronAnnounce:function(a){a.detail&&a.detail.text&&this.announce(a.detail.text)}});
Polymer.IronA11yAnnouncer.instance=null;Polymer.IronA11yAnnouncer.requestAvailability=function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=document.createElement("iron-a11y-announcer"));document.body.appendChild(Polymer.IronA11yAnnouncer.instance)};
</script>
</dom-module>



<script>//~~WEBPATH~~/iron-input/iron-input.html.js
Polymer({is:"iron-input",extends:"input",behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{observer:"_bindValueChanged",type:String},preventInvalidInput:{type:Boolean},allowedPattern:{type:String,observer:"_allowedPatternChanged"},useV2Api:{type:Boolean,value:!1},_previousValidInput:{type:String,value:""},_patternAlreadyChecked:{type:Boolean,value:!1},_inputElement:Object},observers:["_bindValueChangedV2(bindValue, _inputElement)"],listeners:{input:"_onInput",keypress:"_onKeypress"},
registered:function(){this._canDispatchEventOnDisabled()||(this._origDispatchEvent=this.dispatchEvent,this.dispatchEvent=this._dispatchEventFirefoxIE)},created:function(){Polymer.IronA11yAnnouncer.requestAvailability();if(this.useV2Api||this.hasAttribute("use-v2-api"))this._previousValidInput="",this._patternAlreadyChecked=!1},attached:function(){this.useV2Api&&(this._observer={},this._observer.__interval=setTimeout(function(){this._initSlottedInput()}.bind(this),2),this._observer.flush=function(){if(this.inputElement)return!1;
window.clearTimeout(this._observer.__interval);this._initSlottedInput();return!0}.bind(this))},detached:function(){this.useV2Api&&this._observer&&clearTimeout(this._observer)},get inputElement(){return this._inputElement},_initSlottedInput:function(){this._inputElement=this;this.inputElement&&this.inputElement.value&&(this.bindValue=this.inputElement.value);this.fire("iron-input-ready")},_canDispatchEventOnDisabled:function(){var a=document.createElement("input"),b=!1;a.disabled=!0;a.addEventListener("feature-check-dispatch-event",
function(){b=!0});try{a.dispatchEvent(new Event("feature-check-dispatch-event"))}catch(c){}return b},_dispatchEventFirefoxIE:function(a){var b=this.disabled;this.disabled=!1;a=this._origDispatchEvent(a);this.disabled=b;return a},get _patternRegExp(){if(this.allowedPattern)var a=new RegExp(this.allowedPattern);else if(this.useV2Api)switch(this.inputElement.type){case "number":a=/[0-9.,e-]/}else switch(this.type){case "number":a=/[0-9.,e-]/}return a},ready:function(){this.useV2Api||(this.bindValue=
this.value)},_bindValueChangedV2:function(a,b){this.useV2Api&&b&&(void 0===a?b.value=null:a!==b.value&&(this.inputElement.value=a),this.autoValidate&&this.validate(),this.fire("bind-value-changed",{value:a}))},_bindValueChanged:function(){this.useV2Api||(this.value!==this.bindValue&&(this.value=this.bindValue||0===this.bindValue||!1===this.bindValue?this.bindValue:""),this.fire("bind-value-changed",{value:this.bindValue}))},_allowedPatternChanged:function(){this.useV2Api||(this.preventInvalidInput=
this.allowedPattern?!0:!1)},_onInput:function(){if(this.useV2Api){if(this.allowedPattern&&!this._patternAlreadyChecked){var a=this._checkPatternValidity();a||(this._announceInvalidCharacter("Invalid string of characters not entered."),this.inputElement.value=this._previousValidInput)}this.bindValue=this._previousValidInput=this.inputElement.value}else this.preventInvalidInput&&!this._patternAlreadyChecked&&(a=this._checkPatternValidity(),a||(this._announceInvalidCharacter("Invalid string of characters not entered."),
this.value=this._previousValidInput)),this._previousValidInput=this.bindValue=this.value;this._patternAlreadyChecked=!1},_isPrintable:function(a){var b=19==a.keyCode||20==a.keyCode||45==a.keyCode||46==a.keyCode||144==a.keyCode||145==a.keyCode||32<a.keyCode&&41>a.keyCode||111<a.keyCode&&124>a.keyCode;return!(8==a.keyCode||9==a.keyCode||13==a.keyCode||27==a.keyCode)&&!(0==a.charCode&&b)},_onKeypress:function(a){if(this.useV2Api){if(!this.allowedPattern&&"number"!==this.inputElement.type)return;var b=
this._patternRegExp;if(!b||a.metaKey||a.ctrlKey||a.altKey)return;this._patternAlreadyChecked=!0;var c=String.fromCharCode(a.charCode)}else{if(!this.preventInvalidInput&&"number"!==this.type)return;b=this._patternRegExp;if(!b||a.metaKey||a.ctrlKey||a.altKey)return;this._patternAlreadyChecked=!0;c=String.fromCharCode(a.charCode)}this._isPrintable(a)&&!b.test(c)&&(a.preventDefault(),this._announceInvalidCharacter("Invalid character "+c+" not entered."))},_checkPatternValidity:function(){var a=this._patternRegExp;
if(!a)return!0;if(this.useV2Api)for(var b=0;b<this.inputElement.value.length;b++){if(!a.test(this.inputElement.value[b]))return!1}else for(b=0;b<this.value.length;b++)if(!a.test(this.value[b]))return!1;return!0},validate:function(){if(this.useV2Api){if(!this.inputElement)return this.invalid=!1,!0;var a=this.inputElement.checkValidity();a&&(this.required&&""===this.bindValue?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.bindValue)))}else(a=this.checkValidity())&&
(this.required&&""===this.value?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.value)));this.invalid=!a;this.fire("iron-input-validate");return a},_announceInvalidCharacter:function(a){this.fire("iron-announce",{text:a})}});
</script>





<script>//~~WEBPATH~~/paper-input/paper-input-behavior.html.js
Polymer.PaperInputHelper={};Polymer.PaperInputHelper.NextLabelID=1;Polymer.PaperInputHelper.NextAddonID=1;Polymer.PaperInputHelper.NextInputID=1;
Polymer.PaperInputBehaviorImpl={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},preventInvalidInput:{type:Boolean},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},
validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,observer:"_autofocusChanged"},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},
_ariaDescribedBy:{type:String,value:""},_ariaLabelledBy:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},keyBindings:{"shift+tab:keydown":"_onShiftTabDown"},hostAttributes:{tabindex:0},get inputElement(){this.__setAutomaticNodeFindingId();return this.$.input},get _focusableElement(){return this.inputElement},registered:function(){this._typesThatHaveText="date datetime datetime-local month time week file".split(" ")},ready:function(){this.__setAutomaticNodeFindingId()},attached:function(){this._updateAriaLabelledBy();
this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)&&(this.alwaysFloatLabel=!0)},_appendStringWithSpace:function(a,b){return a?a+" "+b:b},_onAddonAttached:function(a){a=a.path?a.path[0]:a.target;if(a.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,a.id);else{var b="paper-input-add-on-"+Polymer.PaperInputHelper.NextAddonID++;a.id=b;this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,b)}},validate:function(){return this.inputElement.validate()},
_focusBlurHandler:function(a){Polymer.IronControlState._focusBlurHandler.call(this,a);this.focused&&!this._shiftTabPressed&&this._focusableElement.focus()},_onShiftTabDown:function(){var a=this.getAttribute("tabindex");this._shiftTabPressed=!0;this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",a);this._shiftTabPressed=!1},1)},_handleAutoValidate:function(){this.autoValidate&&this.validate()},updateValueAndPreserveCaret:function(a){try{var b=this.inputElement.selectionStart;
this.value=a;this.inputElement.selectionStart=b;this.inputElement.selectionEnd=b}catch(c){this.value=a}},_computeAlwaysFloatLabel:function(a,b){return b||a},_updateAriaLabelledBy:function(){var a=Polymer.dom(this.root).querySelector("label");if(a){if(a.id)var b=a.id;else b="paper-input-label-"+Polymer.PaperInputHelper.NextLabelID++,a.id=b;this._ariaLabelledBy=b}else this._ariaLabelledBy=""},_onChange:function(a){this.shadowRoot&&this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})},
_autofocusChanged:function(){if(this.autofocus&&this._focusableElement){var a=document.activeElement;a instanceof HTMLElement&&a!==document.body&&a!==document.documentElement||this._focusableElement.focus()}},_generateInputId:function(){this._inputId&&""!==this._inputId||(this._inputId="input-"+Polymer.PaperInputHelper.NextInputID++)},__setAutomaticNodeFindingId:function(){this.$||(this.$={});this.$.input||(this._generateInputId(),this.$.input=this.$$("#"+this._inputId))}};
Polymer.PaperInputBehavior=[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.PaperInputBehaviorImpl];
</script>





<script>//~~WEBPATH~~/paper-input/paper-input-addon-behavior.html.js
Polymer.PaperInputAddonBehavior={hostAttributes:{"add-on":""},attached:function(){this.fire("addon-attached")},update:function(){}};
</script>




<dom-module id="paper-input-char-counter">
  <template>
    <style>
      :host {
        display: inline-block;
        float: right;

        @apply --paper-font-caption;
        @apply --paper-input-char-counter;
      }

      :host([hidden]) {
        display: none !important;
      }

      :host-context([dir="rtl"]) {
        float: left;
      }
    </style>

    <span>[[_charCounterStr]]</span>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input-char-counter.html.js
Polymer({is:"paper-input-char-counter",behaviors:[Polymer.PaperInputAddonBehavior],properties:{_charCounterStr:{type:String,value:"0"}},update:function(a){if(a.inputElement){a.value=a.value||"";var b=a.value.toString().length.toString();a.inputElement.hasAttribute("maxlength")&&(b+="/"+a.inputElement.getAttribute("maxlength"));this._charCounterStr=b}}});
</script>








<custom-style>
  <style is="custom-style">
    :root {
      --paper-input-container-shared-input-style: {
        position: relative; /* to make a stacking context */
        outline: none;
        box-shadow: none;
        padding: 0;
        margin: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        border: none;
        color: var(--paper-input-container-input-color, var(--primary-text-color));
        -webkit-appearance: none;
        text-align: inherit;
        /* TODO(b/112921796): change this to bottom */
        vertical-align: var(--paper-input-container-input-align, baseline);

        /* Fix for safari not focusing 0-height date/time inputs with -webkit-apperance: none; */
        min-height: 1px;

        @apply --paper-font-subhead;
      };

      --paper-input-container-input-style-forward: {
        @apply --paper-input-container-shared-input-style;

        font-family: inherit;
        font-weight: inherit;
        font-size: inherit;
        letter-spacing: inherit;
        word-spacing: inherit;
        line-height: inherit;
        text-shadow: inherit;
        color: inherit;
        cursor: inherit;
      };
    }
  </style>
</custom-style>

<dom-module id="paper-input-container">
  <template>
    <style>
      :host {
        display: block;
        padding: 8px 0;

        @apply --paper-input-container;
      }

      :host([inline]) {
        display: inline-block;
      }

      :host([disabled]) {
        pointer-events: none;
        opacity: 0.33;

        @apply --paper-input-container-disabled;
      }

      :host([hidden]) {
        display: none !important;
      }

      [hidden] {
        display: none !important;
      }

      .floated-label-placeholder {
        display: var(--paper-input-container-floated-label-placeholder-display, block);
        @apply --paper-font-caption;
      }

      .underline {
        position: relative;
      }

      .focused-line {
        @apply --layout-fit;
        border-bottom:
            var(--paper-input-container-underline-focus-height, 2px)
            solid
            var(--paper-input-container-underline-focus-color,
                var(--paper-input-container-focus-color,
                var(--primary-color)));

        -webkit-transform-origin: center center;
        transform-origin: center center;
        -webkit-transform: scale3d(0,1,1);
        transform: scale3d(0,1,1);
        display: var(--paper-input-container-underline-focus-display);

        @apply --paper-input-container-underline-focus;
      }

      .underline.is-highlighted .focused-line {
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;

        @apply --paper-transition-easing;
      }

      .underline.is-invalid .focused-line {
        border-bottom:
            var(--paper-input-container-underline-focus-height, 2px)
            solid
            var(--paper-input-container-underline-invalid-focus-color,
                var(--paper-input-container-invalid-color,
                var(--error-color)));
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;
        display: var(--paper-input-container-underline-focus-display);

        @apply --paper-transition-easing;
      }

      .unfocused-line {
        @apply --layout-fit;
        border-bottom:
            var(--paper-input-container-underline-height, 1px)
            solid
            var(--paper-input-container-underline-color,
                var(--paper-input-container-color,
                var(--secondary-text-color)));
        display: var(--paper-input-container-underline-display);

        @apply --paper-input-container-underline;
      }

      :host([disabled]) .unfocused-line {
        border-bottom:
            var(--paper-input-container-underline-height, 1px)
            dashed
            var(--paper-input-container-underline-color,
                var(--paper-input-container-color,
                var(--secondary-text-color)));
        display: var(--paper-input-container-underline-disabled-display);
        height: 1px;

        @apply --paper-input-container-underline-disabled;
      }

      .label-and-input-container {
        @apply --layout-flex-auto;
        @apply --layout-relative;

        width: 100%;
        max-width: 100%;
      }

      .input-content {
        @apply --layout-horizontal;
        @apply --layout-center;

        position: relative;
      }

      .input-content .label-and-input-container ::slotted([slot="label"]) {
        position: absolute;
        top: 0;
        right: 0;
        left: 0;
        width: 100%;
        font: inherit;
        color: var(--paper-input-container-color, var(--secondary-text-color));
        -webkit-transition: -webkit-transform 0.25s, width 0.25s;
        transition: transform 0.25s, width 0.25s;
        -webkit-transform-origin: left top;
        transform-origin: left top;
        /* Fix for safari not focusing 0-height date/time inputs with -webkit-apperance: none; */
        min-height: 1px;

        @apply --paper-font-common-nowrap;
        @apply --paper-font-subhead;
        @apply --paper-input-container-label;
        @apply --paper-transition-easing;
      }

      .input-content.label-is-floating .label-and-input-container ::slotted([slot="label"]) {
        -webkit-transform: translateY(-75%) scale(0.75);
        transform: translateY(-75%) scale(0.75);

        /* Since we scale to 75/100 of the size, we actually have 100/75 of the
        original space now available */
        width: 133%;

        @apply --paper-input-container-label-floating;
      }

      :host(:dir(rtl)) .input-content.label-is-floating .label-and-input-container ::slotted([slot="label"]) {
        right: 0;
        left: auto;
        -webkit-transform-origin: right top;
        transform-origin: right top;
      }

      .input-content.label-is-highlighted .label-and-input-container ::slotted([slot="label"]) {
        color: var(--paper-input-container-focus-color, var(--primary-color));

        @apply --paper-input-container-label-focus;
      }

      .input-content.is-invalid .label-and-input-container ::slotted([slot="label"]) {
        color: var(--paper-input-container-invalid-color, var(--error-color));
      }

      .input-content.label-is-hidden .label-and-input-container ::slotted([slot="label"]) {
        visibility: hidden;
      }

      .input-content .label-and-input-container ::slotted([slot="input"]) {
        /* we do not use @apply --paper-input-container-shared-input-style; here because the polymer
         * 1 apply shim seems to fail in very specific conditions and simply does not apply.
         */
        position: relative; /* to make a stacking context */
        outline: none;
        box-shadow: none;
        padding: 0;
        margin: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        border: none;
        color: var(--paper-input-container-input-color, var(--primary-text-color));
        -webkit-appearance: none;
        text-align: inherit;
        /* TODO(b/112921796): change this to bottom */
        vertical-align: var(--paper-input-container-input-align, baseline);

        /* Fix for safari not focusing 0-height date/time inputs with -webkit-apperance: none; */
        min-height: 1px;

        @apply --paper-font-subhead;
        /* Firefox sets a min-width on the input, which can cause layout issues */
        min-width: 0;
        resize: none;
        @apply --paper-input-container-input;

        /* Polymer 1 used content tags where you could style inside distributed shadow roots such as
         * the textarea within iron-autogrow-textarea. This seems to have been fixed with slot tags.
         * This applies those custom styles inside that shadow root.
         */
        --iron-autogrow-textarea-textarea: {
          /* (See note above) we include it here because the polymer 1 apply shim never seems to
           * fail in this case. We also NEED to apply it here so that the CSS variables can be
           * defined in the context of this element.
           */
          @apply --paper-input-container-shared-input-style;
          /* The apply shim doesn't apply the nested color custom property,
          so we have to re-apply it here. */
          color: var(--paper-input-container-input-color, var(--primary-text-color));
          @apply --paper-input-container-input;
        };
      }

      .input-content .label-and-input-container ::slotted([slot="input"])::-webkit-outer-spin-button,
      .input-content .label-and-input-container ::slotted([slot="input"])::-webkit-inner-spin-button {
        @apply --paper-input-container-input-webkit-spinner;
      }

      .input-content.focused .label-and-input-container ::slotted([slot="input"]) {
        @apply --paper-input-container-input-focus;
      }

      .input-content.is-invalid .label-and-input-container ::slotted([slot="input"]) {
        @apply --paper-input-container-input-invalid;
      }

      .input-content ::slotted([slot="prefix"]) {
        @apply --paper-font-subhead;
        @apply --layout-flex-none;
        @apply --paper-input-prefix;
      }

      .input-content ::slotted([slot="suffix"]) {
        @apply --paper-font-subhead;
        @apply --layout-flex-none;

        @apply --paper-input-suffix;
      }

      /* Firefox sets a min-width on the input, which can cause layout issues */
      .input-content ::slotted(input) {
        min-width: 0;
      }

      .input-content ::slotted(input)::-webkit-outer-spin-button,
      .input-content ::slotted(input)::-webkit-inner-spin-button {
        @apply --paper-input-container-input-webkit-spinner;
      }

      .add-on-content {
        position: relative;
      }

      .add-on-content.is-invalid ::slotted(*) {
        color: var(--paper-input-container-invalid-color, var(--error-color));
      }

      .add-on-content.is-highlighted ::slotted(*) {
        color: var(--paper-input-container-focus-color, var(--primary-color));
      }
    </style>

    <template is="dom-if" if="[[!noLabelFloat]]">
      <div class="floated-label-placeholder" aria-hidden="true">&nbsp;</div>
    </template>

    <div class$="[[_computeInputContentClass(noLabelFloat,alwaysFloatLabel,focused,invalid,_inputHasContent)]]">
      <slot name="prefix" id="prefix"></slot>

      <div class="label-and-input-container" id="labelAndInputContainer">
        <slot name="label"></slot>
        
        <slot name="input"></slot><slot name="after-input"></slot>
      </div>

      <slot name="suffix" id="suffix"></slot>
    </div>

    <div class$="[[_computeUnderlineClass(focused,invalid)]]">
      <div class="unfocused-line"></div>
      <div class="focused-line"></div>
    </div>

    <div class$="[[_computeAddOnContentClass(focused,invalid)]]">
      <slot id="addOnContent" name="add-on"></slot>
    </div>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input-container.html.js
Polymer({is:"paper-input-container",properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},
_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)},get _inputElement(){return Polymer.dom(this).querySelector(this._inputSelector)},
get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){this._addons||(this._addons=[]);this.addEventListener("focus",this._boundOnFocus,!0);this.addEventListener("blur",this._boundOnBlur,!0)},attached:function(){this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener("input",this._onInput);""!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):
this._handleValue(this._inputElement)},_onAddonAttached:function(a){this._addons||(this._addons=[]);a=a.target;-1===this._addons.indexOf(a)&&(this._addons.push(a),this.isAttached&&this._handleValue(this._inputElement))},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1);this._handleValueAndAutoValidate(this._inputElement)},_onInput:function(a){this._handleValueAndAutoValidate(a.target)},_onValueChanged:function(a){this._handleValueAndAutoValidate(a.target)},_handleValue:function(a){var b=
this._inputElementValue;b||0===b||"number"===a.type&&!a.checkValidity()?this._inputHasContent=!0:this._inputHasContent=!1;this.updateAddons({inputElement:a,value:b,invalid:this.invalid})},_handleValueAndAutoValidate:function(a){this.autoValidate&&(this.invalid=!(a.validate?a.validate(this._inputElementValue):a.checkValidity()));this._handleValue(a)},_onIronInputValidate:function(){this.invalid=this._inputElement.invalid},_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},
updateAddons:function(a){for(var b,c=0;b=this._addons[c];c++)b.update(a)},_computeInputContentClass:function(a,b,c,d,e){var g="input-content";a?e&&(g+=" label-is-hidden"):(a=this.querySelector("label"),b||e?(g+=" label-is-floating",this.$.labelAndInputContainer.style.position="static",d?g+=" is-invalid":c&&(g+=" label-is-highlighted")):a&&(this.$.labelAndInputContainer.style.position="relative"));c&&(g+=" focused");return g},_computeUnderlineClass:function(a,b){var c="underline";b?c+=" is-invalid":
a&&(c+=" is-highlighted");return c},_computeAddOnContentClass:function(a,b){var c="add-on-content";b?c+=" is-invalid":a&&(c+=" is-highlighted");return c}});
</script>








<dom-module id="paper-input-error">
  <template>
    <style>
      :host {
        display: inline-block;
        visibility: hidden;

        color: var(--paper-input-container-invalid-color, var(--error-color));

        @apply --paper-font-caption;
        @apply --paper-input-error;
        position: absolute;
        left:0;
        right:0;
      }

      :host([invalid]) {
        visibility: visible;
      };
    </style>

    <slot></slot>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input-error.html.js
Polymer({is:"paper-input-error",behaviors:[Polymer.PaperInputAddonBehavior],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(a){this._setInvalid(a.invalid)}});
</script>




<dom-module id="paper-input">
  <template>
    <style>
      :host {
        display: block;
      }

      :host([focused]) {
        outline: none;
      }

      :host([hidden]) {
        display: none !important;
      }

      input::-webkit-input-placeholder {
        color: var(--paper-input-container-color, var(--secondary-text-color));
      }

      input::-webkit-outer-spin-button,
      input::-webkit-inner-spin-button {
        @apply --paper-input-container-input-webkit-spinner;
      }

      input:-moz-placeholder {
        color: var(--paper-input-container-color, var(--secondary-text-color));
      }

      input::-moz-placeholder {
        color: var(--paper-input-container-color, var(--secondary-text-color));
      }

      input:-ms-input-placeholder {
        color: var(--paper-input-container-color, var(--secondary-text-color));
      }

      label {
        pointer-events: none;
      }
    </style>

    <paper-input-container no-label-float="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]">

      <slot name="prefix" slot="prefix"></slot>

      <label hidden$="[[!label]]" aria-hidden="true" for$="[[_inputId]]" slot="label">[[label]]</label>

      <input is="iron-input" slot="input" class="input-element" id$="[[_inputId]]" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" bind-value="{{value}}" invalid="{{invalid}}" prevent-invalid-input="[[preventInvalidInput]]" allowed-pattern="[[allowedPattern]]" validator="[[validator]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabindex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]">

      <slot name="suffix" slot="suffix"></slot>

      <template is="dom-if" if="[[errorMessage]]">
        <paper-input-error aria-live="assertive" slot="add-on">[[errorMessage]]</paper-input-error>
      </template>

      <template is="dom-if" if="[[charCounter]]">
        <paper-input-char-counter slot="add-on"></paper-input-char-counter>
      </template>

    </paper-input-container>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input.html.js
Polymer({is:"paper-input",behaviors:[Polymer.IronFormElementBehavior,Polymer.PaperInputBehavior]});
</script>









<script>//~~WEBPATH~~/paper-item/paper-item-behavior.html.js
Polymer.PaperItemBehaviorImpl={hostAttributes:{role:"option",tabindex:"0"}};Polymer.PaperItemBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperItemBehaviorImpl];
</script>






<dom-module id="paper-item-shared-styles">
  <template>
    <style>
      :host, .paper-item {
        display: block;
        position: relative;
        min-height: var(--paper-item-min-height, 48px);
        padding: 0px 16px;
      }

      .paper-item {
        @apply --paper-font-subhead;
        border:none;
        outline: none;
        background: white;
        width: 100%;
        text-align: left;
      }

      :host([hidden]), .paper-item[hidden] {
        display: none !important;
      }

      :host(.iron-selected), .paper-item.iron-selected {
        font-weight: var(--paper-item-selected-weight, bold);

        @apply --paper-item-selected;
      }

      :host([disabled]), .paper-item[disabled] {
        color: var(--paper-item-disabled-color, var(--disabled-text-color));

        @apply --paper-item-disabled;
      }

      :host(:focus), .paper-item:focus {
        position: relative;
        outline: 0;

        @apply --paper-item-focused;
      }

      :host(:focus):before, .paper-item:focus:before {
        @apply --layout-fit;

        background: currentColor;
        content: '';
        opacity: var(--dark-divider-opacity);
        pointer-events: none;

        @apply --paper-item-focused-before;
      }
    </style>
  </template>
</dom-module>




<dom-module id="paper-item">
  <template>
    <style include="paper-item-shared-styles">
      :host {
        @apply --layout-horizontal;
        @apply --layout-center;
        @apply --paper-font-subhead;

        @apply --paper-item;
      }
    </style>
    <slot></slot>
  </template>

  <script>//~~WEBPATH~~/paper-item/paper-item.html.js
Polymer({is:"paper-item",behaviors:[Polymer.PaperItemBehavior]});
</script>
</dom-module>







<script>//~~WEBPATH~~/iron-selector/iron-selection.html.js
Polymer.IronSelection=function(a){this.selection=[];this.selectCallback=a};function Za(a,b,c){if(null!=b&&c!==a.isSelected(b)){if(c)a.selection.push(b);else{var d=a.selection.indexOf(b);0<=d&&a.selection.splice(d,1)}a.selectCallback&&a.selectCallback(b,c)}}
Polymer.IronSelection.prototype={get:function(){return this.multi?this.selection.slice():this.selection[0]},clear:function(a){this.selection.slice().forEach(function(b){(!a||0>a.indexOf(b))&&Za(this,b,!1)},this)},isSelected:function(a){return 0<=this.selection.indexOf(a)},select:function(a){this.multi?this.toggle(a):this.get()!==a&&(Za(this,this.get(),!1),Za(this,a,!0))},toggle:function(a){Za(this,a,!this.isSelected(a))}};
</script>


<script>//~~WEBPATH~~/iron-selector/iron-selectable.html.js
Polymer.IronSelectableBehavior={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},_excludedLocalNames:{type:Object,value:function(){return{template:1,
"dom-bind":1,"dom-if":1,"dom-repeat":1}}}},observers:["_updateAttrForSelected(attrForSelected)","_updateSelected(selected)","_checkFallback(fallbackSelection)"],created:function(){this._bindFilterItem=this._filterItem.bind(this);this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this);this._addListener(this.activateEvent)},detached:function(){this._observer&&Polymer.dom(this).unobserveNodes(this._observer);this._removeListener(this.activateEvent)},
indexOf:function(a){return this.items?this.items.indexOf(a):-1},select:function(a){this.selected=a},selectPrevious:function(){var a=this.items.length;a=(Number(this._valueToIndex(this.selected))-1+a)%a;this.selected=this._indexToValue(a)},selectNext:function(){var a=(Number(this._valueToIndex(this.selected))+1)%this.items.length;this.selected=this._indexToValue(a)},selectIndex:function(a){this.select(this._indexToValue(a))},forceSynchronousItemUpdate:function(){this._observer&&"function"===typeof this._observer.flush?
this._observer.flush():this._updateItems()},get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._updateSelected()},_addListener:function(a){this.listen(this,a,"_activateHandler")},_removeListener:function(a){this.unlisten(this,a,"_activateHandler")},_activateEventChanged:function(a,b){this._removeListener(b);this._addListener(a)},_updateItems:function(){var a=Polymer.dom(this).queryDistributedElements(this.selectable||"*");a=Array.prototype.filter.call(a,this._bindFilterItem);
this._setItems(a)},_updateAttrForSelected:function(){this.selectedItem&&(this.selected=this._valueForItem(this.selectedItem))},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(){if(this.items){var a=this._valueToItem(this.selected);a?this._selection.select(a):this._selection.clear();this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)}},_filterItem:function(a){return!this._excludedLocalNames[a.localName]},
_valueToItem:function(a){return null==a?null:this.items[this._valueToIndex(a)]},_valueToIndex:function(a){if(this.attrForSelected)for(var b=0,c;c=this.items[b];b++){if(this._valueForItem(c)==a)return b}else return Number(a)},_indexToValue:function(a){if(this.attrForSelected){if(a=this.items[a])return this._valueForItem(a)}else return a},_valueForItem:function(a){if(!a)return null;if(!this.attrForSelected)return a=this.indexOf(a),-1===a?null:a;var b=a[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];
return void 0!=b?b:a.getAttribute(this.attrForSelected)},_applySelection:function(a,b){this.selectedClass&&this.toggleClass(this.selectedClass,b,a);this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,b,a);this._selectionChange();this.fire("iron-"+(b?"select":"deselect"),{item:a})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeItems:function(a){return Polymer.dom(a).observeNodes(function(b){this._updateItems();this._updateSelected();this.fire("iron-items-changed",
b,{bubbles:!1,cancelable:!1})})},_activateHandler:function(a){a=a.target;for(var b=this.items;a&&a!=this;){var c=b.indexOf(a);if(0<=c){b=this._indexToValue(c);this._itemActivate(b,a);break}a=a.parentNode}},_itemActivate:function(a,b){this.fire("iron-activate",{selected:a,item:b},{cancelable:!0}).defaultPrevented||this.select(a)}};
</script>


<script>//~~WEBPATH~~/iron-selector/iron-multi-selectable.html.js
Polymer.IronMultiSelectableBehaviorImpl={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0,value:function(){return[]}},selectedItems:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}}},observers:["_updateSelected(selectedValues.splices)"],select:function(a){this.multi?this._toggleSelected(a):this.selected=a},multiChanged:function(a){this._selection.multi=a;this._updateSelected()},get _shouldUpdateSelection(){return null!=this.selected||
null!=this.selectedValues&&this.selectedValues.length},_updateAttrForSelected:function(){this.multi?this.selectedItems&&0<this.selectedItems.length&&(this.selectedValues=this.selectedItems.map(function(a){return this._indexToValue(this.indexOf(a))},this).filter(function(a){return null!=a},this)):Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(a){a=
a||[];a=(this._valuesToItems(a)||[]).filter(function(c){return null!==c&&void 0!==c});this._selection.clear(a);for(var b=0;b<a.length;b++)Za(this._selection,a[b],!0);this.fallbackSelection&&!this._selection.get().length&&this._valueToItem(this.fallbackSelection)&&this.select(this.fallbackSelection)},_selectionChange:function(){var a=this._selection.get();this.multi?(this._setSelectedItems(a),this._setSelectedItem(a.length?a[0]:null)):null!==a&&void 0!==a?(this._setSelectedItems([a]),this._setSelectedItem(a)):
(this._setSelectedItems([]),this._setSelectedItem(null))},_toggleSelected:function(a){var b=this.selectedValues.indexOf(a);0>b?this.push("selectedValues",a):this.splice("selectedValues",b,1)},_valuesToItems:function(a){return null==a?null:a.map(function(b){return this._valueToItem(b)},this)}};Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl];
</script>



<script>//~~WEBPATH~~/iron-menu-behavior/iron-menu-behavior.html.js
Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:"_disabledChanged"}},_MODIFIER_KEYS:"Alt AltGraph CapsLock Control Fn FnLock Hyper Meta NumLock OS ScrollLock Shift Super Symbol SymbolLock".split(" "),_SEARCH_RESET_TIMEOUT_MS:1E3,_previousTabIndex:0,hostAttributes:{role:"menu"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown",
"iron-items-changed":"_onIronItemsChanged"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey","shift+tab:keydown":"_onShiftTabDown"},attached:function(){this._resetTabindices()},select:function(a){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var b=this._valueToItem(a);b&&b.hasAttribute("disabled")||(this._setFocusedItem(b),Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments))},_resetTabindices:function(){var a=this.multi?
this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(b){b.setAttribute("tabindex",b===a?"0":"-1")},this)},_updateMultiselectable:function(a){a?this.setAttribute("aria-multiselectable","true"):this.removeAttribute("aria-multiselectable")},_focusWithKeyboardEvent:function(a){if(-1===this._MODIFIER_KEYS.indexOf(a.key)){this.cancelDebouncer("_clearSearchText");var b=this._searchText||"";b+=(a.key&&1==a.key.length?a.key:String.fromCharCode(a.keyCode)).toLocaleLowerCase();
a=b.length;for(var c=0,d;d=this.items[c];c++)if(!d.hasAttribute("disabled")){var e=this.attrForItemTitle||"textContent";e=(d[e]||d.getAttribute(e)||"").trim();if(!(e.length<a)&&e.slice(0,a).toLocaleLowerCase()==b){this._setFocusedItem(d);break}}this._searchText=b;this.debounce("_clearSearchText",this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)}},_clearSearchText:function(){this._searchText=""},_focusPrevious:function(){for(var a=this.items.length,b=Number(this.indexOf(this.focusedItem)),c=1;c<
a+1;c++){var d=this.items[(b-c+a)%a];if(!d.hasAttribute("disabled")){var e=Polymer.dom(d).getOwnerRoot()||document;this._setFocusedItem(d);if(Polymer.dom(e).activeElement==d)break}}},_focusNext:function(){for(var a=this.items.length,b=Number(this.indexOf(this.focusedItem)),c=1;c<a+1;c++){var d=this.items[(b+c)%a];if(!d.hasAttribute("disabled")){var e=Polymer.dom(d).getOwnerRoot()||document;this._setFocusedItem(d);if(Polymer.dom(e).activeElement==d)break}}},_applySelection:function(a,b){b?a.setAttribute("aria-selected",
"true"):a.removeAttribute("aria-selected");Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},_focusedItemChanged:function(a,b){b&&b.setAttribute("tabindex","-1");!a||a.hasAttribute("disabled")||this.disabled||(a.setAttribute("tabindex","0"),a.focus())},_onIronItemsChanged:function(a){a.detail.addedNodes.length&&this._resetTabindices()},_onShiftTabDown:function(){var a=this.getAttribute("tabindex");Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0;this._setFocusedItem(null);this.setAttribute("tabindex",
"-1");this.async(function(){this.setAttribute("tabindex",a);Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},_onFocus:function(a){!Polymer.IronMenuBehaviorImpl._shiftTabPressed&&(a=Polymer.dom(a).rootTarget,a===this||"undefined"===typeof a.tabIndex||this.isLightDescendant(a))&&(this._defaultFocusAsync=this.async(function(){var b=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null);b?this._setFocusedItem(b):this.items[0]&&this._focusNext()}))},_onUpKey:function(a){this._focusPrevious();
a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this._focusNext();a.detail.keyboardEvent.preventDefault()},_onEscKey:function(){var a=this.focusedItem;a&&a.blur()},_onKeydown:function(a){this.keyboardEventMatchesKeys(a,"up down esc")||this._focusWithKeyboardEvent(a);a.stopPropagation()},_activateHandler:function(a){Polymer.IronSelectableBehavior._activateHandler.call(this,a);a.stopPropagation()},_disabledChanged:function(a){a?(this._previousTabIndex=this.hasAttribute("tabindex")?this.tabIndex:
0,this.removeAttribute("tabindex")):this.hasAttribute("tabindex")||this.setAttribute("tabindex",this._previousTabIndex)}};Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1;Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];
</script>





<dom-module id="paper-listbox">
  <template>
    <style>
      :host {
        display: block;
        padding: 8px 0;

        background: var(--paper-listbox-background-color, var(--primary-background-color));
        color: var(--paper-listbox-color, var(--primary-text-color));

        @apply --paper-listbox;
      }
    </style>

    <slot></slot>
  </template>

  <script>//~~WEBPATH~~/paper-listbox/paper-listbox.html.js
Polymer({is:"paper-listbox",behaviors:[Polymer.IronMenuBehavior],hostAttributes:{role:"listbox"}});
</script>
</dom-module>





<script>//~~WEBPATH~~/paper-spinner/paper-spinner-behavior.html.js
Polymer.PaperSpinnerBehavior={properties:{active:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"__activeChanged"},alt:{type:String,value:"loading",observer:"__altChanged"},__coolingDown:{type:Boolean,value:!1}},__computeContainerClasses:function(a,b){return[a||b?"active":"",b?"cooldown":""].join(" ")},__activeChanged:function(a,b){this.__setAriaHidden(!a);this.__coolingDown=!a&&b},__altChanged:function(a){"loading"===a?this.alt=this.getAttribute("aria-label")||a:(this.__setAriaHidden(""===
a),this.setAttribute("aria-label",a))},__setAriaHidden:function(a){a?this.setAttribute("aria-hidden","true"):this.removeAttribute("aria-hidden")},__reset:function(){this.__coolingDown=this.active=!1}};
</script>

<dom-module id="paper-spinner-styles">
  <template>
    <style>
      /*
      /**************************/
      /* STYLES FOR THE SPINNER */
      /**************************/

      /*
       * Constants:
       *      ARCSIZE     = 270 degrees (amount of circle the arc takes up)
       *      ARCTIME     = 1333ms (time it takes to expand and contract arc)
       *      ARCSTARTROT = 216 degrees (how much the start location of the arc
       *                                should rotate each time, 216 gives us a
       *                                5 pointed star shape (it's 360/5 * 3).
       *                                For a 7 pointed star, we might do
       *                                360/7 * 3 = 154.286)
       *      SHRINK_TIME = 400ms
       */

      :host {
        display: inline-block;
        position: relative;
        width: 28px;
        height: 28px;

        /* 360 * ARCTIME / (ARCSTARTROT + (360-ARCSIZE)) */
        --paper-spinner-container-rotation-duration: 1568ms;

        /* ARCTIME */
        --paper-spinner-expand-contract-duration: 1333ms;

        /* 4 * ARCTIME */
        --paper-spinner-full-cycle-duration: 5332ms;

        /* SHRINK_TIME */
        --paper-spinner-cooldown-duration: 400ms;
      }

      #spinnerContainer {
        width: 100%;
        height: 100%;

        /* The spinner does not have any contents that would have to be
         * flipped if the direction changes. Always use ltr so that the
         * style works out correctly in both cases. */
        direction: ltr;
      }

      #spinnerContainer.active {
        -webkit-animation: container-rotate var(--paper-spinner-container-rotation-duration) linear infinite;
        animation: container-rotate var(--paper-spinner-container-rotation-duration) linear infinite;
      }

      @-webkit-keyframes container-rotate {
        to { -webkit-transform: rotate(360deg) }
      }

      @keyframes container-rotate {
        to { transform: rotate(360deg) }
      }

      .spinner-layer {
        position: absolute;
        width: 100%;
        height: 100%;
        opacity: 0;
        white-space: nowrap;
        color: var(--paper-spinner-color, var(--google-blue-500));
      }

      .layer-1 {
        color: var(--paper-spinner-layer-1-color, var(--google-blue-500));
      }

      .layer-2 {
        color: var(--paper-spinner-layer-2-color, var(--google-red-500));
      }

      .layer-3 {
        color: var(--paper-spinner-layer-3-color, var(--google-yellow-500));
      }

      .layer-4 {
        color: var(--paper-spinner-layer-4-color, var(--google-green-500));
      }

      /**
       * IMPORTANT NOTE ABOUT CSS ANIMATION PROPERTIES (keanulee):
       *
       * iOS Safari (tested on iOS 8.1) does not handle animation-delay very well - it doesn't
       * guarantee that the animation will start _exactly_ after that value. So we avoid using
       * animation-delay and instead set custom keyframes for each color (as layer-2undant as it
       * seems).
       */
      .active .spinner-layer {
        -webkit-animation-name: fill-unfill-rotate;
        -webkit-animation-duration: var(--paper-spinner-full-cycle-duration);
        -webkit-animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);
        -webkit-animation-iteration-count: infinite;
        animation-name: fill-unfill-rotate;
        animation-duration: var(--paper-spinner-full-cycle-duration);
        animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);
        animation-iteration-count: infinite;
        opacity: 1;
      }

      .active .spinner-layer.layer-1 {
        -webkit-animation-name: fill-unfill-rotate, layer-1-fade-in-out;
        animation-name: fill-unfill-rotate, layer-1-fade-in-out;
      }

      .active .spinner-layer.layer-2 {
        -webkit-animation-name: fill-unfill-rotate, layer-2-fade-in-out;
        animation-name: fill-unfill-rotate, layer-2-fade-in-out;
      }

      .active .spinner-layer.layer-3 {
        -webkit-animation-name: fill-unfill-rotate, layer-3-fade-in-out;
        animation-name: fill-unfill-rotate, layer-3-fade-in-out;
      }

      .active .spinner-layer.layer-4 {
        -webkit-animation-name: fill-unfill-rotate, layer-4-fade-in-out;
        animation-name: fill-unfill-rotate, layer-4-fade-in-out;
      }

      @-webkit-keyframes fill-unfill-rotate {
        12.5% { -webkit-transform: rotate(135deg) } /* 0.5 * ARCSIZE */
        25%   { -webkit-transform: rotate(270deg) } /* 1   * ARCSIZE */
        37.5% { -webkit-transform: rotate(405deg) } /* 1.5 * ARCSIZE */
        50%   { -webkit-transform: rotate(540deg) } /* 2   * ARCSIZE */
        62.5% { -webkit-transform: rotate(675deg) } /* 2.5 * ARCSIZE */
        75%   { -webkit-transform: rotate(810deg) } /* 3   * ARCSIZE */
        87.5% { -webkit-transform: rotate(945deg) } /* 3.5 * ARCSIZE */
        to    { -webkit-transform: rotate(1080deg) } /* 4   * ARCSIZE */
      }

      @keyframes fill-unfill-rotate {
        12.5% { transform: rotate(135deg) } /* 0.5 * ARCSIZE */
        25%   { transform: rotate(270deg) } /* 1   * ARCSIZE */
        37.5% { transform: rotate(405deg) } /* 1.5 * ARCSIZE */
        50%   { transform: rotate(540deg) } /* 2   * ARCSIZE */
        62.5% { transform: rotate(675deg) } /* 2.5 * ARCSIZE */
        75%   { transform: rotate(810deg) } /* 3   * ARCSIZE */
        87.5% { transform: rotate(945deg) } /* 3.5 * ARCSIZE */
        to    { transform: rotate(1080deg) } /* 4   * ARCSIZE */
      }

      @-webkit-keyframes layer-1-fade-in-out {
        0% { opacity: 1 }
        25% { opacity: 1 }
        26% { opacity: 0 }
        89% { opacity: 0 }
        90% { opacity: 1 }
        to { opacity: 1 }
      }

      @keyframes layer-1-fade-in-out {
        0% { opacity: 1 }
        25% { opacity: 1 }
        26% { opacity: 0 }
        89% { opacity: 0 }
        90% { opacity: 1 }
        to { opacity: 1 }
      }

      @-webkit-keyframes layer-2-fade-in-out {
        0% { opacity: 0 }
        15% { opacity: 0 }
        25% { opacity: 1 }
        50% { opacity: 1 }
        51% { opacity: 0 }
        to { opacity: 0 }
      }

      @keyframes layer-2-fade-in-out {
        0% { opacity: 0 }
        15% { opacity: 0 }
        25% { opacity: 1 }
        50% { opacity: 1 }
        51% { opacity: 0 }
        to { opacity: 0 }
      }

      @-webkit-keyframes layer-3-fade-in-out {
        0% { opacity: 0 }
        40% { opacity: 0 }
        50% { opacity: 1 }
        75% { opacity: 1 }
        76% { opacity: 0 }
        to { opacity: 0 }
      }

      @keyframes layer-3-fade-in-out {
        0% { opacity: 0 }
        40% { opacity: 0 }
        50% { opacity: 1 }
        75% { opacity: 1 }
        76% { opacity: 0 }
        to { opacity: 0 }
      }

      @-webkit-keyframes layer-4-fade-in-out {
        0% { opacity: 0 }
        65% { opacity: 0 }
        75% { opacity: 1 }
        90% { opacity: 1 }
        to { opacity: 0 }
      }

      @keyframes layer-4-fade-in-out {
        0% { opacity: 0 }
        65% { opacity: 0 }
        75% { opacity: 1 }
        90% { opacity: 1 }
        to { opacity: 0 }
      }

      .circle-clipper {
        display: inline-block;
        position: relative;
        width: 50%;
        height: 100%;
        overflow: hidden;
      }

      /**
       * Patch the gap that appear between the two adjacent div.circle-clipper while the
       * spinner is rotating (appears on Chrome 50, Safari 9.1.1, and Edge).
       */
      .spinner-layer::after {
        left: 45%;
        width: 10%;
        border-top-style: solid;
      }

      .spinner-layer::after,
      .circle-clipper::after {
        content: '';
        box-sizing: border-box;
        position: absolute;
        top: 0;
        border-width: var(--paper-spinner-stroke-width, 3px);
        border-radius: 50%;
      }

      .circle-clipper::after {
        bottom: 0;
        width: 200%;
        border-style: solid;
        border-bottom-color: transparent !important;
      }

      .circle-clipper.left::after {
        left: 0;
        border-right-color: transparent !important;
        -webkit-transform: rotate(129deg);
        transform: rotate(129deg);
      }

      .circle-clipper.right::after {
        left: -100%;
        border-left-color: transparent !important;
        -webkit-transform: rotate(-129deg);
        transform: rotate(-129deg);
      }

      .active .gap-patch::after,
      .active .circle-clipper::after {
        -webkit-animation-duration: var(--paper-spinner-expand-contract-duration);
        -webkit-animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);
        -webkit-animation-iteration-count: infinite;
        animation-duration: var(--paper-spinner-expand-contract-duration);
        animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);
        animation-iteration-count: infinite;
      }

      .active .circle-clipper.left::after {
        -webkit-animation-name: left-spin;
        animation-name: left-spin;
      }

      .active .circle-clipper.right::after {
        -webkit-animation-name: right-spin;
        animation-name: right-spin;
      }

      @-webkit-keyframes left-spin {
        0% { -webkit-transform: rotate(130deg) }
        50% { -webkit-transform: rotate(-5deg) }
        to { -webkit-transform: rotate(130deg) }
      }

      @keyframes left-spin {
        0% { transform: rotate(130deg) }
        50% { transform: rotate(-5deg) }
        to { transform: rotate(130deg) }
      }

      @-webkit-keyframes right-spin {
        0% { -webkit-transform: rotate(-130deg) }
        50% { -webkit-transform: rotate(5deg) }
        to { -webkit-transform: rotate(-130deg) }
      }

      @keyframes right-spin {
        0% { transform: rotate(-130deg) }
        50% { transform: rotate(5deg) }
        to { transform: rotate(-130deg) }
      }

      #spinnerContainer.cooldown {
        -webkit-animation: container-rotate var(--paper-spinner-container-rotation-duration) linear infinite, fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(0.4, 0.0, 0.2, 1);
        animation: container-rotate var(--paper-spinner-container-rotation-duration) linear infinite, fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(0.4, 0.0, 0.2, 1);
      }

      @-webkit-keyframes fade-out {
        0% { opacity: 1 }
        to { opacity: 0 }
      }

      @keyframes fade-out {
        0% { opacity: 1 }
        to { opacity: 0 }
      }
    </style>
  </template>
</dom-module>




<dom-module id="paper-spinner-lite">
  <template strip-whitespace>
    <style include="paper-spinner-styles"></style>

    <div id="spinnerContainer" class-name="[[__computeContainerClasses(active, __coolingDown)]]" on-animationend="__reset" on-webkit-animation-end="__reset">
      <div class="spinner-layer">
        <div class="circle-clipper left"></div>
        <div class="circle-clipper right"></div>
      </div>
    </div>
  </template>

  <script>//~~WEBPATH~~/paper-spinner/paper-spinner-lite.html.js
Polymer({is:"paper-spinner-lite",behaviors:[Polymer.PaperSpinnerBehavior]});
</script>
</dom-module>








<dom-module id="paper-toast">
  <template>
    <style>
      :host {
        display: block;
        position: fixed;
        background-color: var(--paper-toast-background-color, #323232);
        color: var(--paper-toast-color, #f1f1f1);
        min-height: 48px;
        min-width: 288px;
        padding: 16px 24px;
        box-sizing: border-box;
        box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
        border-radius: 2px;
        margin: 12px;
        font-size: 14px;
        cursor: default;
        -webkit-transition: -webkit-transform 0.3s, opacity 0.3s;
        transition: transform 0.3s, opacity 0.3s;
        opacity: 0;
        -webkit-transform: translateY(100px);
        transform: translateY(100px);
        @apply --paper-font-common-base;
      }

      :host(.capsule) {
        border-radius: 24px;
      }

      :host(.fit-bottom) {
        width: 100%;
        min-width: 0;
        border-radius: 0;
        margin: 0;
      }

      :host(.paper-toast-open) {
        opacity: 1;
        -webkit-transform: translateY(0px);
        transform: translateY(0px);
      }
    </style>

    <span id="label">{{text}}</span>
    <slot></slot>
  </template>

  <script>//~~WEBPATH~~/paper-toast/paper-toast.html.js
(function(){var a=null;Polymer({is:"paper-toast",behaviors:[Polymer.IronOverlayBehavior],properties:{fitInto:{type:Object,value:window,observer:"_onFitIntoChanged"},horizontalAlign:{type:String,value:"left"},verticalAlign:{type:String,value:"bottom"},duration:{type:Number,value:3E3},text:{type:String,value:""},noCancelOnOutsideClick:{type:Boolean,value:!0},noAutoFocus:{type:Boolean,value:!0}},listeners:{transitionend:"__onTransitionEnd"},get visible(){Polymer.Base._warn("`visible` is deprecated, use `opened` instead");
return this.opened},get _canAutoClose(){return 0<this.duration&&Infinity!==this.duration},created:function(){this._autoClose=null;Polymer.IronA11yAnnouncer.requestAvailability()},show:function(b){"string"==typeof b&&(b={text:b});for(var c in b)0===c.indexOf("_")?Polymer.Base._warn('The property "'+c+'" is private and was not set.'):c in this?this[c]=b[c]:Polymer.Base._warn('The property "'+c+'" is not valid.');this.open()},hide:function(){this.close()},__onTransitionEnd:function(b){b&&b.target===
this&&"opacity"===b.propertyName&&(this.opened?this._finishRenderOpened():this._finishRenderClosed())},_openedChanged:function(){null!==this._autoClose&&(this.cancelAsync(this._autoClose),this._autoClose=null);this.opened?(a&&a!==this&&a.close(),a=this,this.fire("iron-announce",{text:this.text}),this._canAutoClose&&(this._autoClose=this.async(this.close,this.duration))):a===this&&(a=null);Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments)},_renderOpened:function(){this.classList.add("paper-toast-open")},
_renderClosed:function(){this.classList.remove("paper-toast-open")},_onFitIntoChanged:function(b){this.positionTarget=b}})})();
</script>
</dom-module>









<dom-module id="paper-toggle-button">
  <template strip-whitespace>

    <style>
      :host {
        display: inline-block;
        @apply(--layout-horizontal);
        @apply(--layout-center);
        @apply(--paper-font-common-base);
      }

      :host([disabled]) {
        pointer-events: none;
      }

      :host(:focus) {
        outline:none;
      }

      .toggle-bar {
        position: absolute;
        height: 100%;
        width: 100%;
        border-radius: 8px;
        pointer-events: none;
        opacity: 0.4;
        transition: background-color linear .08s;
        background-color: var(--paper-toggle-button-unchecked-bar-color, #000000);

        @apply(--paper-toggle-button-unchecked-bar);
      }

      .toggle-button {
        position: absolute;
        top: -3px;
        left: 0;
        height: 20px;
        width: 20px;
        border-radius: 50%;
        box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.6);
        transition: -webkit-transform linear .08s, background-color linear .08s;
        transition: transform linear .08s, background-color linear .08s;
        will-change: transform;
        background-color: var(--paper-toggle-button-unchecked-button-color, --paper-grey-50);

        @apply(--paper-toggle-button-unchecked-button);
      }

      .toggle-button.dragging {
        -webkit-transition: none;
        transition: none;
      }

      :host([checked]:not([disabled])) .toggle-bar {
        opacity: 0.5;
        background-color: var(--paper-toggle-button-checked-bar-color, --primary-color);

        @apply(--paper-toggle-button-checked-bar);
      }

      :host([disabled]) .toggle-bar {
        background-color: #000;
        opacity: 0.12;
      }

      :host([checked]) .toggle-button {
        -webkit-transform: translate(16px, 0);
        transform: translate(16px, 0);
      }

      :host([checked]:not([disabled])) .toggle-button {
        background-color: var(--paper-toggle-button-checked-button-color, --primary-color);

        @apply(--paper-toggle-button-checked-button);
      }

      :host([disabled]) .toggle-button {
        background-color: #bdbdbd;
        opacity: 1;
      }

      .toggle-ink {
        position: absolute;
        top: -14px;
        left: -14px;
        right: auto;
        bottom: auto;
        width: 48px;
        height: 48px;
        opacity: 0.5;
        pointer-events: none;
        color: var(--paper-toggle-button-unchecked-ink-color, --primary-text-color);
      }

      :host([checked]) .toggle-ink {
        color: var(--paper-toggle-button-checked-ink-color, --primary-color);
      }

      .toggle-container {
        display: inline-block;
        position: relative;
        width: 36px;
        height: 14px;
        /* The toggle button has an absolute position of -3px; The extra 1px
        /* accounts for the toggle button shadow box. */
        margin: 4px 1px;
      }

      .toggle-label {
        position: relative;
        display: inline-block;
        vertical-align: middle;
        padding-left: var(--paper-toggle-button-label-spacing, 8px);
        pointer-events: none;
        color: var(--paper-toggle-button-label-color, --primary-text-color);
      }

      /* invalid state */
      :host([invalid]) .toggle-bar {
        background-color: var(--paper-toggle-button-invalid-bar-color, --error-color);
      }

      :host([invalid]) .toggle-button {
        background-color: var(--paper-toggle-button-invalid-button-color, --error-color);
      }

      :host([invalid]) .toggle-ink {
        color: var(--paper-toggle-button-invalid-ink-color, --error-color);
      }
    </style>

    <div class="toggle-container">
      <div id="toggleBar" class="toggle-bar"></div>
      <div id="toggleButton" class="toggle-button"></div>
    </div>

    <div class="toggle-label"><slot></slot></div>

  </template>

  <script>//~~WEBPATH~~/paper-toggle-button/paper-toggle-button.html.js
Polymer({is:"paper-toggle-button",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"button","aria-pressed":"false",tabindex:0},properties:{},listeners:{track:"_ontrack"},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){this.setScrollDirection("y")})},_ontrack:function(a){a=a.detail;"start"===a.state?this._trackStart(a):"track"===a.state?this._trackMove(a):"end"===a.state&&this._trackEnd(a)},_trackStart:function(){this._width=this.$.toggleBar.offsetWidth/
2;this._trackChecked=this.checked;this.$.toggleButton.classList.add("dragging")},_trackMove:function(a){a=a.dx;this._x=Math.min(this._width,Math.max(0,this._trackChecked?this._width+a:a));this.translate3d(this._x+"px",0,0,this.$.toggleButton);this._userActivate(this._x>this._width/2)},_trackEnd:function(){this.$.toggleButton.classList.remove("dragging");this.transform("",this.$.toggleButton)},_createRipple:function(){this._rippleContainer=this.$.toggleButton;var a=Polymer.PaperRippleBehavior._createRipple();
a.id="ink";a.setAttribute("recenters","");a.classList.add("circle","toggle-ink");return a}});
</script>
</dom-module>



<script>//~~WEBPATH~~/tf-imports/three.js
/*

 The MIT License

 Copyright (c) 2010-2013 three.js authors

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
var f={REVISION:"77"};"function"===typeof define&&define.amd?define("three",f):"undefined"!==typeof exports&&"undefined"!==typeof module&&(module.exports=f);void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Math.sign&&(Math.sign=function(a){return 0>a?-1:0<a?1:+a});void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}});
void 0===Object.assign&&(Object.assign=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(void 0!==d&&null!==d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e])}return b});
Object.assign(f,{MOUSE:{LEFT:0,MIDDLE:1,RIGHT:2},CullFaceNone:0,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,FrontFaceDirectionCW:0,FrontFaceDirectionCCW:1,BasicShadowMap:0,PCFShadowMap:1,PCFSoftShadowMap:2,FrontSide:0,BackSide:1,DoubleSide:2,FlatShading:1,SmoothShading:2,NoColors:0,FaceColors:1,VertexColors:2,NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5,AddEquation:100,SubtractEquation:101,ReverseSubtractEquation:102,MinEquation:103,
MaxEquation:104,ZeroFactor:200,OneFactor:201,SrcColorFactor:202,OneMinusSrcColorFactor:203,SrcAlphaFactor:204,OneMinusSrcAlphaFactor:205,DstAlphaFactor:206,OneMinusDstAlphaFactor:207,DstColorFactor:208,OneMinusDstColorFactor:209,SrcAlphaSaturateFactor:210,NeverDepth:0,AlwaysDepth:1,LessDepth:2,LessEqualDepth:3,EqualDepth:4,GreaterEqualDepth:5,GreaterDepth:6,NotEqualDepth:7,MultiplyOperation:0,MixOperation:1,AddOperation:2,NoToneMapping:0,LinearToneMapping:1,ReinhardToneMapping:2,Uncharted2ToneMapping:3,
CineonToneMapping:4,UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307,RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002,NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008,UnsignedByteType:1009,
ByteType:1010,ShortType:1011,UnsignedShortType:1012,IntType:1013,UnsignedIntType:1014,FloatType:1015,HalfFloatType:1025,UnsignedShort4444Type:1016,UnsignedShort5551Type:1017,UnsignedShort565Type:1018,AlphaFormat:1019,RGBFormat:1020,RGBAFormat:1021,LuminanceFormat:1022,LuminanceAlphaFormat:1023,RGBEFormat:f.RGBAFormat,DepthFormat:1026,RGB_S3TC_DXT1_Format:2001,RGBA_S3TC_DXT1_Format:2002,RGBA_S3TC_DXT3_Format:2003,RGBA_S3TC_DXT5_Format:2004,RGB_PVRTC_4BPPV1_Format:2100,RGB_PVRTC_2BPPV1_Format:2101,
RGBA_PVRTC_4BPPV1_Format:2102,RGBA_PVRTC_2BPPV1_Format:2103,RGB_ETC1_Format:2151,LoopOnce:2200,LoopRepeat:2201,LoopPingPong:2202,InterpolateDiscrete:2300,InterpolateLinear:2301,InterpolateSmooth:2302,ZeroCurvatureEnding:2400,ZeroSlopeEnding:2401,WrapAroundEnding:2402,TrianglesDrawMode:0,TriangleStripDrawMode:1,TriangleFanDrawMode:2,LinearEncoding:3E3,sRGBEncoding:3001,GammaEncoding:3007,RGBEEncoding:3002,LogLuvEncoding:3003,RGBM7Encoding:3004,RGBM16Encoding:3005,RGBDEncoding:3006,BasicDepthPacking:3200,
RGBADepthPacking:3201});f.Color=function(a,b,c){void 0===b&&void 0===c?a=this.set(a):(this.r=a,this.g=b,this.b=c,a=this);return a};function bb(a,b){b=Math.floor(b);a.r=(b>>16&255)/255;a.g=(b>>8&255)/255;a.b=(b&255)/255}
function cb(a,b){function c(k){void 0!==k&&1>parseFloat(k)&&console.warn("THREE.Color: Alpha component of "+b+" will be ignored.")}var d;if(d=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(b)){var e=d[2];switch(d[1]){case "rgb":case "rgba":if(d=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e)){a.r=Math.min(255,parseInt(d[1],10))/255;a.g=Math.min(255,parseInt(d[2],10))/255;a.b=Math.min(255,parseInt(d[3],10))/255;c(d[5]);return}if(d=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e)){a.r=
Math.min(100,parseInt(d[1],10))/100;a.g=Math.min(100,parseInt(d[2],10))/100;a.b=Math.min(100,parseInt(d[3],10))/100;c(d[5]);return}break;case "hsl":case "hsla":if(d=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e)){e=parseFloat(d[1])/360;var g=parseInt(d[2],10)/100,h=parseInt(d[3],10)/100;c(d[5]);a.setHSL(e,g,h);return}}}else if(d=/^#([A-Fa-f0-9]+)$/.exec(b)){d=d[1];e=d.length;if(3===e){a.r=parseInt(d.charAt(0)+d.charAt(0),16)/255;a.g=parseInt(d.charAt(1)+d.charAt(1),
16)/255;a.b=parseInt(d.charAt(2)+d.charAt(2),16)/255;return}if(6===e){a.r=parseInt(d.charAt(0)+d.charAt(1),16)/255;a.g=parseInt(d.charAt(2)+d.charAt(3),16)/255;a.b=parseInt(d.charAt(4)+d.charAt(5),16)/255;return}}b&&0<b.length&&(d=f.ColorKeywords[b],void 0!==d?bb(a,d):console.warn("THREE.Color: Unknown color "+b))}function db(a){return 255*a.r<<16^255*a.g<<8^255*a.b<<0}
f.Color.prototype={constructor:f.Color,r:1,g:1,b:1,set:function(a){a instanceof f.Color?this.copy(a):"number"===typeof a?bb(this,a):"string"===typeof a&&cb(this,a);return this},setScalar:function(a){this.b=this.g=this.r=a},setHSL:function(){function a(b,c,d){0>d&&(d+=1);1<d&&--d;return d<1/6?b+6*(c-b)*d:.5>d?c:d<2/3?b+6*(c-b)*(2/3-d):b}return function(b,c,d){b=f.Math.euclideanModulo(b,1);c=f.Math.clamp(c,0,1);d=f.Math.clamp(d,0,1);0===c?this.r=this.g=this.b=d:(c=.5>=d?d*(1+c):d+c-d*c,d=2*d-c,this.r=
a(d,c,b+1/3),this.g=a(d,c,b),this.b=a(d,c,b-1/3));return this}}(),clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this},copyGammaToLinear:function(a,b){void 0===b&&(b=2);this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},copyLinearToGamma:function(a,b){void 0===b&&(b=2);b=0<b?1/b:1;this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},convertGammaToLinear:function(){var a=
this.r,b=this.g,c=this.b;this.r=a*a;this.g=b*b;this.b=c*c;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},getHexString:function(){return("000000"+db(this).toString(16)).slice(-6)},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(a,b,c){var d=0,e=0,g=0;d=this.r;e=this.g;var h=this.b,k=Math.max(d,e,h),l=Math.min(d,e,h),m;g=(l+k)/2;if(l===k)l=m=0;else{var n=
k-l;l=.5>=g?n/(k+l):n/(2-k-l);switch(k){case d:m=(e-h)/n+(e<h?6:0);break;case e:m=(h-d)/n+2;break;case h:m=(d-e)/n+4}m/=6}d=m+a;e=l+b;g+=c;this.setHSL(d,e,g);return this},add:function(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this},addColors:function(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this},addScalar:function(a){this.r+=a;this.g+=a;this.b+=a;return this},multiply:function(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this},multiplyScalar:function(a){this.r*=a;this.g*=a;this.b*=
a;return this},lerp:function(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this},equals:function(a){return a.r===this.r&&a.g===this.g&&a.b===this.b},fromArray:function(a,b){void 0===b&&(b=0);this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a}};
f.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,
darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,
grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,
lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,
palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,
tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};f.Quaternion=function(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._w=void 0!==d?d:1};
function eb(a,b,c){if(!1===b instanceof f.Euler)throw Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var d=Math.cos(b._x/2),e=Math.cos(b._y/2),g=Math.cos(b._z/2),h=Math.sin(b._x/2),k=Math.sin(b._y/2),l=Math.sin(b._z/2);b=b.order;"XYZ"===b?(a._x=h*e*g+d*k*l,a._y=d*k*g-h*e*l,a._z=d*e*l+h*k*g,a._w=d*e*g-h*k*l):"YXZ"===b?(a._x=h*e*g+d*k*l,a._y=d*k*g-h*e*l,a._z=d*e*l-h*k*g,a._w=d*e*g+h*k*l):"ZXY"===b?(a._x=h*e*g-d*k*l,a._y=d*k*g+h*e*l,a._z=d*e*
l+h*k*g,a._w=d*e*g-h*k*l):"ZYX"===b?(a._x=h*e*g-d*k*l,a._y=d*k*g+h*e*l,a._z=d*e*l-h*k*g,a._w=d*e*g+h*k*l):"YZX"===b?(a._x=h*e*g+d*k*l,a._y=d*k*g+h*e*l,a._z=d*e*l-h*k*g,a._w=d*e*g-h*k*l):"XZY"===b&&(a._x=h*e*g-d*k*l,a._y=d*k*g-h*e*l,a._z=d*e*l+h*k*g,a._w=d*e*g+h*k*l);if(!1!==c)a.onChangeCallback();return a}function jb(a,b,c){c/=2;var d=Math.sin(c);a._x=b.x*d;a._y=b.y*d;a._z=b.z*d;a._w=Math.cos(c);a.onChangeCallback();return a}
function kb(a,b,c){var d=b._x,e=b._y,g=b._z;b=b._w;var h=c._x,k=c._y,l=c._z;c=c._w;a._x=d*c+b*h+e*l-g*k;a._y=e*c+b*k+g*h-d*l;a._z=g*c+b*l+d*k-e*h;a._w=b*c-d*h-e*k-g*l;a.onChangeCallback();return a}
f.Quaternion.prototype={constructor:f.Quaternion,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get w(){return this._w},set w(a){this._w=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(a){this._x=
a.x;this._y=a.y;this._z=a.z;this._w=a.w;this.onChangeCallback();return this},setFromRotationMatrix:function(a){var b=a.elements,c=b[0];a=b[4];var d=b[8],e=b[1],g=b[5],h=b[9],k=b[2],l=b[6];b=b[10];var m=c+g+b;0<m?(c=.5/Math.sqrt(m+1),this._w=.25/c,this._x=(l-h)*c,this._y=(d-k)*c,this._z=(e-a)*c):c>g&&c>b?(c=2*Math.sqrt(1+c-g-b),this._w=(l-h)/c,this._x=.25*c,this._y=(a+e)/c,this._z=(d+k)/c):g>b?(c=2*Math.sqrt(1+g-c-b),this._w=(d-k)/c,this._x=(a+e)/c,this._y=.25*c,this._z=(h+l)/c):(c=2*Math.sqrt(1+b-
c-g),this._w=(e-a)/c,this._x=(d+k)/c,this._y=(h+l)/c,this._z=.25*c);this.onChangeCallback();return this},setFromUnitVectors:function(){var a,b;return function(c,d){void 0===a&&(a=new f.Vector3);b=c.dot(d)+1;1E-6>b?(b=0,Math.abs(c.x)>Math.abs(c.z)?a.set(-c.y,c.x,0):a.set(0,-c.z,c.y)):lb(a,c,d);this._x=a.x;this._y=a.y;this._z=a.z;this._w=b;return this.normalize()}}(),inverse:function(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this.normalize()},dot:function(a){return this._x*
a._x+this._y*a._y+this._z*a._z+this._w*a._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this.onChangeCallback();return this},multiply:function(a,b){return void 0!==b?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),
kb(this,a,b)):kb(this,this,a)},premultiply:function(a){return kb(this,a,this)},slerp:function(a,b){if(0===b)return this;if(1===b)return this.copy(a);var c=this._x,d=this._y,e=this._z,g=this._w,h=g*a._w+c*a._x+d*a._y+e*a._z;0>h?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,h=-h):this.copy(a);if(1<=h)return this._w=g,this._x=c,this._y=d,this._z=e,this;a=Math.sqrt(1-h*h);if(.001>Math.abs(a))return this._w=.5*(g+this._w),this._x=.5*(c+this._x),this._y=.5*(d+this._y),this._z=.5*(e+this._z),
this;var k=Math.atan2(a,h);h=Math.sin((1-b)*k)/a;b=Math.sin(b*k)/a;this._w=g*h+this._w*b;this._x=c*h+this._x*b;this._y=d*h+this._y*b;this._z=e*h+this._z*b;this.onChangeCallback();return this},equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function(a,b){void 0===b&&(b=0);this._x=a[b];this._y=a[b+1];this._z=a[b+2];this._w=a[b+3];this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;
a[b+2]=this._z;a[b+3]=this._w;return a},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}};
Object.assign(f.Quaternion,{slerp:function(a,b,c,d){return c.copy(a).slerp(b,d)},slerpFlat:function(a,b,c,d,e,g,h){var k=c[d+0],l=c[d+1],m=c[d+2];c=c[d+3];d=e[g+0];var n=e[g+1],q=e[g+2];e=e[g+3];if(c!==e||k!==d||l!==n||m!==q){g=1-h;var p=k*d+l*n+m*q+c*e,t=0<=p?1:-1,r=1-p*p;r>Number.EPSILON&&(r=Math.sqrt(r),p=Math.atan2(r,p*t),g=Math.sin(g*p)/r,h=Math.sin(h*p)/r);t*=h;k=k*g+d*t;l=l*g+n*t;m=m*g+q*t;c=c*g+e*t;g===1-h&&(h=1/Math.sqrt(k*k+l*l+m*m+c*c),k*=h,l*=h,m*=h,c*=h)}a[b]=k;a[b+1]=l;a[b+2]=m;a[b+
3]=c}});f.Vector2=function(a,b){this.x=a||0;this.y=b||0};
f.Vector2.prototype={constructor:f.Vector2,get width(){return this.x},set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,b){this.x=a;this.y=b;return this},setScalar:function(a){this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;
case 1:return this.y;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this},addScalar:function(a){this.x+=a;this.y+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},
addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;return this},subScalar:function(a){this.x-=a;this.y-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,
this.y*=a):this.y=this.x=0;return this},divide:function(a){this.x/=a.x;this.y/=a.y;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this},clampScalar:function(){var a,b;return function(c,d){void 0===
a&&(a=new f.Vector2,b=new f.Vector2);a.set(c,c);b.set(d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.multiplyScalar(Math.max(a,Math.min(b,c))/c)},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);
this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(a){return this.x*a.x+this.y*a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var a=Math.atan2(this.y,this.x);0>a&&(a+=2*Math.PI);return a},
distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this},
toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];return this},rotateAround:function(a,b){var c=Math.cos(b);b=Math.sin(b);var d=this.x-a.x,e=this.y-a.y;this.x=d*c-e*b+a.x;this.y=d*b+e*c+a.y;return this}};f.Vector3=function(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0};
function lb(a,b,c){var d=b.x,e=b.y;b=b.z;var g=c.x,h=c.y;c=c.z;a.x=e*c-b*h;a.y=b*g-d*c;a.z=d*h-e*g;return a}function mb(a,b){var c=a.x,d=a.y,e=a.z,g=b.x,h=b.y,k=b.z;b=b.w;var l=b*c+h*e-k*d,m=b*d+k*c-g*e,n=b*e+g*d-h*c;c=-g*c-h*d-k*e;a.x=l*b+c*-g+m*-k-n*-h;a.y=m*b+c*-h+n*-g-l*-k;a.z=n*b+c*-k+l*-h-m*-g;return a}function rb(a,b){var c=a.x,d=a.y,e=a.z;b=b.elements;a.x=b[0]*c+b[3]*d+b[6]*e;a.y=b[1]*c+b[4]*d+b[7]*e;a.z=b[2]*c+b[5]*d+b[8]*e;return a}
function sb(a,b){var c=a.x,d=a.y,e=a.z;b=b.elements;var g=1/(b[3]*c+b[7]*d+b[11]*e+b[15]);a.x=(b[0]*c+b[4]*d+b[8]*e+b[12])*g;a.y=(b[1]*c+b[5]*d+b[9]*e+b[13])*g;a.z=(b[2]*c+b[6]*d+b[10]*e+b[14])*g;return a}function tb(a,b){var c=a.x,d=a.y,e=a.z;b=b.elements;a.x=b[0]*c+b[4]*d+b[8]*e;a.y=b[1]*c+b[5]*d+b[9]*e;a.z=b[2]*c+b[6]*d+b[10]*e;a.normalize()}function zb(a,b){var c=a.x,d=a.y,e=a.z;a.x=d*b.z-e*b.y;a.y=e*b.x-c*b.z;a.z=c*b.y-d*b.x;return a}
function Ab(a,b,c){if("number"===typeof b){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var d=b;b=c;c=d}return a.fromArray(b.elements,4*c)}function Bb(a,b){return Ab(a,b,3)}
f.Vector3.prototype={constructor:f.Vector3,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},setScalar:function(a){this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;
case 2:return this.z;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;return this},addVectors:function(a,
b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},
multiply:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this;this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},applyEuler:function(){var a;return function(b){!1===b instanceof f.Euler&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");
void 0===a&&(a=new f.Quaternion);return mb(this,eb(a,b))}}(),applyAxisAngle:function(){var a;return function(b,c){void 0===a&&(a=new f.Quaternion);return mb(this,jb(a,b,c))}}(),applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12];this.y=a[1]*b+a[5]*c+a[9]*d+a[13];this.z=a[2]*b+a[6]*c+a[10]*d+a[14];return this},project:function(){var a;return function(b){void 0===a&&(a=new f.Matrix4);Cb(a,b.projectionMatrix,a.getInverse(b.matrixWorld));return sb(this,
a)}}(),unproject:function(){var a;return function(b){void 0===a&&(a=new f.Matrix4);Cb(a,b.matrixWorld,a.getInverse(b.projectionMatrix));return sb(this,a)}}(),divide:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},
clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new f.Vector3,b=new f.Vector3);a.set(c,c,c);b.set(d,d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.multiplyScalar(Math.max(a,Math.min(b,c))/c)},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);
return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(a){return this.x*
a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},lerpVectors:function(a,
b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},projectOnVector:function(){var a,b;return function(c){void 0===a&&(a=new f.Vector3);a.copy(c).normalize();b=this.dot(a);return this.copy(a).multiplyScalar(b)}}(),projectOnPlane:function(){var a;return function(b){void 0===a&&(a=new f.Vector3);a.copy(this).projectOnVector(b);return this.sub(a)}}(),reflect:function(){var a;return function(b){void 0===a&&(a=new f.Vector3);return this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),angleTo:function(a){a=
this.dot(a)/Math.sqrt(this.lengthSq()*a.lengthSq());return Math.acos(f.Math.clamp(a,-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;
a[b+2]=this.z;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];this.z=a.array[b+2];return this}};f.Vector4=function(a,b,c,d){this.x=a||0;this.y=b||0;this.z=c||0;this.w=void 0!==d?d:1};
f.Vector4.prototype={constructor:f.Vector4,set:function(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this},setScalar:function(a){this.w=this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setW:function(a){this.w=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+
a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);
this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=
a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a,this.w*=a):this.w=this.z=this.y=this.x=0;return this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z,e=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12]*e;this.y=a[1]*b+a[5]*c+a[9]*d+a[13]*e;this.z=
a[2]*b+a[6]*c+a[10]*d+a[14]*e;this.w=a[3]*b+a[7]*c+a[11]*d+a[15]*e;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},setAxisAngleFromQuaternion:function(a){this.w=2*Math.acos(a.w);var b=Math.sqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this},setAxisAngleFromRotationMatrix:function(a){a=a.elements;var b=a[0];var c=a[4];var d=a[8],e=a[1],g=a[5],h=a[9];var k=a[2];var l=a[6];var m=a[10];if(.01>Math.abs(c-e)&&.01>Math.abs(d-k)&&
.01>Math.abs(h-l)){if(.1>Math.abs(c+e)&&.1>Math.abs(d+k)&&.1>Math.abs(h+l)&&.1>Math.abs(b+g+m-3))return this.set(1,0,0,0),this;a=Math.PI;b=(b+1)/2;g=(g+1)/2;m=(m+1)/2;c=(c+e)/4;d=(d+k)/4;h=(h+l)/4;b>g&&b>m?.01>b?(l=0,c=k=.707106781):(l=Math.sqrt(b),k=c/l,c=d/l):g>m?.01>g?(l=.707106781,k=0,c=.707106781):(k=Math.sqrt(g),l=c/k,c=h/k):.01>m?(k=l=.707106781,c=0):(c=Math.sqrt(m),l=d/c,k=h/c);this.set(l,k,c,a);return this}a=Math.sqrt((l-h)*(l-h)+(d-k)*(d-k)+(e-c)*(e-c));.001>Math.abs(a)&&(a=1);this.x=(l-
h)/a;this.y=(d-k)/a;this.z=(e-c)/a;this.w=Math.acos((b+g+m-1)/2);return this},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));
this.w=Math.max(a.w,Math.min(b.w,this.w));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new f.Vector4,b=new f.Vector4);a.set(c,c,c,c);b.set(d,d,d,d);return this.clamp(a,b)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);
this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function(){return this.x*
this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this},lerpVectors:function(a,
b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];this.z=a.array[b+2];this.w=
a.array[b+3];return this}};f.Euler=function(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._order=d||f.Euler.DefaultOrder};f.Euler.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");f.Euler.DefaultOrder="XYZ";
f.Euler.prototype={constructor:f.Euler,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get order(){return this._order},set order(a){this._order=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._order=d||this._order;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,
this._z,this._order)},copy:function(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this.onChangeCallback();return this},setFromRotationMatrix:function(a,b,c){var d=f.Math.clamp,e=a.elements;a=e[0];var g=e[4],h=e[8],k=e[1],l=e[5],m=e[9],n=e[2],q=e[6];e=e[10];b=b||this._order;"XYZ"===b?(this._y=Math.asin(d(h,-1,1)),.99999>Math.abs(h)?(this._x=Math.atan2(-m,e),this._z=Math.atan2(-g,a)):(this._x=Math.atan2(q,l),this._z=0)):"YXZ"===b?(this._x=Math.asin(-d(m,-1,1)),.99999>Math.abs(m)?(this._y=
Math.atan2(h,e),this._z=Math.atan2(k,l)):(this._y=Math.atan2(-n,a),this._z=0)):"ZXY"===b?(this._x=Math.asin(d(q,-1,1)),.99999>Math.abs(q)?(this._y=Math.atan2(-n,e),this._z=Math.atan2(-g,l)):(this._y=0,this._z=Math.atan2(k,a))):"ZYX"===b?(this._y=Math.asin(-d(n,-1,1)),.99999>Math.abs(n)?(this._x=Math.atan2(q,e),this._z=Math.atan2(k,a)):(this._x=0,this._z=Math.atan2(-g,l))):"YZX"===b?(this._z=Math.asin(d(k,-1,1)),.99999>Math.abs(k)?(this._x=Math.atan2(-m,l),this._y=Math.atan2(-n,a)):(this._x=0,this._y=
Math.atan2(h,e))):"XZY"===b?(this._z=Math.asin(-d(g,-1,1)),.99999>Math.abs(g)?(this._x=Math.atan2(q,l),this._y=Math.atan2(h,a)):(this._x=Math.atan2(-m,e),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+b);this._order=b;if(!1!==c)this.onChangeCallback();return this},setFromQuaternion:function(){var a;return function(b,c,d){void 0===a&&(a=new f.Matrix4);Db(a,b);return this.setFromRotationMatrix(a,c,d)}}(),setFromVector3:function(a,b){return this.set(a.x,a.y,
a.z,b||this._order)},reorder:function(){var a=new f.Quaternion;return function(b){eb(a,this);return this.setFromQuaternion(a,b)}}(),equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a},toVector3:function(a){return a?
a.set(this._x,this._y,this._z):new f.Vector3(this._x,this._y,this._z)},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}};f.Line3=function(a,b){this.start=void 0!==a?a:new f.Vector3;this.end=void 0!==b?b:new f.Vector3};function Eb(a,b){return(b||new f.Vector3).subVectors(a.end,a.start)}
f.Line3.prototype={constructor:f.Line3,set:function(a,b){this.start.copy(a);this.end.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.start.copy(a.start);this.end.copy(a.end);return this},center:function(a){return(a||new f.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(a,b){return Eb(this,b||new f.Vector3).multiplyScalar(a).add(this.start)},
closestPointToPointParameter:function(){var a=new f.Vector3,b=new f.Vector3;return function(c,d){a.subVectors(c,this.start);b.subVectors(this.end,this.start);c=b.dot(b);c=b.dot(a)/c;d&&(c=f.Math.clamp(c,0,1));return c}}(),closestPointToPoint:function(a,b,c){a=this.closestPointToPointParameter(a,b);return Eb(this,c||new f.Vector3).multiplyScalar(a).add(this.start)},applyMatrix4:function(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);return this},equals:function(a){return a.start.equals(this.start)&&
a.end.equals(this.end)}};f.Box2=function(a,b){this.min=void 0!==a?a:new f.Vector2(Infinity,Infinity);this.max=void 0!==b?b:new f.Vector2(-Infinity,-Infinity)};
f.Box2.prototype={constructor:f.Box2,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new f.Vector2;return function(b,c){c=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},
makeEmpty:function(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(a){return(a||new f.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new f.Vector2).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);
this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y?!0:!1},getParameter:function(a,b){return(b||new f.Vector2).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?
!1:!0},clampPoint:function(a,b){return(b||new f.Vector2).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new f.Vector2;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}};
f.Box3=function(a,b){this.min=void 0!==a?a:new f.Vector3(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new f.Vector3(-Infinity,-Infinity,-Infinity)};function Fb(a,b){for(var c=Infinity,d=Infinity,e=Infinity,g=-Infinity,h=-Infinity,k=-Infinity,l=0,m=b.length;l<m;l+=3){var n=b[l],q=b[l+1],p=b[l+2];n<c&&(c=n);q<d&&(d=q);p<e&&(e=p);n>g&&(g=n);q>h&&(h=q);p>k&&(k=p)}a.min.set(c,d,e);a.max.set(g,h,k)}
f.Box3.prototype={constructor:f.Box3,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new f.Vector3;return function(b,c){c=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),setFromObject:function(){var a=new f.Vector3;return function(b){var c=this;b.updateMatrixWorld(!0);this.makeEmpty();b.traverse(function(d){var e=
d.geometry;if(void 0!==e)if(e instanceof f.Geometry){var g=e.vertices;e=0;for(var h=g.length;e<h;e++)a.copy(g[e]),a.applyMatrix4(d.matrixWorld),c.expandByPoint(a)}else if(e instanceof f.BufferGeometry&&void 0!==e.attributes.position)for(g=e.attributes.position.array,e=0,h=g.length;e<h;e+=3)a.fromArray(g,e),a.applyMatrix4(d.matrixWorld),c.expandByPoint(a)});return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},
makeEmpty:function(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(a){return(a||new f.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new f.Vector3).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);
return this},expandByScalar:function(a){this.min.addScalar(-a);this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z?!0:!1},getParameter:function(a,b){return(b||new f.Vector3).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/
(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0},intersectsSphere:function(){var a;return function(b){void 0===a&&(a=new f.Vector3);this.clampPoint(b.center,a);return a.distanceToSquared(b.center)<=b.radius*b.radius}}(),intersectsPlane:function(a){if(0<a.normal.x){var b=a.normal.x*this.min.x;var c=a.normal.x*this.max.x}else b=
a.normal.x*this.max.x,c=a.normal.x*this.min.x;0<a.normal.y?(b+=a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,c+=a.normal.y*this.min.y);0<a.normal.z?(b+=a.normal.z*this.min.z,c+=a.normal.z*this.max.z):(b+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z);return b<=a.constant&&c>=a.constant},clampPoint:function(a,b){return(b||new f.Vector3).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new f.Vector3;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),
getBoundingSphere:function(){var a=new f.Vector3;return function(b){b=b||new f.Sphere;b.center=this.center();b.radius=.5*this.size(a).length();return b}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},applyMatrix4:function(){var a=[new f.Vector3,new f.Vector3,new f.Vector3,new f.Vector3,new f.Vector3,new f.Vector3,new f.Vector3,new f.Vector3];return function(b){if(this.isEmpty())return this;
a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(b);a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(b);a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(b);a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(b);a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(b);a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(b);a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(b);a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(b);this.setFromPoints(a);return this}}(),
translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}};f.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]);0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")};function Gb(a,b){b=b.elements;a.set(b[0],b[4],b[8],b[1],b[5],b[9],b[2],b[6],b[10]);return a.getInverse(a).transpose()}
f.Matrix3.prototype={constructor:f.Matrix3,set:function(a,b,c,d,e,g,h,k,l){var m=this.elements;m[0]=a;m[1]=d;m[2]=h;m[3]=b;m[4]=e;m[5]=k;m[6]=c;m[7]=g;m[8]=l;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8]);return this},applyToVector3Array:function(){var a;return function(b,c,d){void 0===a&&(a=new f.Vector3);void 0===
c&&(c=0);void 0===d&&(d=b.length);for(var e=0;e<d;e+=3,c+=3)a.fromArray(b,c),rb(a,this),a.toArray(b,c);return b}}(),applyToBuffer:function(){var a;return function(b,c,d){void 0===a&&(a=new f.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length/b.itemSize);for(var e=0;e<d;e++,c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),rb(a,this),b.setXYZ(a.x,a.y,a.z);return b}}(),multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this},determinant:function(){var a=
this.elements,b=a[0],c=a[1],d=a[2],e=a[3],g=a[4],h=a[5],k=a[6],l=a[7];a=a[8];return b*g*a-b*h*l-c*e*a+c*h*k+d*e*l-d*g*k},getInverse:function(a,b){a instanceof f.Matrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var c=a.elements;a=this.elements;var d=c[0],e=c[1],g=c[2],h=c[3],k=c[4],l=c[5],m=c[6],n=c[7];c=c[8];var q=c*k-l*n,p=l*m-c*h,t=n*h-k*m,r=d*q+e*p+g*t;if(0===r){if(b)throw Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");
return this.identity()}b=1/r;a[0]=q*b;a[1]=(g*n-c*e)*b;a[2]=(l*e-g*k)*b;a[3]=p*b;a[4]=(c*d-g*m)*b;a[5]=(g*h-l*d)*b;a[6]=t*b;a[7]=(e*m-n*d)*b;a[8]=(k*d-e*h)*b;return this},transpose:function(){var a=this.elements;var b=a[1];a[1]=a[3];a[3]=b;b=a[2];a[2]=a[6];a[6]=b;b=a[5];a[5]=a[7];a[7]=b;return this},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.");return this.toArray(a,b)},transposeIntoArray:function(a){var b=this.elements;
a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this},fromArray:function(a){this.elements.set(a);return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a}};f.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")};
function Cb(a,b,c){var d=b.elements,e=c.elements;c=a.elements;b=d[0];var g=d[4],h=d[8],k=d[12],l=d[1],m=d[5],n=d[9],q=d[13],p=d[2],t=d[6],r=d[10],v=d[14],u=d[3],w=d[7],x=d[11];d=d[15];var A=e[0],y=e[4],B=e[8],F=e[12],K=e[1],L=e[5],N=e[9],Q=e[13],W=e[2],H=e[6],O=e[10],P=e[14],D=e[3],R=e[7],U=e[11];e=e[15];c[0]=b*A+g*K+h*W+k*D;c[4]=b*y+g*L+h*H+k*R;c[8]=b*B+g*N+h*O+k*U;c[12]=b*F+g*Q+h*P+k*e;c[1]=l*A+m*K+n*W+q*D;c[5]=l*y+m*L+n*H+q*R;c[9]=l*B+m*N+n*O+q*U;c[13]=l*F+m*Q+n*P+q*e;c[2]=p*A+t*K+r*W+v*D;c[6]=
p*y+t*L+r*H+v*R;c[10]=p*B+t*N+r*O+v*U;c[14]=p*F+t*Q+r*P+v*e;c[3]=u*A+w*K+x*W+d*D;c[7]=u*y+w*L+x*H+d*R;c[11]=u*B+w*N+x*O+d*U;c[15]=u*F+w*Q+x*P+d*e;return a}function Db(a,b){var c=a.elements,d=b.x,e=b.y,g=b.z,h=b.w,k=d+d,l=e+e,m=g+g;b=d*k;var n=d*l;d*=m;var q=e*l;e*=m;g*=m;k*=h;l*=h;h*=m;c[0]=1-(q+g);c[4]=n-h;c[8]=d+l;c[1]=n+h;c[5]=1-(b+g);c[9]=e-k;c[2]=d-l;c[6]=e+k;c[10]=1-(b+q);c[3]=0;c[7]=0;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return a}
function Hb(a,b){var c=Math.cos(b);b=Math.sin(b);a.set(1,0,0,0,0,c,-b,0,0,b,c,0,0,0,0,1)}function Ib(a,b){var c=Math.cos(b);b=Math.sin(b);a.set(c,0,b,0,0,1,0,0,-b,0,c,0,0,0,0,1)}function Jb(a,b){var c=Math.cos(b);b=Math.sin(b);a.set(c,-b,0,0,b,c,0,0,0,0,1,0,0,0,0,1)}function Kb(a,b,c){var d=Math.cos(c);c=Math.sin(c);var e=1-d,g=b.x,h=b.y;b=b.z;var k=e*g,l=e*h;a.set(k*g+d,k*h-c*b,k*b+c*h,0,k*h+c*b,l*h+d,l*b-c*g,0,k*b-c*h,l*b+c*g,e*b*b+d,0,0,0,0,1);return a}
function Lb(a,b,c,d,e,g,h){var k=a.elements;k[0]=2*g/(c-b);k[4]=0;k[8]=(c+b)/(c-b);k[12]=0;k[1]=0;k[5]=2*g/(e-d);k[9]=(e+d)/(e-d);k[13]=0;k[2]=0;k[6]=0;k[10]=-(h+g)/(h-g);k[14]=-2*h*g/(h-g);k[3]=0;k[7]=0;k[11]=-1;k[15]=0;return a}
f.Matrix4.prototype={constructor:f.Matrix4,set:function(a,b,c,d,e,g,h,k,l,m,n,q,p,t,r,v){var u=this.elements;u[0]=a;u[4]=b;u[8]=c;u[12]=d;u[1]=e;u[5]=g;u[9]=h;u[13]=k;u[2]=l;u[6]=m;u[10]=n;u[14]=q;u[3]=p;u[7]=t;u[11]=r;u[15]=v;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function(){return(new f.Matrix4).fromArray(this.elements)},copy:function(a){this.elements.set(a.elements);return this},extractBasis:function(a,b,c){Ab(a,this,0);Ab(b,this,1);Ab(c,this,
2);return this},makeBasis:function(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this},extractRotation:function(){var a;return function(b){void 0===a&&(a=new f.Vector3);var c=this.elements,d=b.elements,e=1/Ab(a,b,0).length(),g=1/Ab(a,b,1).length();b=1/Ab(a,b,2).length();c[0]=d[0]*e;c[1]=d[1]*e;c[2]=d[2]*e;c[4]=d[4]*g;c[5]=d[5]*g;c[6]=d[6]*g;c[8]=d[8]*b;c[9]=d[9]*b;c[10]=d[10]*b;return this}}(),makeRotationFromEuler:function(a){!1===a instanceof f.Euler&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
var b=this.elements,c=a.x,d=a.y,e=a.z,g=Math.cos(c);c=Math.sin(c);var h=Math.cos(d);d=Math.sin(d);var k=Math.cos(e);e=Math.sin(e);if("XYZ"===a.order){a=g*k;var l=g*e,m=c*k,n=c*e;b[0]=h*k;b[4]=-h*e;b[8]=d;b[1]=l+m*d;b[5]=a-n*d;b[9]=-c*h;b[2]=n-a*d;b[6]=m+l*d;b[10]=g*h}else"YXZ"===a.order?(a=h*k,l=h*e,m=d*k,n=d*e,b[0]=a+n*c,b[4]=m*c-l,b[8]=g*d,b[1]=g*e,b[5]=g*k,b[9]=-c,b[2]=l*c-m,b[6]=n+a*c,b[10]=g*h):"ZXY"===a.order?(a=h*k,l=h*e,m=d*k,n=d*e,b[0]=a-n*c,b[4]=-g*e,b[8]=m+l*c,b[1]=l+m*c,b[5]=g*k,b[9]=
n-a*c,b[2]=-g*d,b[6]=c,b[10]=g*h):"ZYX"===a.order?(a=g*k,l=g*e,m=c*k,n=c*e,b[0]=h*k,b[4]=m*d-l,b[8]=a*d+n,b[1]=h*e,b[5]=n*d+a,b[9]=l*d-m,b[2]=-d,b[6]=c*h,b[10]=g*h):"YZX"===a.order?(a=g*h,l=g*d,m=c*h,n=c*d,b[0]=h*k,b[4]=n-a*e,b[8]=m*e+l,b[1]=e,b[5]=g*k,b[9]=-c*k,b[2]=-d*k,b[6]=l*e+m,b[10]=a-n*e):"XZY"===a.order&&(a=g*h,l=g*d,m=c*h,n=c*d,b[0]=h*k,b[4]=-e,b[8]=d*k,b[1]=a*e+n,b[5]=g*k,b[9]=l*e-m,b[2]=m*e-l,b[6]=c*k,b[10]=n*e+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},lookAt:function(){var a,
b,c;return function(d,e,g){void 0===a&&(a=new f.Vector3,b=new f.Vector3,c=new f.Vector3);var h=this.elements;c.subVectors(d,e).normalize();0===c.lengthSq()&&(c.z=1);lb(a,g,c).normalize();0===a.lengthSq()&&(c.z+=1E-4,lb(a,g,c).normalize());lb(b,c,a);h[0]=a.x;h[4]=b.x;h[8]=c.x;h[1]=a.y;h[5]=b.y;h[9]=c.y;h[2]=a.z;h[6]=b.z;h[10]=c.z;return this}}(),multiply:function(a,b){return void 0!==b?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),
Cb(this,a,b)):Cb(this,this,a)},premultiply:function(a){return Cb(this,a,this)},multiplyToArray:function(a,b,c){var d=this.elements;Cb(this,a,b);c[0]=d[0];c[1]=d[1];c[2]=d[2];c[3]=d[3];c[4]=d[4];c[5]=d[5];c[6]=d[6];c[7]=d[7];c[8]=d[8];c[9]=d[9];c[10]=d[10];c[11]=d[11];c[12]=d[12];c[13]=d[13];c[14]=d[14];c[15]=d[15];return this},multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;
b[15]*=a;return this},applyToVector3Array:function(){var a;return function(b,c,d){void 0===a&&(a=new f.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length);for(var e=0;e<d;e+=3,c+=3)a.fromArray(b,c),a.applyMatrix4(this),a.toArray(b,c);return b}}(),applyToBuffer:function(){var a;return function(b,c,d){void 0===a&&(a=new f.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length/b.itemSize);for(var e=0;e<d;e++,c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.applyMatrix4(this),b.setXYZ(a.x,a.y,a.z);return b}}(),
determinant:function(){var a=this.elements,b=a[0],c=a[4],d=a[8],e=a[12],g=a[1],h=a[5],k=a[9],l=a[13],m=a[2],n=a[6],q=a[10],p=a[14];return a[3]*(+e*k*n-d*l*n-e*h*q+c*l*q+d*h*p-c*k*p)+a[7]*(+b*k*p-b*l*q+e*g*q-d*g*p+d*l*m-e*k*m)+a[11]*(+b*l*n-b*h*p-e*g*n+c*g*p+e*h*m-c*l*m)+a[15]*(-d*h*m-b*k*n+b*h*q+d*g*n-c*g*q+c*k*m)},transpose:function(){var a=this.elements;var b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];
a[14]=b;return this},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.");return this.toArray(a,b)},getPosition:function(){var a;return function(){void 0===a&&(a=new f.Vector3);console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");return Ab(a,this,3)}}(),setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},getInverse:function(a,
b){var c=this.elements,d=a.elements;a=d[0];var e=d[1],g=d[2],h=d[3],k=d[4],l=d[5],m=d[6],n=d[7],q=d[8],p=d[9],t=d[10],r=d[11],v=d[12],u=d[13],w=d[14];d=d[15];var x=p*w*n-u*t*n+u*m*r-l*w*r-p*m*d+l*t*d,A=v*t*n-q*w*n-v*m*r+k*w*r+q*m*d-k*t*d,y=q*u*n-v*p*n+v*l*r-k*u*r-q*l*d+k*p*d,B=v*p*m-q*u*m-v*l*t+k*u*t+q*l*w-k*p*w,F=a*x+e*A+g*y+h*B;if(0===F){if(b)throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");
return this.identity()}b=1/F;c[0]=x*b;c[1]=(u*t*h-p*w*h-u*g*r+e*w*r+p*g*d-e*t*d)*b;c[2]=(l*w*h-u*m*h+u*g*n-e*w*n-l*g*d+e*m*d)*b;c[3]=(p*m*h-l*t*h-p*g*n+e*t*n+l*g*r-e*m*r)*b;c[4]=A*b;c[5]=(q*w*h-v*t*h+v*g*r-a*w*r-q*g*d+a*t*d)*b;c[6]=(v*m*h-k*w*h-v*g*n+a*w*n+k*g*d-a*m*d)*b;c[7]=(k*t*h-q*m*h+q*g*n-a*t*n-k*g*r+a*m*r)*b;c[8]=y*b;c[9]=(v*p*h-q*u*h-v*e*r+a*u*r+q*e*d-a*p*d)*b;c[10]=(k*u*h-v*l*h+v*e*n-a*u*n-k*e*d+a*l*d)*b;c[11]=(q*l*h-k*p*h-q*e*n+a*p*n+k*e*r-a*l*r)*b;c[12]=B*b;c[13]=(q*u*g-v*p*g+v*e*t-a*u*
t-q*e*w+a*p*w)*b;c[14]=(v*l*g-k*u*g-v*e*m+a*u*m+k*e*w-a*l*w)*b;c[15]=(k*p*g-q*l*g+q*e*m-a*p*m-k*e*t+a*l*t)*b;return this},scale:function(a){var b=this.elements,c=a.x,d=a.y;a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=a;return this},decompose:function(){var a,b;return function(c,d,e){void 0===a&&(a=new f.Vector3,b=new f.Matrix4);var g=this.elements,h=a.set(g[0],g[1],g[2]).length(),k=a.set(g[4],g[5],g[6]).length(),l=a.set(g[8],g[9],g[10]).length();
0>this.determinant()&&(h=-h);c.x=g[12];c.y=g[13];c.z=g[14];b.elements.set(this.elements);c=1/h;g=1/k;var m=1/l;b.elements[0]*=c;b.elements[1]*=c;b.elements[2]*=c;b.elements[4]*=g;b.elements[5]*=g;b.elements[6]*=g;b.elements[8]*=m;b.elements[9]*=m;b.elements[10]*=m;d.setFromRotationMatrix(b);e.x=h;e.y=k;e.z=l;return this}}(),makePerspective:function(a,b,c,d){a=c*Math.tan(f.Math.DEG2RAD*a*.5);var e=-a;return Lb(this,e*b,a*b,e,a,c,d)},equals:function(a){var b=this.elements;a=a.elements;for(var c=0;16>
c;c++)if(b[c]!==a[c])return!1;return!0},fromArray:function(a){this.elements.set(a);return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a}};f.Ray=function(a,b){this.origin=void 0!==a?a:new f.Vector3;this.direction=void 0!==b?b:new f.Vector3};
f.Ray.prototype={constructor:f.Ray,set:function(a,b){this.origin.copy(a);this.direction.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,b){return(b||new f.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},lookAt:function(a){this.direction.copy(a).sub(this.origin).normalize();return this},recast:function(){var a=new f.Vector3;return function(b){this.origin.copy(this.at(b,
a));return this}}(),closestPointToPoint:function(a,b){b=b||new f.Vector3;b.subVectors(a,this.origin);a=b.dot(this.direction);return 0>a?b.copy(this.origin):b.copy(this.direction).multiplyScalar(a).add(this.origin)},distanceToPoint:function(a){return Math.sqrt(this.distanceSqToPoint(a))},distanceSqToPoint:function(){var a=new f.Vector3;return function(b){var c=a.subVectors(b,this.origin).dot(this.direction);if(0>c)return this.origin.distanceToSquared(b);a.copy(this.direction).multiplyScalar(c).add(this.origin);
return a.distanceToSquared(b)}}(),distanceSqToSegment:function(){var a=new f.Vector3,b=new f.Vector3,c=new f.Vector3;return function(d,e,g,h){a.copy(d).add(e).multiplyScalar(.5);b.copy(e).sub(d).normalize();c.copy(this.origin).sub(a);var k=.5*d.distanceTo(e),l=-this.direction.dot(b),m=c.dot(this.direction),n=-c.dot(b),q=c.lengthSq(),p=Math.abs(1-l*l);if(0<p){d=l*n-m;e=l*m-n;var t=k*p;0<=d?e>=-t?e<=t?(k=1/p,d*=k,e*=k,l=d*(d+l*e+2*m)+e*(l*d+e+2*n)+q):(e=k,d=Math.max(0,-(l*e+m)),l=-d*d+e*(e+2*n)+q):
(e=-k,d=Math.max(0,-(l*e+m)),l=-d*d+e*(e+2*n)+q):e<=-t?(d=Math.max(0,-(-l*k+m)),e=0<d?-k:Math.min(Math.max(-k,-n),k),l=-d*d+e*(e+2*n)+q):e<=t?(d=0,e=Math.min(Math.max(-k,-n),k),l=e*(e+2*n)+q):(d=Math.max(0,-(l*k+m)),e=0<d?k:Math.min(Math.max(-k,-n),k),l=-d*d+e*(e+2*n)+q)}else e=0<l?-k:k,d=Math.max(0,-(l*e+m)),l=-d*d+e*(e+2*n)+q;g&&g.copy(this.direction).multiplyScalar(d).add(this.origin);h&&h.copy(b).multiplyScalar(e).add(a);return l}}(),intersectSphere:function(){var a=new f.Vector3;return function(b,
c){a.subVectors(b.center,this.origin);var d=a.dot(this.direction),e=a.dot(a)-d*d;b=b.radius*b.radius;if(e>b)return null;b=Math.sqrt(b-e);e=d-b;d+=b;return 0>e&&0>d?null:0>e?this.at(d,c):this.at(e,c)}}(),intersectsSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},intersectPlane:function(a,b){var c=a.normal.dot(this.direction);0===c?a=0===a.distanceToPoint(this.origin)?0:null:(a=-(this.origin.dot(a.normal)+a.constant)/c,a=0<=a?a:null);return null===a?null:this.at(a,b)},intersectsPlane:function(a){var b=
a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1},intersectsBox:function(){var a=new f.Vector3;return function(b){var c=1/this.direction.x;var d=1/this.direction.y;var e=1/this.direction.z,g=this.origin;if(0<=c){var h=(b.min.x-g.x)*c;c*=b.max.x-g.x}else h=(b.max.x-g.x)*c,c*=b.min.x-g.x;if(0<=d){var k=(b.min.y-g.y)*d;d*=b.max.y-g.y}else k=(b.max.y-g.y)*d,d*=b.min.y-g.y;if(h>d||k>c)h=null;else{if(k>h||h!==h)h=k;if(d<c||c!==c)c=d;0<=e?(k=(b.min.z-g.z)*e,b=(b.max.z-
g.z)*e):(k=(b.max.z-g.z)*e,b=(b.min.z-g.z)*e);if(h>b||k>c)h=null;else{if(k>h||h!==h)h=k;if(b<c||c!==c)c=b;h=0>c?null:this.at(0<=h?h:c,a)}}return null!==h}}(),intersectTriangle:function(){var a=new f.Vector3,b=new f.Vector3,c=new f.Vector3,d=new f.Vector3;return function(e,g,h,k,l){b.subVectors(g,e);c.subVectors(h,e);lb(d,b,c);g=this.direction.dot(d);if(0<g){if(k)return null;k=1}else if(0>g)k=-1,g=-g;else return null;a.subVectors(this.origin,e);e=k*this.direction.dot(lb(c,a,c));if(0>e)return null;
h=k*this.direction.dot(zb(b,a));if(0>h||e+h>g)return null;e=-k*a.dot(d);return 0>e?null:this.at(e/g,l)}}(),applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);this.origin.applyMatrix4(a);this.direction.sub(this.origin);this.direction.normalize();return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}};f.Sphere=function(a,b){this.center=void 0!==a?a:new f.Vector3;this.radius=void 0!==b?b:0};
f.Sphere.prototype={constructor:f.Sphere,set:function(a,b){this.center.copy(a);this.radius=b;return this},setFromPoints:function(){var a=new f.Box3;return function(b,c){var d=this.center;void 0!==c?d.copy(c):a.setFromPoints(b).center(d);for(var e=c=0,g=b.length;e<g;e++)c=Math.max(c,d.distanceToSquared(b[e]));this.radius=Math.sqrt(c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},empty:function(){return 0>=
this.radius},containsPoint:function(a){return a.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function(a){var b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b},intersectsBox:function(a){return a.intersectsSphere(this)},intersectsPlane:function(a){return Math.abs(this.center.dot(a.normal)-a.constant)<=this.radius},clampPoint:function(a,b){var c=this.center.distanceToSquared(a);
b=b||new f.Vector3;b.copy(a);c>this.radius*this.radius&&(b.sub(this.center).normalize(),b.multiplyScalar(this.radius).add(this.center));return b},getBoundingBox:function(a){a=a||new f.Box3;a.set(this.center,this.center);a.expandByScalar(this.radius);return a},applyMatrix4:function(a){this.center.applyMatrix4(a);a=a.elements;this.radius*=Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]));return this},translate:function(a){this.center.add(a);
return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius}};f.Frustum=function(a,b,c,d,e,g){this.planes=[void 0!==a?a:new f.Plane,void 0!==b?b:new f.Plane,void 0!==c?c:new f.Plane,void 0!==d?d:new f.Plane,void 0!==e?e:new f.Plane,void 0!==g?g:new f.Plane]};
function Qb(a,b){a=a.planes;var c=b.elements;b=c[0];var d=c[1],e=c[2],g=c[3],h=c[4],k=c[5],l=c[6],m=c[7],n=c[8],q=c[9],p=c[10],t=c[11],r=c[12],v=c[13],u=c[14];c=c[15];Rb(a[0],g-b,m-h,t-n,c-r).normalize();Rb(a[1],g+b,m+h,t+n,c+r).normalize();Rb(a[2],g+d,m+k,t+q,c+v).normalize();Rb(a[3],g-d,m-k,t-q,c-v).normalize();Rb(a[4],g-e,m-l,t-p,c-u).normalize();Rb(a[5],g+e,m+l,t+p,c+u).normalize()}
f.Frustum.prototype={constructor:f.Frustum,set:function(a,b,c,d,e,g){var h=this.planes;h[0].copy(a);h[1].copy(b);h[2].copy(c);h[3].copy(d);h[4].copy(e);h[5].copy(g);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){for(var b=this.planes,c=0;6>c;c++)b[c].copy(a.planes[c]);return this},intersectsObject:function(){var a=new f.Sphere;return function(b){var c=b.geometry;null===c.boundingSphere&&c.computeBoundingSphere();a.copy(c.boundingSphere).applyMatrix4(b.matrixWorld);
return this.intersectsSphere(a)}}(),intersectsSprite:function(){var a=new f.Sphere;return function(b){a.center.set(0,0,0);a.radius=.7071067811865476;a.applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSphere:function(a){var b=this.planes,c=a.center;a=-a.radius;for(var d=0;6>d;d++)if(b[d].distanceToPoint(c)<a)return!1;return!0},intersectsBox:function(){var a=new f.Vector3,b=new f.Vector3;return function(c){for(var d=this.planes,e=0;6>e;e++){var g=d[e];a.x=0<g.normal.x?c.min.x:
c.max.x;b.x=0<g.normal.x?c.max.x:c.min.x;a.y=0<g.normal.y?c.min.y:c.max.y;b.y=0<g.normal.y?c.max.y:c.min.y;a.z=0<g.normal.z?c.min.z:c.max.z;b.z=0<g.normal.z?c.max.z:c.min.z;var h=g.distanceToPoint(a);g=g.distanceToPoint(b);if(0>h&&0>g)return!1}return!0}}(),containsPoint:function(a){for(var b=this.planes,c=0;6>c;c++)if(0>b[c].distanceToPoint(a))return!1;return!0}};f.Plane=function(a,b){this.normal=void 0!==a?a:new f.Vector3(1,0,0);this.constant=void 0!==b?b:0};
function Rb(a,b,c,d,e){a.normal.set(b,c,d);a.constant=e;return a}
f.Plane.prototype={constructor:f.Plane,set:function(a,b){this.normal.copy(a);this.constant=b;return this},setFromCoplanarPoints:function(){var a=new f.Vector3,b=new f.Vector3;return function(c,d,e){d=zb(a.subVectors(e,d),b.subVectors(c,d)).normalize();this.normal.copy(d);this.constant=-c.dot(this.normal);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.normal.copy(a.normal);this.constant=a.constant;return this},normalize:function(){var a=1/this.normal.length();
this.normal.multiplyScalar(a);this.constant*=a;return this},negate:function(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function(a){return this.normal.dot(a)+this.constant},distanceToSphere:function(a){return this.distanceToPoint(a.center)-a.radius},intersectLine:function(){var a=new f.Vector3;return function(b,c){c=c||new f.Vector3;var d=Eb(b,a),e=this.normal.dot(d);if(0===e){if(0===this.distanceToPoint(b.start))return c.copy(b.start)}else if(e=-(b.start.dot(this.normal)+
this.constant)/e,!(0>e||1<e))return c.copy(d).multiplyScalar(e).add(b.start)}}(),intersectsBox:function(a){return a.intersectsPlane(this)},intersectsSphere:function(a){return a.intersectsPlane(this)},applyMatrix4:function(){var a=new f.Vector3,b=new f.Matrix3;return function(c,d){var e=(a||new f.Vector3).copy(this.normal).multiplyScalar(-this.constant).applyMatrix4(c);c=d||Gb(b,c);c=rb(this.normal,c).normalize();this.constant=-e.dot(c);return this}}(),translate:function(a){this.constant-=a.dot(this.normal);
return this},equals:function(a){return a.normal.equals(this.normal)&&a.constant===this.constant}};f.Spherical=function(a,b,c){this.radius=void 0!==a?a:1;this.phi=void 0!==b?b:0;this.theta=void 0!==c?c:0;return this};
f.Spherical.prototype={constructor:f.Spherical,set:function(a,b,c){this.radius=a;this.phi=b;this.theta=c;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.radius.copy(a.radius);this.phi.copy(a.phi);this.theta.copy(a.theta);return this},setFromVector3:function(a){this.radius=a.length();0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a.x,a.z),this.phi=Math.acos(f.Math.clamp(a.y/this.radius,-1,1)));return this}};
f.Math={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),b=Array(36),c=0,d;return function(){for(var e=0;36>e;e++)8===e||13===e||18===e||23===e?b[e]="-":14===e?b[e]="4":(2>=c&&(c=33554432+16777216*Math.random()|0),d=c&15,c>>=4,b[e]=a[19===e?d&3|8:d]);return b.join("")}}(),clamp:function(a,b,c){return Math.max(b,Math.min(c,a))},euclideanModulo:function(a,b){return(a%b+b)%b},mapLinear:function(a,b,c,d,e){return d+
(a-b)*(e-d)/(c-b)},smoothstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},random16:function(){console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead.");return Math.random()},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*
(.5-Math.random())},degToRad:function(a){return a*f.Math.DEG2RAD},radToDeg:function(a){return a*f.Math.RAD2DEG},isPowerOfTwo:function(a){return 0===(a&a-1)&&0!==a},nearestPowerOfTwo:function(a){return Math.pow(2,Math.round(Math.log(a)/Math.LN2))},nextPowerOfTwo:function(a){a--;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;a++;return a}};
f.Spline=function(a){function b(t,r,v,u,w,x,A){t=.5*(v-t);u=.5*(u-r);return(2*(r-v)+t+u)*A+(-3*(r-v)-2*t-u)*x+t*w+r}this.points=a;var c=[],d={x:0,y:0,z:0},e,g,h,k,l,m,n,q,p;this.initFromArray=function(t){this.points=[];for(var r=0;r<t.length;r++)this.points[r]={x:t[r][0],y:t[r][1],z:t[r][2]}};this.getPoint=function(t){e=(this.points.length-1)*t;g=Math.floor(e);h=e-g;c[0]=0===g?g:g-1;c[1]=g;c[2]=g>this.points.length-2?this.points.length-1:g+1;c[3]=g>this.points.length-3?this.points.length-1:g+2;m=
this.points[c[0]];n=this.points[c[1]];q=this.points[c[2]];p=this.points[c[3]];k=h*h;l=h*k;d.x=b(m.x,n.x,q.x,p.x,h,k,l);d.y=b(m.y,n.y,q.y,p.y,h,k,l);d.z=b(m.z,n.z,q.z,p.z,h,k,l);return d};this.getControlPointsArray=function(){var t,r=this.points.length,v=[];for(t=0;t<r;t++){var u=this.points[t];v[t]=[u.x,u.y,u.z]}return v};this.getLength=function(t){var r=0,v=new f.Vector3,u=new f.Vector3,w=[],x=0;w[0]=0;t||(t=100);var A=this.points.length*t;v.copy(this.points[0]);for(t=1;t<A;t++){var y=t/A;var B=
this.getPoint(y);u.copy(B);x+=u.distanceTo(v);v.copy(B);y*=this.points.length-1;y=Math.floor(y);y!==r&&(w[y]=x,r=y)}w[w.length]=x;return{chunks:w,total:x}};this.reparametrizeByArcLength=function(t){var r,v=[],u=new f.Vector3,w=this.getLength();v.push(u.copy(this.points[0]).clone());for(r=1;r<this.points.length;r++){var x=w.chunks[r]-w.chunks[r-1];var A=Math.ceil(t*x/w.total);var y=(r-1)/(this.points.length-1);var B=r/(this.points.length-1);for(x=1;x<A-1;x++){var F=y+1/A*x*(B-y);F=this.getPoint(F);
v.push(u.copy(F).clone())}v.push(u.copy(this.points[r]).clone())}this.points=v}};f.Triangle=function(a,b,c){this.a=void 0!==a?a:new f.Vector3;this.b=void 0!==b?b:new f.Vector3;this.c=void 0!==c?c:new f.Vector3};f.Triangle.normal=function(){var a=new f.Vector3;return function(b,c,d,e){e=e||new f.Vector3;e.subVectors(d,c);a.subVectors(b,c);zb(e,a);b=e.lengthSq();return 0<b?e.multiplyScalar(1/Math.sqrt(b)):e.set(0,0,0)}}();
f.Triangle.barycoordFromPoint=function(){var a=new f.Vector3,b=new f.Vector3,c=new f.Vector3;return function(d,e,g,h,k){a.subVectors(h,e);b.subVectors(g,e);c.subVectors(d,e);d=a.dot(a);e=a.dot(b);g=a.dot(c);var l=b.dot(b);h=b.dot(c);var m=d*l-e*e;k=k||new f.Vector3;if(0===m)return k.set(-2,-1,-1);m=1/m;l=(l*g-e*h)*m;d=(d*h-e*g)*m;return k.set(1-l-d,d,l)}}();
f.Triangle.containsPoint=function(){var a=new f.Vector3;return function(b,c,d,e){b=f.Triangle.barycoordFromPoint(b,c,d,e,a);return 0<=b.x&&0<=b.y&&1>=b.x+b.y}}();
f.Triangle.prototype={constructor:f.Triangle,set:function(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this},setFromPointsAndIndices:function(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},area:function(){var a=new f.Vector3,b=new f.Vector3;return function(){a.subVectors(this.c,this.b);b.subVectors(this.a,this.b);return.5*
zb(a,b).length()}}(),midpoint:function(a){return(a||new f.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(a){return f.Triangle.normal(this.a,this.b,this.c,a)},plane:function(a){return(a||new f.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(a,b){return f.Triangle.barycoordFromPoint(a,this.a,this.b,this.c,b)},containsPoint:function(a){return f.Triangle.containsPoint(a,this.a,this.b,this.c)},closestPointToPoint:function(){var a,b,c,
d;return function(e,g){void 0===a&&(a=new f.Plane,b=[new f.Line3,new f.Line3,new f.Line3],c=new f.Vector3,d=new f.Vector3);g=g||new f.Vector3;var h=Infinity;a.setFromCoplanarPoints(this.a,this.b,this.c);var k=a,l=c,m=k.distanceToPoint(e);(l||new f.Vector3).copy(k.normal).multiplyScalar(m).sub(e).negate();if(!0===this.containsPoint(c))g.copy(c);else for(b[0].set(this.a,this.b),b[1].set(this.b,this.c),b[2].set(this.c,this.a),e=0;e<b.length;e++)b[e].closestPointToPoint(c,!0,d),k=c.distanceToSquared(d),
k<h&&(h=k,g.copy(d));return g}}(),equals:function(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}};f.Interpolant=function(a,b,c,d){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==d?d:new b.constructor(c);this.sampleValues=b;this.valueSize=c};
f.Interpolant.prototype={constructor:f.Interpolant,evaluate:function(a){var b=this.parameterPositions,c=this._cachedIndex,d=b[c],e=b[c-1];a:{b:{c:{d:if(!(a<d)){for(var g=c+2;;){if(void 0===d){if(a<e)break d;this._cachedIndex=c=b.length;return this.afterEnd_(c-1,a,e)}if(c===g)break;e=d;d=b[++c];if(a<d)break b}d=b.length;break c}if(a>=e)break a;else{g=b[1];a<g&&(c=2,e=g);for(g=c-2;;){if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(c===g)break;d=e;e=b[--c-1];if(a>=e)break b}d=c;
c=0}}for(;c<d;)e=c+d>>>1,a<b[e]?d=e:c=e+1;d=b[c];e=b[c-1];if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(void 0===d)return this._cachedIndex=c=b.length,this.afterEnd_(c-1,e,a)}this._cachedIndex=c;this.intervalChanged_(c,e,d)}return this.interpolate_(c,e,a,d)},settings:null,DefaultSettings_:{},copySampleValue_:function(a){var b=this.resultBuffer,c=this.sampleValues,d=this.valueSize;a*=d;for(var e=0;e!==d;++e)b[e]=c[a+e];return b},interpolate_:function(){throw Error("call to abstract method");
},intervalChanged_:function(){}};Object.assign(f.Interpolant.prototype,{beforeStart_:f.Interpolant.prototype.copySampleValue_,afterEnd_:f.Interpolant.prototype.copySampleValue_});f.CubicInterpolant=function(a,b,c,d){f.Interpolant.call(this,a,b,c,d);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0};
f.CubicInterpolant.prototype=Object.assign(Object.create(f.Interpolant.prototype),{constructor:f.CubicInterpolant,DefaultSettings_:{endingStart:f.ZeroCurvatureEnding,endingEnd:f.ZeroCurvatureEnding},intervalChanged_:function(a,b,c){var d=this.parameterPositions,e=a-2,g=a+1,h=d[e],k=d[g];if(void 0===h)switch((this.settings||this.DefaultSettings_).endingStart){case f.ZeroSlopeEnding:e=a;h=2*b-c;break;case f.WrapAroundEnding:e=d.length-2;h=b+d[e]-d[e+1];break;default:e=a,h=c}if(void 0===k)switch((this.settings||
this.DefaultSettings_).endingEnd){case f.ZeroSlopeEnding:g=a;k=2*c-b;break;case f.WrapAroundEnding:g=1;k=c+d[1]-d[0];break;default:g=a-1,k=b}a=.5*(c-b);d=this.valueSize;this._weightPrev=a/(b-h);this._weightNext=a/(k-c);this._offsetPrev=e*d;this._offsetNext=g*d},interpolate_:function(a,b,c,d){var e=this.resultBuffer,g=this.sampleValues,h=this.valueSize;a*=h;var k=a-h,l=this._offsetPrev,m=this._offsetNext,n=this._weightPrev,q=this._weightNext,p=(c-b)/(d-b);c=p*p;d=c*p;b=-n*d+2*n*c-n*p;n=(1+n)*d+(-1.5-
2*n)*c+(-.5+n)*p+1;p=(-1-q)*d+(1.5+q)*c+.5*p;q=q*d-q*c;for(c=0;c!==h;++c)e[c]=b*g[l+c]+n*g[k+c]+p*g[a+c]+q*g[m+c];return e}});f.DiscreteInterpolant=function(a,b,c,d){f.Interpolant.call(this,a,b,c,d)};f.DiscreteInterpolant.prototype=Object.assign(Object.create(f.Interpolant.prototype),{constructor:f.DiscreteInterpolant,interpolate_:function(a){return this.copySampleValue_(a-1)}});f.LinearInterpolant=function(a,b,c,d){f.Interpolant.call(this,a,b,c,d)};
f.LinearInterpolant.prototype=Object.assign(Object.create(f.Interpolant.prototype),{constructor:f.LinearInterpolant,interpolate_:function(a,b,c,d){var e=this.resultBuffer,g=this.sampleValues,h=this.valueSize;a*=h;var k=a-h;b=(c-b)/(d-b);c=1-b;for(d=0;d!==h;++d)e[d]=g[k+d]*c+g[a+d]*b;return e}});f.QuaternionLinearInterpolant=function(a,b,c,d){f.Interpolant.call(this,a,b,c,d)};
f.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(f.Interpolant.prototype),{constructor:f.QuaternionLinearInterpolant,interpolate_:function(a,b,c,d){var e=this.resultBuffer,g=this.sampleValues,h=this.valueSize;a*=h;b=(c-b)/(d-b);for(c=a+h;a!==c;a+=4)f.Quaternion.slerpFlat(e,0,g,a-h,g,a,b);return e}});f.Clock=function(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1};
f.Clock.prototype={constructor:f.Clock,start:function(){this.oldTime=this.startTime=(performance||Date).now();this.running=!0},stop:function(){this.autoStart&&!this.running&&this.start();if(this.running){var a=(performance||Date).now();var b=(a-this.oldTime)/1E3;this.oldTime=a;this.elapsedTime+=b}this.running=!1}};f.EventDispatcher=function(){};
Object.assign(f.EventDispatcher.prototype,{addEventListener:function(a,b){void 0===this._listeners&&(this._listeners={});var c=this._listeners;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},hasEventListener:function(a,b){if(void 0===this._listeners)return!1;var c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)?!0:!1},removeEventListener:function(a,b){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(b=a.indexOf(b),-1!==b&&a.splice(b,1)))},dispatchEvent:function(a){if(void 0!==
this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;var c=[],d,e=b.length;for(d=0;d<e;d++)c[d]=b[d];for(d=0;d<e;d++)c[d].call(this,a)}}}});f.Layers=function(){this.mask=1};f.Layers.prototype={constructor:f.Layers,set:function(a){this.mask=1<<a},enable:function(a){this.mask|=1<<a},toggle:function(a){this.mask^=1<<a},disable:function(a){this.mask&=~(1<<a)},test:function(a){return 0!==(this.mask&a.mask)}};
(function(a){function b(d,e){return d.distance-e.distance}function c(d,e,g,h){if(!1!==d.visible&&(d.raycast(e,g),!0===h)){d=d.children;h=0;for(var k=d.length;h<k;h++)c(d[h],e,g,!0)}}a.Raycaster=function(d,e,g,h){this.ray=new a.Ray(d,e);this.near=g||0;this.far=h||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})};
a.Raycaster.prototype={constructor:a.Raycaster,linePrecision:1,set:function(d,e){this.ray.set(d,e)},setFromCamera:function(d,e){e instanceof a.PerspectiveCamera?(Bb(this.ray.origin,e.matrixWorld),this.ray.direction.set(d.x,d.y,.5).unproject(e).sub(this.ray.origin).normalize()):e instanceof a.OrthographicCamera?(this.ray.origin.set(d.x,d.y,-1).unproject(e),tb(this.ray.direction.set(0,0,-1),e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(d,e){var g=
[];c(d,this,g,e);g.sort(b);return g},intersectObjects:function(d,e){var g=[];if(!1===Array.isArray(d))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),g;for(var h=0,k=d.length;h<k;h++)c(d[h],this,g,e);g.sort(b);return g}}})(f);
f.Object3D=function(){Object.defineProperty(this,"id",{value:f.Object3DIdCount++});this.uuid=f.Math.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=f.Object3D.DefaultUp.clone();var a=new f.Vector3,b=new f.Euler,c=new f.Quaternion,d=new f.Vector3(1,1,1);b.onChange(function(){eb(c,b,!1)});c.onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,{position:{enumerable:!0,value:a},rotation:{enumerable:!0,value:b},quaternion:{enumerable:!0,
value:c},scale:{enumerable:!0,value:d},modelViewMatrix:{value:new f.Matrix4},normalMatrix:{value:new f.Matrix3}});this.matrix=new f.Matrix4;this.matrixWorld=new f.Matrix4;this.matrixAutoUpdate=f.Object3D.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new f.Layers;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={}};f.Object3D.DefaultUp=new f.Vector3(0,1,0);f.Object3D.DefaultMatrixAutoUpdate=!0;
Object.assign(f.Object3D.prototype,f.EventDispatcher.prototype,{applyMatrix:function(a){Cb(this.matrix,a,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(a,b){jb(this.quaternion,a,b)},setRotationFromEuler:function(a){eb(this.quaternion,a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(){var a=new f.Quaternion;return function(b,
c){jb(a,b,c);this.quaternion.multiply(a);return this}}(),rotateX:function(){var a=new f.Vector3(1,0,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateY:function(){var a=new f.Vector3(0,1,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateZ:function(){var a=new f.Vector3(0,0,1);return function(b){return this.rotateOnAxis(a,b)}}(),translateOnAxis:function(){var a=new f.Vector3;return function(b,c){mb(a.copy(b),this.quaternion);this.position.add(a.multiplyScalar(c));return this}}(),
translateX:function(){var a=new f.Vector3(1,0,0);return function(b){return this.translateOnAxis(a,b)}}(),translateY:function(){var a=new f.Vector3(0,1,0);return function(b){return this.translateOnAxis(a,b)}}(),translateZ:function(){var a=new f.Vector3(0,0,1);return function(b){return this.translateOnAxis(a,b)}}(),localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var a=new f.Matrix4;return function(b){return b.applyMatrix4(a.getInverse(this.matrixWorld))}}(),
lookAt:function(){var a=new f.Matrix4;return function(b){a.lookAt(b,this.position,this.up);this.quaternion.setFromRotationMatrix(a)}}(),add:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a instanceof f.Object3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",
a);return this},remove:function(a){if(1<arguments.length)for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);b=this.children.indexOf(a);-1!==b&&(a.parent=null,a.dispatchEvent({type:"removed"}),this.children.splice(b,1))},getObjectById:function(a){return this.getObjectByProperty("id",a)},getObjectByName:function(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function(a,b){if(this[a]===b)return this;for(var c=0,d=this.children.length;c<d;c++){var e=this.children[c].getObjectByProperty(a,
b);if(void 0!==e)return e}},getWorldPosition:function(a){a=a||new f.Vector3;this.updateMatrixWorld(!0);return Bb(a,this.matrixWorld)},getWorldQuaternion:function(){var a=new f.Vector3,b=new f.Vector3;return function(c){c=c||new f.Quaternion;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,c,b);return c}}(),getWorldRotation:function(){var a=new f.Quaternion;return function(b){b=b||new f.Euler;this.getWorldQuaternion(a);return b.setFromQuaternion(a,this.rotation.order,!1)}}(),getWorldScale:function(){var a=
new f.Vector3,b=new f.Quaternion;return function(c){c=c||new f.Vector3;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,b,c);return c}}(),getWorldDirection:function(){var a=new f.Quaternion;return function(b){b=b||new f.Vector3;this.getWorldQuaternion(a);return mb(b.set(0,0,1),a)}}(),raycast:function(){},traverse:function(a){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].traverse(a)},traverseVisible:function(a){if(!1!==this.visible){a(this);for(var b=this.children,c=0,d=b.length;c<
d;c++)b[c].traverseVisible(a)}},traverseAncestors:function(a){var b=this.parent;null!==b&&(a(b),b.traverseAncestors(a))},updateMatrix:function(){var a=this.matrix,b=this.position,c=this.scale;Db(a,this.quaternion);a.scale(c);a.setPosition(b);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)null===this.parent?this.matrixWorld.copy(this.matrix):Cb(this.matrixWorld,this.parent.matrixWorld,this.matrix),
this.matrixWorldNeedsUpdate=!1,a=!0;for(var b=0,c=this.children.length;b<c;b++)this.children[b].updateMatrixWorld(a)},toJSON:function(a){function b(k){var l=[],m;for(m in k){var n=k[m];delete n.metadata;l.push(n)}return l}var c=void 0===a||""===a,d={};c&&(a={geometries:{},materials:{},textures:{},images:{}},d.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var e={};e.uuid=this.uuid;e.type=this.type;""!==this.name&&(e.name=this.name);"{}"!==JSON.stringify(this.userData)&&(e.userData=
this.userData);!0===this.castShadow&&(e.castShadow=!0);!0===this.receiveShadow&&(e.receiveShadow=!0);!1===this.visible&&(e.visible=!1);e.matrix=this.matrix.toArray();void 0!==this.geometry&&(void 0===a.geometries[this.geometry.uuid]&&(a.geometries[this.geometry.uuid]=this.geometry.toJSON(a)),e.geometry=this.geometry.uuid);void 0!==this.material&&(void 0===a.materials[this.material.uuid]&&(a.materials[this.material.uuid]=this.material.toJSON(a)),e.material=this.material.uuid);if(0<this.children.length){e.children=
[];for(var g=0;g<this.children.length;g++)e.children.push(this.children[g].toJSON(a).object)}if(c){c=b(a.geometries);g=b(a.materials);var h=b(a.textures);a=b(a.images);0<c.length&&(d.geometries=c);0<g.length&&(d.materials=g);0<h.length&&(d.textures=h);0<a.length&&(d.images=a)}d.object=e;return d},clone:function(a){return(new this.constructor).copy(this,a)},copy:function(a,b){void 0===b&&(b=!0);this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);
this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===b)for(b=0;b<a.children.length;b++)this.add(a.children[b].clone());return this}});f.Object3DIdCount=0;
f.Face3=function(a,b,c,d,e,g){this.a=a;this.b=b;this.c=c;this.normal=d instanceof f.Vector3?d:new f.Vector3;this.vertexNormals=Array.isArray(d)?d:[];this.color=e instanceof f.Color?e:new f.Color;this.vertexColors=Array.isArray(e)?e:[];this.materialIndex=void 0!==g?g:0};
f.Face3.prototype={constructor:f.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.normal.copy(a.normal);this.color.copy(a.color);this.materialIndex=a.materialIndex;for(var b=0,c=a.vertexNormals.length;b<c;b++)this.vertexNormals[b]=a.vertexNormals[b].clone();b=0;for(c=a.vertexColors.length;b<c;b++)this.vertexColors[b]=a.vertexColors[b].clone();return this}};
f.BufferAttribute=function(a,b,c){this.uuid=f.Math.generateUUID();this.array=a;this.itemSize=b;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0;this.normalized=!0===c};function Sb(a,b){a.array.set(b);return a}function Tb(a,b){for(var c=a.array,d=0,e=0,g=b.length;e<g;e++){var h=b[e];void 0===h&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",e),h=new f.Color);c[d++]=h.r;c[d++]=h.g;c[d++]=h.b}return a}
function Ub(a,b){for(var c=a.array,d=0,e=0,g=b.length;e<g;e++){var h=b[e];c[d++]=h.a;c[d++]=h.b;c[d++]=h.c}return a}function Vb(a,b){for(var c=a.array,d=0,e=0,g=b.length;e<g;e++){var h=b[e];void 0===h&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",e),h=new f.Vector2);c[d++]=h.x;c[d++]=h.y}return a}
function Wb(a,b){for(var c=a.array,d=0,e=0,g=b.length;e<g;e++){var h=b[e];void 0===h&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",e),h=new f.Vector3);c[d++]=h.x;c[d++]=h.y;c[d++]=h.z}return a}function Xb(a,b){for(var c=a.array,d=0,e=0,g=b.length;e<g;e++){var h=b[e];void 0===h&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",e),h=new f.Vector4);c[d++]=h.x;c[d++]=h.y;c[d++]=h.z;c[d++]=h.w}return a}
f.BufferAttribute.prototype={constructor:f.BufferAttribute,get count(){return this.array.length/this.itemSize},set needsUpdate(a){!0===a&&this.version++},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.itemSize=a.itemSize;this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.itemSize;c*=b.itemSize;for(var d=0,e=this.itemSize;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,
b);return this},getX:function(a){return this.array[a*this.itemSize]},setX:function(a,b){this.array[a*this.itemSize]=b;return this},getY:function(a){return this.array[a*this.itemSize+1]},setY:function(a,b){this.array[a*this.itemSize+1]=b;return this},getZ:function(a){return this.array[a*this.itemSize+2]},setZ:function(a,b){this.array[a*this.itemSize+2]=b;return this},getW:function(a){return this.array[a*this.itemSize+3]},setW:function(a,b){this.array[a*this.itemSize+3]=b;return this},setXY:function(a,
b,c){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=e;return this},clone:function(){return(new this.constructor).copy(this)}};f.Int8Attribute=function(a,b){return new f.BufferAttribute(new Int8Array(a),b)};
f.Uint8Attribute=function(a,b){return new f.BufferAttribute(new Uint8Array(a),b)};f.Uint8ClampedAttribute=function(a,b){return new f.BufferAttribute(new Uint8ClampedArray(a),b)};f.Int16Attribute=function(a,b){return new f.BufferAttribute(new Int16Array(a),b)};f.Uint16Attribute=function(a,b){return new f.BufferAttribute(new Uint16Array(a),b)};f.Int32Attribute=function(a,b){return new f.BufferAttribute(new Int32Array(a),b)};
f.Uint32Attribute=function(a,b){return new f.BufferAttribute(new Uint32Array(a),b)};f.Float32Attribute=function(a,b){return new f.BufferAttribute(new Float32Array(a),b)};f.Float64Attribute=function(a,b){return new f.BufferAttribute(new Float64Array(a),b)};f.DynamicBufferAttribute=function(a,b){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.");return(new f.BufferAttribute(a,b)).setDynamic(!0)};
f.InstancedBufferAttribute=function(a,b,c){f.BufferAttribute.call(this,a,b);this.meshPerAttribute=c||1};f.InstancedBufferAttribute.prototype=Object.create(f.BufferAttribute.prototype);f.InstancedBufferAttribute.prototype.constructor=f.InstancedBufferAttribute;f.InstancedBufferAttribute.prototype.copy=function(a){f.BufferAttribute.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this};
f.InterleavedBuffer=function(a,b){this.uuid=f.Math.generateUUID();this.array=a;this.stride=b;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0};
f.InterleavedBuffer.prototype={constructor:f.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(a){!0===a&&this.version++},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.stride=a.stride;this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.stride;c*=b.stride;for(var d=0,e=this.stride;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,
b){void 0===b&&(b=0);this.array.set(a,b);return this},clone:function(){return(new this.constructor).copy(this)}};f.InstancedInterleavedBuffer=function(a,b,c){f.InterleavedBuffer.call(this,a,b);this.meshPerAttribute=c||1};f.InstancedInterleavedBuffer.prototype=Object.create(f.InterleavedBuffer.prototype);f.InstancedInterleavedBuffer.prototype.constructor=f.InstancedInterleavedBuffer;
f.InstancedInterleavedBuffer.prototype.copy=function(a){f.InterleavedBuffer.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this};f.InterleavedBufferAttribute=function(a,b,c){this.uuid=f.Math.generateUUID();this.data=a;this.itemSize=b;this.offset=c};
f.InterleavedBufferAttribute.prototype={constructor:f.InterleavedBufferAttribute,get length(){console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count.");return this.array.length},get count(){return this.data.count},setX:function(a,b){this.data.array[a*this.data.stride+this.offset]=b;return this},setY:function(a,b){this.data.array[a*this.data.stride+this.offset+1]=b;return this},setZ:function(a,b){this.data.array[a*this.data.stride+this.offset+2]=b;return this},setW:function(a,
b){this.data.array[a*this.data.stride+this.offset+3]=b;return this},getX:function(a){return this.data.array[a*this.data.stride+this.offset]},getY:function(a){return this.data.array[a*this.data.stride+this.offset+1]},getZ:function(a){return this.data.array[a*this.data.stride+this.offset+2]},getW:function(a){return this.data.array[a*this.data.stride+this.offset+3]},setXY:function(a,b,c){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;return this},setXYZ:function(a,b,c,
d){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;this.data.array[a+3]=e;return this}};
f.Geometry=function(){Object.defineProperty(this,"id",{value:f.GeometryIdCount++});this.uuid=f.Math.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.elementsNeedUpdate=
this.verticesNeedUpdate=!1};
Object.assign(f.Geometry.prototype,f.EventDispatcher.prototype,{applyMatrix:function(a){for(var b=Gb(new f.Matrix3,a),c=0,d=this.vertices.length;c<d;c++)this.vertices[c].applyMatrix4(a);c=0;for(d=this.faces.length;c<d;c++){a=this.faces[c];rb(a.normal,b).normalize();for(var e=0,g=a.vertexNormals.length;e<g;e++)rb(a.vertexNormals[e],b).normalize()}null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=this.verticesNeedUpdate=
!0;return this},rotateX:function(){var a;return function(b){void 0===a&&(a=new f.Matrix4);Hb(a,b);this.applyMatrix(a);return this}}(),rotateY:function(){var a;return function(b){void 0===a&&(a=new f.Matrix4);Ib(a,b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a;return function(b){void 0===a&&(a=new f.Matrix4);Jb(a,b);this.applyMatrix(a);return this}}(),translate:function(){var a;return function(b,c,d){void 0===a&&(a=new f.Matrix4);a.set(1,0,0,b,0,1,0,c,0,0,1,d,0,0,0,1);this.applyMatrix(a);
return this}}(),scale:function(){var a;return function(b,c,d){void 0===a&&(a=new f.Matrix4);a.set(b,0,0,0,0,c,0,0,0,0,d,0,0,0,0,1);this.applyMatrix(a);return this}}(),lookAt:function(){var a;return function(b){void 0===a&&(a=new f.Object3D);a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),fromBufferGeometry:function(a){function b(w,x,A,y){var B=void 0!==h?[n[w].clone(),n[x].clone(),n[A].clone()]:[],F=void 0!==k?[c.colors[w].clone(),c.colors[x].clone(),c.colors[A].clone()]:[];y=new f.Face3(w,
x,A,B,F,y);c.faces.push(y);void 0!==l&&c.faceVertexUvs[0].push([q[w].clone(),q[x].clone(),q[A].clone()]);void 0!==m&&c.faceVertexUvs[1].push([p[w].clone(),p[x].clone(),p[A].clone()])}var c=this,d=null!==a.index?a.index.array:void 0,e=a.attributes,g=e.position.array,h=void 0!==e.normal?e.normal.array:void 0,k=void 0!==e.color?e.color.array:void 0,l=void 0!==e.uv?e.uv.array:void 0,m=void 0!==e.uv2?e.uv2.array:void 0;void 0!==m&&(this.faceVertexUvs[1]=[]);for(var n=[],q=[],p=[],t=e=0;e<g.length;e+=3,
t+=2)c.vertices.push(new f.Vector3(g[e],g[e+1],g[e+2])),void 0!==h&&n.push(new f.Vector3(h[e],h[e+1],h[e+2])),void 0!==k&&c.colors.push(new f.Color(k[e],k[e+1],k[e+2])),void 0!==l&&q.push(new f.Vector2(l[t],l[t+1])),void 0!==m&&p.push(new f.Vector2(m[t],m[t+1]));if(void 0!==d)if(g=a.groups,0<g.length)for(e=0;e<g.length;e++){var r=g[e],v=r.start,u=r.count;t=v;for(v+=u;t<v;t+=3)b(d[t],d[t+1],d[t+2],r.materialIndex)}else for(e=0;e<d.length;e+=3)b(d[e],d[e+1],d[e+2]);else for(e=0;e<g.length/3;e+=3)b(e,
e+1,e+2);this.computeFaceNormals();null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this},center:function(){this.computeBoundingBox();var a=this.boundingBox.center().negate();this.translate(a.x,a.y,a.z);return a},normalize:function(){this.computeBoundingSphere();var a=this.boundingSphere.center,b=this.boundingSphere.radius;b=0===b?1:1/b;var c=new f.Matrix4;c.set(b,0,0,-b*a.x,0,b,0,-b*a.y,0,0,b,-b*a.z,0,0,
0,1);this.applyMatrix(c);return this},computeFaceNormals:function(){for(var a=new f.Vector3,b=new f.Vector3,c=0,d=this.faces.length;c<d;c++){var e=this.faces[c],g=this.vertices[e.a],h=this.vertices[e.b];a.subVectors(this.vertices[e.c],h);b.subVectors(g,h);zb(a,b);a.normalize();e.normal.copy(a)}},computeVertexNormals:function(a){void 0===a&&(a=!0);var b;var c=Array(this.vertices.length);var d=0;for(b=this.vertices.length;d<b;d++)c[d]=new f.Vector3;if(a){var e=new f.Vector3,g=new f.Vector3;a=0;for(d=
this.faces.length;a<d;a++){b=this.faces[a];var h=this.vertices[b.a];var k=this.vertices[b.b];var l=this.vertices[b.c];e.subVectors(l,k);g.subVectors(h,k);zb(e,g);c[b.a].add(e);c[b.b].add(e);c[b.c].add(e)}}else for(a=0,d=this.faces.length;a<d;a++)b=this.faces[a],c[b.a].add(b.normal),c[b.b].add(b.normal),c[b.c].add(b.normal);d=0;for(b=this.vertices.length;d<b;d++)c[d].normalize();a=0;for(d=this.faces.length;a<d;a++)b=this.faces[a],h=b.vertexNormals,3===h.length?(h[0].copy(c[b.a]),h[1].copy(c[b.b]),
h[2].copy(c[b.c])):(h[0]=c[b.a].clone(),h[1]=c[b.b].clone(),h[2]=c[b.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var a,b;var c=0;for(b=this.faces.length;c<b;c++){var d=this.faces[c];d.__originalFaceNormal?d.__originalFaceNormal.copy(d.normal):d.__originalFaceNormal=d.normal.clone();d.__originalVertexNormals||(d.__originalVertexNormals=[]);var e=0;for(a=d.vertexNormals.length;e<a;e++)d.__originalVertexNormals[e]?d.__originalVertexNormals[e].copy(d.vertexNormals[e]):
d.__originalVertexNormals[e]=d.vertexNormals[e].clone()}var g=new f.Geometry;g.faces=this.faces;e=0;for(a=this.morphTargets.length;e<a;e++){if(!this.morphNormals[e]){this.morphNormals[e]={};this.morphNormals[e].faceNormals=[];this.morphNormals[e].vertexNormals=[];d=this.morphNormals[e].faceNormals;var h=this.morphNormals[e].vertexNormals;c=0;for(b=this.faces.length;c<b;c++){var k=new f.Vector3;var l={a:new f.Vector3,b:new f.Vector3,c:new f.Vector3};d.push(k);h.push(l)}}h=this.morphNormals[e];g.vertices=
this.morphTargets[e].vertices;g.computeFaceNormals();g.computeVertexNormals();c=0;for(b=this.faces.length;c<b;c++)d=this.faces[c],k=h.faceNormals[c],l=h.vertexNormals[c],k.copy(d.normal),l.a.copy(d.vertexNormals[0]),l.b.copy(d.vertexNormals[1]),l.c.copy(d.vertexNormals[2])}c=0;for(b=this.faces.length;c<b;c++)d=this.faces[c],d.normal=d.__originalFaceNormal,d.vertexNormals=d.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var a=
0,b=this.vertices,c=0,d=b.length;c<d;c++)0<c&&(a+=b[c].distanceTo(b[c-1])),this.lineDistances[c]=a},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new f.Box3);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new f.Sphere);this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b,c){if(!1===a instanceof f.Geometry)console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",
a);else{var d,e=this.vertices.length,g=this.vertices,h=a.vertices,k=this.faces,l=a.faces,m=this.faceVertexUvs[0];a=a.faceVertexUvs[0];void 0===c&&(c=0);void 0!==b&&(d=Gb(new f.Matrix3,b));for(var n=0,q=h.length;n<q;n++){var p=h[n].clone();void 0!==b&&p.applyMatrix4(b);g.push(p)}n=0;for(q=l.length;n<q;n++){h=l[n];var t=h.vertexNormals,r=h.vertexColors;p=new f.Face3(h.a+e,h.b+e,h.c+e);p.normal.copy(h.normal);void 0!==d&&rb(p.normal,d).normalize();b=0;for(g=t.length;b<g;b++){var v=t[b].clone();void 0!==
d&&rb(v,d).normalize();p.vertexNormals.push(v)}p.color.copy(h.color);b=0;for(g=r.length;b<g;b++)v=r[b],p.vertexColors.push(v.clone());p.materialIndex=h.materialIndex+c;k.push(p)}n=0;for(q=a.length;n<q;n++)if(c=a[n],d=[],void 0!==c){b=0;for(g=c.length;b<g;b++)d.push(c[b].clone());m.push(d)}}},mergeMesh:function(a){!1===a instanceof f.Mesh?console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",a):(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix))},mergeVertices:function(){var a=
{},b=[],c=[],d=Math.pow(10,4),e;var g=0;for(e=this.vertices.length;g<e;g++){var h=this.vertices[g];h=Math.round(h.x*d)+"_"+Math.round(h.y*d)+"_"+Math.round(h.z*d);void 0===a[h]?(a[h]=g,b.push(this.vertices[g]),c[g]=b.length-1):c[g]=c[a[h]]}a=[];g=0;for(e=this.faces.length;g<e;g++)for(d=this.faces[g],d.a=c[d.a],d.b=c[d.b],d.c=c[d.c],d=[d.a,d.b,d.c],h=0;3>h;h++)if(d[h]===d[(h+1)%3]){a.push(g);break}for(g=a.length-1;0<=g;g--)for(d=a[g],this.faces.splice(d,1),c=0,e=this.faceVertexUvs.length;c<e;c++)this.faceVertexUvs[c].splice(d,
1);g=this.vertices.length-b.length;this.vertices=b;return g},sortFacesByMaterialIndex:function(){for(var a=this.faces,b=a.length,c=0;c<b;c++)a[c]._id=c;a.sort(function(l,m){return l.materialIndex-m.materialIndex});var d=this.faceVertexUvs[0],e=this.faceVertexUvs[1],g,h;d&&d.length===b&&(g=[]);e&&e.length===b&&(h=[]);for(c=0;c<b;c++){var k=a[c]._id;g&&g.push(d[k]);h&&h.push(e[k])}g&&(this.faceVertexUvs[0]=g);h&&(this.faceVertexUvs[1]=h)},toJSON:function(){function a(B,F,K){return K?B|1<<F:B&~(1<<F)}
function b(B){var F=B.x.toString()+B.y.toString()+B.z.toString();if(void 0!==m[F])return m[F];m[F]=l.length/3;l.push(B.x,B.y,B.z);return m[F]}function c(B){var F=B.r.toString()+B.g.toString()+B.b.toString();if(void 0!==q[F])return q[F];q[F]=n.length;n.push(db(B));return q[F]}function d(B){var F=B.x.toString()+B.y.toString();if(void 0!==t[F])return t[F];t[F]=p.length/2;p.push(B.x,B.y);return t[F]}var e={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};e.uuid=this.uuid;e.type=this.type;
""!==this.name&&(e.name=this.name);if(void 0!==this.parameters){var g=this.parameters,h;for(h in g)void 0!==g[h]&&(e[h]=g[h]);return e}g=[];for(h=0;h<this.vertices.length;h++){var k=this.vertices[h];g.push(k.x,k.y,k.z)}k=[];var l=[],m={},n=[],q={},p=[],t={};for(h=0;h<this.faces.length;h++){var r=this.faces[h],v=void 0!==this.faceVertexUvs[0][h],u=0<r.normal.length(),w=0<r.vertexNormals.length,x=1!==r.color.r||1!==r.color.g||1!==r.color.b,A=0<r.vertexColors.length,y=0;y=a(y,0,0);y=a(y,1,!0);y=a(y,
2,!1);y=a(y,3,v);y=a(y,4,u);y=a(y,5,w);y=a(y,6,x);y=a(y,7,A);k.push(y);k.push(r.a,r.b,r.c);k.push(r.materialIndex);v&&(v=this.faceVertexUvs[0][h],k.push(d(v[0]),d(v[1]),d(v[2])));u&&k.push(b(r.normal));w&&(u=r.vertexNormals,k.push(b(u[0]),b(u[1]),b(u[2])));x&&k.push(c(r.color));A&&(r=r.vertexColors,k.push(c(r[0]),c(r[1]),c(r[2])))}e.data={};e.data.vertices=g;e.data.normals=l;0<n.length&&(e.data.colors=n);0<p.length&&(e.data.uvs=[p]);e.data.faces=k;return e},clone:function(){return(new f.Geometry).copy(this)},
copy:function(a){this.vertices=[];this.faces=[];this.faceVertexUvs=[[]];for(var b=a.vertices,c=0,d=b.length;c<d;c++)this.vertices.push(b[c].clone());b=a.faces;c=0;for(d=b.length;c<d;c++)this.faces.push(b[c].clone());c=0;for(d=a.faceVertexUvs.length;c<d;c++){b=a.faceVertexUvs[c];void 0===this.faceVertexUvs[c]&&(this.faceVertexUvs[c]=[]);for(var e=0,g=b.length;e<g;e++){for(var h=b[e],k=[],l=0,m=h.length;l<m;l++)k.push(h[l].clone());this.faceVertexUvs[c].push(k)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
f.GeometryIdCount=0;f.DirectGeometry=function(){Object.defineProperty(this,"id",{value:f.GeometryIdCount++});this.uuid=f.Math.generateUUID();this.name="";this.type="DirectGeometry";this.indices=[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1};
Object.assign(f.DirectGeometry.prototype,f.EventDispatcher.prototype,{computeBoundingBox:f.Geometry.prototype.computeBoundingBox,computeBoundingSphere:f.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(a){var b=[];a=a.faces;
for(var c=0;c<a.length;c++){var d=a[c];if(d.materialIndex!==e){var e=d.materialIndex;void 0!==g&&(g.count=3*c-g.start,b.push(g));var g={start:3*c,materialIndex:e}}}void 0!==g&&(g.count=3*c-g.start,b.push(g));this.groups=b},fromGeometry:function(a){var b=a.faces,c=a.vertices,d=a.faceVertexUvs,e=d[0]&&0<d[0].length,g=d[1]&&0<d[1].length,h=a.morphTargets,k=h.length;if(0<k){var l=[];for(var m=0;m<k;m++)l[m]=[];this.morphTargets.position=l}var n=a.morphNormals,q=n.length;if(0<q){var p=[];for(m=0;m<q;m++)p[m]=
[];this.morphTargets.normal=p}var t=a.skinIndices,r=a.skinWeights,v=t.length===c.length,u=r.length===c.length;for(m=0;m<b.length;m++){var w=b[m];this.vertices.push(c[w.a],c[w.b],c[w.c]);var x=w.vertexNormals;3===x.length?this.normals.push(x[0],x[1],x[2]):(x=w.normal,this.normals.push(x,x,x));x=w.vertexColors;3===x.length?this.colors.push(x[0],x[1],x[2]):(x=w.color,this.colors.push(x,x,x));!0===e&&(x=d[0][m],void 0!==x?this.uvs.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",
m),this.uvs.push(new f.Vector2,new f.Vector2,new f.Vector2)));!0===g&&(x=d[1][m],void 0!==x?this.uvs2.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",m),this.uvs2.push(new f.Vector2,new f.Vector2,new f.Vector2)));for(x=0;x<k;x++){var A=h[x].vertices;l[x].push(A[w.a],A[w.b],A[w.c])}for(x=0;x<q;x++)A=n[x].vertexNormals[m],p[x].push(A.a,A.b,A.c);v&&this.skinIndices.push(t[w.a],t[w.b],t[w.c]);u&&this.skinWeights.push(r[w.a],r[w.b],r[w.c])}this.computeGroups(a);
this.verticesNeedUpdate=a.verticesNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
f.BufferGeometry=function(){Object.defineProperty(this,"id",{value:f.GeometryIdCount++});this.uuid=f.Math.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity}};
Object.assign(f.BufferGeometry.prototype,f.EventDispatcher.prototype,{getIndex:function(){return this.index},setIndex:function(a){this.index=a},addAttribute:function(a,b,c){if(!1===b instanceof f.BufferAttribute&&!1===b instanceof f.InterleavedBufferAttribute)console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(a,new f.BufferAttribute(b,c));else if("index"===a)console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),
this.setIndex(b);else return this.attributes[a]=b,this},getAttribute:function(a){return this.attributes[a]},removeAttribute:function(a){delete this.attributes[a];return this},addGroup:function(a,b,c){this.groups.push({start:a,count:b,materialIndex:void 0!==c?c:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(a,b){this.drawRange.start=a;this.drawRange.count=b},applyMatrix:function(a){var b=this.attributes.position;void 0!==b&&(a.applyToVector3Array(b.array),b.needsUpdate=!0);b=this.attributes.normal;
void 0!==b&&(Gb(new f.Matrix3,a).applyToVector3Array(b.array),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return this},rotateX:function(){var a;return function(b){void 0===a&&(a=new f.Matrix4);Hb(a,b);this.applyMatrix(a);return this}}(),rotateY:function(){var a;return function(b){void 0===a&&(a=new f.Matrix4);Ib(a,b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a;return function(b){void 0===a&&(a=new f.Matrix4);
Jb(a,b);this.applyMatrix(a);return this}}(),translate:function(){var a;return function(b,c,d){void 0===a&&(a=new f.Matrix4);a.set(1,0,0,b,0,1,0,c,0,0,1,d,0,0,0,1);this.applyMatrix(a);return this}}(),scale:function(){var a;return function(b,c,d){void 0===a&&(a=new f.Matrix4);a.set(b,0,0,0,0,c,0,0,0,0,d,0,0,0,0,1);this.applyMatrix(a);return this}}(),lookAt:function(){var a;return function(b){void 0===a&&(a=new f.Object3D);a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),center:function(){this.computeBoundingBox();
var a=this.boundingBox.center().negate();this.translate(a.x,a.y,a.z);return a},setFromObject:function(a){var b=a.geometry;if(a instanceof f.Points||a instanceof f.Line){a=new f.Float32Attribute(3*b.vertices.length,3);var c=new f.Float32Attribute(3*b.colors.length,3);this.addAttribute("position",Wb(a,b.vertices));this.addAttribute("color",Tb(c,b.colors));b.lineDistances&&b.lineDistances.length===b.vertices.length&&(a=new f.Float32Attribute(b.lineDistances.length,1),this.addAttribute("lineDistance",
Sb(a,b.lineDistances)));null!==b.boundingSphere&&(this.boundingSphere=b.boundingSphere.clone());null!==b.boundingBox&&(this.boundingBox=b.boundingBox.clone())}else a instanceof f.Mesh&&b instanceof f.Geometry&&this.fromGeometry(b);return this},updateFromObject:function(a){var b=a.geometry;if(a instanceof f.Mesh){var c=b.__directGeometry;if(void 0===c)return this.fromGeometry(b);c.verticesNeedUpdate=b.verticesNeedUpdate;c.normalsNeedUpdate=b.normalsNeedUpdate;c.colorsNeedUpdate=b.colorsNeedUpdate;
c.uvsNeedUpdate=b.uvsNeedUpdate;c.groupsNeedUpdate=b.groupsNeedUpdate;b.verticesNeedUpdate=!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.groupsNeedUpdate=!1;b=c}!0===b.verticesNeedUpdate&&(c=this.attributes.position,void 0!==c&&(Wb(c,b.vertices),c.needsUpdate=!0),b.verticesNeedUpdate=!1);!0===b.normalsNeedUpdate&&(c=this.attributes.normal,void 0!==c&&(Wb(c,b.normals),c.needsUpdate=!0),b.normalsNeedUpdate=!1);!0===b.colorsNeedUpdate&&(c=this.attributes.color,void 0!==c&&(Tb(c,
b.colors),c.needsUpdate=!0),b.colorsNeedUpdate=!1);b.uvsNeedUpdate&&(c=this.attributes.uv,void 0!==c&&(Vb(c,b.uvs),c.needsUpdate=!0),b.uvsNeedUpdate=!1);b.lineDistancesNeedUpdate&&(c=this.attributes.lineDistance,void 0!==c&&(Sb(c,b.lineDistances),c.needsUpdate=!0),b.lineDistancesNeedUpdate=!1);b.groupsNeedUpdate&&(b.computeGroups(a.geometry),this.groups=b.groups,b.groupsNeedUpdate=!1);return this},fromGeometry:function(a){a.__directGeometry=(new f.DirectGeometry).fromGeometry(a);return this.fromDirectGeometry(a.__directGeometry)},
fromDirectGeometry:function(a){this.addAttribute("position",Wb(new f.BufferAttribute(new Float32Array(3*a.vertices.length),3),a.vertices));0<a.normals.length&&this.addAttribute("normal",Wb(new f.BufferAttribute(new Float32Array(3*a.normals.length),3),a.normals));0<a.colors.length&&this.addAttribute("color",Tb(new f.BufferAttribute(new Float32Array(3*a.colors.length),3),a.colors));0<a.uvs.length&&this.addAttribute("uv",Vb(new f.BufferAttribute(new Float32Array(2*a.uvs.length),2),a.uvs));0<a.uvs2.length&&
this.addAttribute("uv2",Vb(new f.BufferAttribute(new Float32Array(2*a.uvs2.length),2),a.uvs2));0<a.indices.length&&this.setIndex(Ub(new f.BufferAttribute(new (65535<a.vertices.length?Uint32Array:Uint16Array)(3*a.indices.length),1),a.indices));this.groups=a.groups;for(var b in a.morphTargets){for(var c=[],d=a.morphTargets[b],e=0,g=d.length;e<g;e++){var h=d[e],k=new f.Float32Attribute(3*h.length,3);c.push(Wb(k,h))}this.morphAttributes[b]=c}0<a.skinIndices.length&&(b=new f.Float32Attribute(4*a.skinIndices.length,
4),this.addAttribute("skinIndex",Xb(b,a.skinIndices)));0<a.skinWeights.length&&(b=new f.Float32Attribute(4*a.skinWeights.length,4),this.addAttribute("skinWeight",Xb(b,a.skinWeights)));null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new f.Box3);var a=this.attributes.position.array;void 0!==a?Fb(this.boundingBox,a):this.boundingBox.makeEmpty();
(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var a=new f.Box3,b=new f.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new f.Sphere);var c=this.attributes.position.array;if(c){var d=this.boundingSphere.center;Fb(a,c);a.center(d);for(var e=
0,g=0,h=c.length;g<h;g+=3)b.fromArray(c,g),e=Math.max(e,d.distanceToSquared(b));this.boundingSphere.radius=Math.sqrt(e);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var a=this.index,b=this.attributes,c=this.groups;if(b.position){var d=b.position.array;if(void 0===b.normal)this.addAttribute("normal",
new f.BufferAttribute(new Float32Array(d.length),3));else for(var e=b.normal.array,g=0,h=e.length;g<h;g++)e[g]=0;e=b.normal.array;var k=new f.Vector3,l=new f.Vector3,m=new f.Vector3,n=new f.Vector3,q=new f.Vector3;if(a){a=a.array;0===c.length&&this.addGroup(0,a.length);for(var p=0,t=c.length;p<t;++p){g=c[p];h=g.start;var r=g.count;g=h;for(h+=r;g<h;g+=3){r=3*a[g+0];var v=3*a[g+1];var u=3*a[g+2];k.fromArray(d,r);l.fromArray(d,v);m.fromArray(d,u);n.subVectors(m,l);q.subVectors(k,l);zb(n,q);e[r]+=n.x;
e[r+1]+=n.y;e[r+2]+=n.z;e[v]+=n.x;e[v+1]+=n.y;e[v+2]+=n.z;e[u]+=n.x;e[u+1]+=n.y;e[u+2]+=n.z}}}else for(g=0,h=d.length;g<h;g+=9)k.fromArray(d,g),l.fromArray(d,g+3),m.fromArray(d,g+6),n.subVectors(m,l),q.subVectors(k,l),zb(n,q),e[g]=n.x,e[g+1]=n.y,e[g+2]=n.z,e[g+3]=n.x,e[g+4]=n.y,e[g+5]=n.z,e[g+6]=n.x,e[g+7]=n.y,e[g+8]=n.z;this.normalizeNormals();b.normal.needsUpdate=!0}},merge:function(a,b){if(!1===a instanceof f.BufferGeometry)console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",
a);else{void 0===b&&(b=0);var c=this.attributes,d;for(d in c)if(void 0!==a.attributes[d]){var e=c[d].array,g=a.attributes[d],h=g.array,k=0;for(g=g.itemSize*b;k<h.length;k++,g++)e[g]=h[k]}return this}},normalizeNormals:function(){for(var a=this.attributes.normal.array,b,c,d,e=0,g=a.length;e<g;e+=3)b=a[e],c=a[e+1],d=a[e+2],b=1/Math.sqrt(b*b+c*c+d*d),a[e]*=b,a[e+1]*=b,a[e+2]*=b},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),
this;var a=new f.BufferGeometry,b=this.index.array,c=this.attributes,d;for(d in c){var e=c[d],g=e.array;e=e.itemSize;for(var h=new g.constructor(b.length*e),k,l=0,m=0,n=b.length;m<n;m++){k=b[m]*e;for(var q=0;q<e;q++)h[l++]=g[k++]}a.addAttribute(d,new f.BufferAttribute(h,e))}return a},toJSON:function(){var a={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);if(void 0!==this.parameters){var b=this.parameters;
for(e in b)void 0!==b[e]&&(a[e]=b[e]);return a}a.data={attributes:{}};var c=this.index;null!==c&&(b=Array.prototype.slice.call(c.array),a.data.index={type:c.array.constructor.name,array:b});c=this.attributes;for(e in c){var d=c[e];b=Array.prototype.slice.call(d.array);a.data.attributes[e]={itemSize:d.itemSize,type:d.array.constructor.name,array:b,normalized:d.normalized}}var e=this.groups;0<e.length&&(a.data.groups=JSON.parse(JSON.stringify(e)));e=this.boundingSphere;null!==e&&(a.data.boundingSphere=
{center:e.center.toArray(),radius:e.radius});return a},clone:function(){return(new f.BufferGeometry).copy(this)},copy:function(a){var b=a.index;null!==b&&this.setIndex(b.clone());b=a.attributes;for(var c in b)this.addAttribute(c,b[c].clone());a=a.groups;c=0;for(b=a.length;c<b;c++){var d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});f.BufferGeometry.MaxIndex=65535;
f.InstancedBufferGeometry=function(){f.BufferGeometry.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=void 0};f.InstancedBufferGeometry.prototype=Object.create(f.BufferGeometry.prototype);f.InstancedBufferGeometry.prototype.constructor=f.InstancedBufferGeometry;f.InstancedBufferGeometry.prototype.addGroup=function(a,b,c){this.groups.push({start:a,count:b,instances:c})};
f.InstancedBufferGeometry.prototype.copy=function(a){var b=a.index;null!==b&&this.setIndex(b.clone());b=a.attributes;for(var c in b)this.addAttribute(c,b[c].clone());a=a.groups;c=0;for(b=a.length;c<b;c++){var d=a[c];this.addGroup(d.start,d.count,d.instances)}return this};f.Uniform=function(a,b){"string"===typeof a&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),a=b);this.value=a;this.dynamic=!1};
f.Uniform.prototype={constructor:f.Uniform,onUpdate:function(a){this.dynamic=!0;this.onUpdateCallback=a;return this}};f.AnimationAction=function(){throw Error("THREE.AnimationAction: Use mixer.clipAction for construction.");};
f.AnimationAction._new=function(a,b,c){this._mixer=a;this._clip=b;this._localRoot=c||null;a=b.tracks;b=a.length;c=Array(b);for(var d={endingStart:f.ZeroCurvatureEnding,endingEnd:f.ZeroCurvatureEnding},e=0;e!==b;++e){var g=a[e].createInterpolant(null);c[e]=g;g.settings=d}this._interpolantSettings=d;this._interpolants=c;this._propertyBindings=Array(b);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=f.LoopRepeat;this._loopCount=-1;this._startTime=
null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0};function Yb(a){var b=a._weightInterpolant;null!==b&&(a._weightInterpolant=null,a._mixer._takeBackControlInterpolant(b));return a}function Zb(a){var b=a._timeScaleInterpolant;null!==b&&(a._timeScaleInterpolant=null,a._mixer._takeBackControlInterpolant(b));return a}
function $b(a,b,c,d){var e=a._mixer,g=e.time,h=a._weightInterpolant;null===h&&(h=e._lendControlInterpolant(),a._weightInterpolant=h);a=h.parameterPositions;h=h.sampleValues;a[0]=g;h[0]=c;a[1]=g+b;h[1]=d}function ac(a,b,c,d){var e=a._mixer,g=e.time,h=a._timeScaleInterpolant,k=a.timeScale;null===h&&(h=e._lendControlInterpolant(),a._timeScaleInterpolant=h);e=h.parameterPositions;h=h.sampleValues;e[0]=g;e[1]=g+d;h[0]=b/k;h[1]=c/k;return a}
function bc(a,b,c,d){var e=a._interpolantSettings;d?(e.endingStart=f.ZeroSlopeEnding,e.endingEnd=f.ZeroSlopeEnding):(e.endingStart=b?a.zeroSlopeAtStart?f.ZeroSlopeEnding:f.ZeroCurvatureEnding:f.WrapAroundEnding,e.endingEnd=c?a.zeroSlopeAtEnd?f.ZeroSlopeEnding:f.ZeroCurvatureEnding:f.WrapAroundEnding)}
f.AnimationAction._new.prototype={constructor:f.AnimationAction._new,play:function(){this._mixer._activateAction(this);return this},stop:function(){this._mixer._deactivateAction(this);return this.reset()},reset:function(){this.paused=!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return Zb(Yb(this))},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},
startAt:function(a){this._startTime=a;return this},setLoop:function(a,b){this.loop=a;this.repetitions=b;return this},setEffectiveWeight:function(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;return Yb(this)},getEffectiveWeight:function(){return this._effectiveWeight},crossFadeTo:function(a,b,c){$b(this,b,1,0);$b(a,b,0,1);if(c){c=a._clip.duration;var d=this._clip.duration,e=c/d;ac(this,1,d/c,b);ac(a,e,1,b)}return a},setEffectiveTimeScale:function(a){this.timeScale=a;this._effectiveTimeScale=
this.paused?0:a;return Zb(this)},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(a){this.timeScale=this._clip.duration/a;return Zb(this)},syncWith:function(a){this.time=a.time;this.timeScale=a.timeScale;return Zb(this)},halt:function(a){return ac(this,this._effectiveTimeScale,0,a)},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(a,b,c,d){var e=this._startTime;
if(null!==e){b=(a-e)*c;if(0>b||0===c)return;this._startTime=null;b*=c}c=b;b=0;if(!this.paused&&(b=this.timeScale,e=this._timeScaleInterpolant,null!==e)){var g=e.evaluate(a)[0];b*=g;a>e.parameterPositions[1]&&(Zb(this),0===b?this.paused=!0:this.timeScale=b)}this._effectiveTimeScale=b;a:if(g=c*b,c=this.time+g,0!==g){b=this._clip.duration;var h=this.loop;e=this._loopCount;if(h===f.LoopOnce)b:{if(-1===e&&(this.loopCount=0,bc(this,!0,!0,!1)),c>=b)c=b;else if(0>c)c=0;else break b;this.clampWhenFinished?
this.paused=!0:this.enabled=!1;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>g?-1:1})}else{h=h===f.LoopPingPong;-1===e&&(0<=g?(e=0,bc(this,!0,0===this.repetitions,h)):bc(this,0===this.repetitions,!0,h));if(c>=b||0>c){var k=Math.floor(c/b);c-=b*k;e+=Math.abs(k);var l=this.repetitions-e;0>l?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,c=0<g?b:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<g?1:-1})):(0===l?(g=0>g,bc(this,g,!g,h)):bc(this,!1,!1,h),
this._loopCount=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:k}))}if(h&&1===(e&1)){this.time=c;c=b-c;break a}}this.time=c}b=0;this.enabled&&(b=this.weight,e=this._weightInterpolant,null!==e&&(g=e.evaluate(a)[0],b*=g,a>e.parameterPositions[1]&&(Yb(this),0===g&&(this.enabled=!1))));a=this._effectiveWeight=b;if(0<a)for(b=this._interpolants,e=this._propertyBindings,g=0,h=b.length;g!==h;++g){b[g].evaluate(c);k=e[g];l=a;var m=k.buffer,n=k.valueSize,q=d*n+n,p=k.cumulativeWeight;if(0===
p){for(p=0;p!==n;++p)m[q+p]=m[p];p=l}else p+=l,k._mixBufferRegion(m,q,0,l/p,n);k.cumulativeWeight=p}}};f.AnimationClip=function(a,b,c){this.name=a;this.tracks=c;this.duration=void 0!==b?b:-1;this.uuid=f.Math.generateUUID();if(0>this.duration){b=a=0;for(c=this.tracks.length;b!==c;++b){var d=this.tracks[b];a=Math.max(a,d.times[d.times.length-1])}this.duration=a}this.trim();this.optimize()};
f.AnimationClip.prototype={constructor:f.AnimationClip,trim:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this},optimize:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].optimize();return this}};
Object.assign(f.AnimationClip,{parse:function(a){for(var b=[],c=a.tracks,d=1/(a.fps||1),e=0,g=c.length;e!==g;++e)b.push(f.KeyframeTrack.parse(c[e]).scale(d));return new f.AnimationClip(a.name,a.duration,b)},toJSON:function(a){var b=[],c=a.tracks;a={name:a.name,duration:a.duration,tracks:b};for(var d=0,e=c.length;d!==e;++d)b.push(f.KeyframeTrack.toJSON(c[d]));return a},CreateFromMorphTargetSequence:function(a,b,c,d){for(var e=b.length,g=[],h=0;h<e;h++){var k=[],l=[];k.push((h+e-1)%e,h,(h+1)%e);l.push(0,
1,0);var m=f.AnimationUtils.getKeyframeOrder(k);k=f.AnimationUtils.sortedArray(k,1,m);l=f.AnimationUtils.sortedArray(l,1,m);d||0!==k[0]||(k.push(e),l.push(l[0]));g.push((new f.NumberKeyframeTrack(".morphTargetInfluences["+b[h].name+"]",k,l)).scale(1/c))}return new f.AnimationClip(a,-1,g)},findByName:function(a,b){var c=a;Array.isArray(a)||(c=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<c.length;a++)if(c[a].name===b)return c[a];return null},CreateClipsFromMorphTargetSequences:function(a,
b,c){for(var d={},e=/^([\w-]*?)([\d]+)$/,g=0,h=a.length;g<h;g++){var k=a[g],l=k.name.match(e);if(l&&1<l.length){var m=l[1];(l=d[m])||(d[m]=l=[]);l.push(k)}}a=[];for(m in d)a.push(f.AnimationClip.CreateFromMorphTargetSequence(m,d[m],b,c));return a},parseAnimation:function(a,b){function c(v,u,w,x,A){if(0!==w.length){var y=[],B=[];f.AnimationUtils.flattenJSON(w,y,B,x);0!==y.length&&A.push(new v(u,y,B))}}if(!a)return console.error("  no animation in JSONLoader data"),null;var d=[],e=a.name||"default",
g=a.length||-1,h=a.fps||30;a=a.hierarchy||[];for(var k=0;k<a.length;k++){var l=a[k].keys;if(l&&0!==l.length)if(l[0].morphTargets){g={};for(var m=0;m<l.length;m++)if(l[m].morphTargets)for(var n=0;n<l[m].morphTargets.length;n++)g[l[m].morphTargets[n]]=-1;for(var q in g){var p=[],t=[];for(n=0;n!==l[m].morphTargets.length;++n){var r=l[m];p.push(r.time);t.push(r.morphTarget===q?1:0)}d.push(new f.NumberKeyframeTrack(".morphTargetInfluence["+q+"]",p,t))}g=g.length*(h||1)}else m=".bones["+b[k].name+"]",c(f.VectorKeyframeTrack,
m+".position",l,"pos",d),c(f.QuaternionKeyframeTrack,m+".quaternion",l,"rot",d),c(f.VectorKeyframeTrack,m+".scale",l,"scl",d)}return 0===d.length?null:new f.AnimationClip(e,g,d)}});f.AnimationMixer=function(a){this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1};
Object.assign(f.AnimationMixer.prototype,f.EventDispatcher.prototype,{clipAction:function(a,b){var c=b||this._root,d=c.uuid;c="string"===typeof a?f.AnimationClip.findByName(c,a):a;a=null!==c?c.uuid:a;var e=this._actionsByClip[a],g=null;if(void 0!==e){g=e.actionByRoot[d];if(void 0!==g)return g;g=e.knownActions[0];null===c&&(c=g._clip)}if(null===c)return null;b=new f.AnimationMixer._Action(this,c,b);this._bindAction(b,g);this._addInactiveAction(b,a,d);return b},existingAction:function(a,b){var c=b||
this._root;b=c.uuid;c="string"===typeof a?f.AnimationClip.findByName(c,a):a;a=this._actionsByClip[c?c.uuid:a];return void 0!==a?a.actionByRoot[b]||null:null},stopAllAction:function(){for(var a=this._actions,b=this._nActiveActions,c=this._bindings,d=this._nActiveBindings,e=this._nActiveBindings=this._nActiveActions=0;e!==b;++e)a[e].reset();for(e=0;e!==d;++e)c[e].useCount=0;return this},update:function(a){a*=this.timeScale;for(var b=this._actions,c=this._nActiveActions,d=this.time+=a,e=Math.sign(a),
g=this._accuIndex^=1,h=0;h!==c;++h){var k=b[h];k.enabled&&k._update(d,a,e,g)}a=this._bindings;b=this._nActiveBindings;for(h=0;h!==b;++h)a[h].apply(g);return this},getRoot:function(){return this._root},uncacheClip:function(a){var b=this._actions;a=a.uuid;var c=this._actionsByClip,d=c[a];if(void 0!==d){d=d.knownActions;for(var e=0,g=d.length;e!==g;++e){var h=d[e];this._deactivateAction(h);var k=h._cacheIndex,l=b[b.length-1];h._cacheIndex=null;h._byClipCacheIndex=null;l._cacheIndex=k;b[k]=l;b.pop();
this._removeInactiveBindingsForAction(h)}delete c[a]}},uncacheRoot:function(a){a=a.uuid;var b=this._actionsByClip;for(d in b){var c=b[d].actionByRoot[a];void 0!==c&&(this._deactivateAction(c),this._removeInactiveAction(c))}var d=this._bindingsByRootAndName[a];if(void 0!==d)for(var e in d)a=d[e],a.binding.setValue(a.buffer,3*a.valueSize),this._removeInactiveBinding(a)},uncacheAction:function(a,b){a=this.existingAction(a,b);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}});
f.AnimationMixer._Action=f.AnimationAction._new;
Object.assign(f.AnimationMixer.prototype,{_bindAction:function(a,b){var c=a._localRoot||this._root,d=a._clip.tracks,e=d.length,g=a._propertyBindings;a=a._interpolants;var h=c.uuid,k=this._bindingsByRootAndName,l=k[h];void 0===l&&(l={},k[h]=l);for(k=0;k!==e;++k){var m=d[k],n=m.name,q=l[n];if(void 0===q){q=g[k];if(void 0!==q){null===q._cacheIndex&&(++q.referenceCount,this._addInactiveBinding(q,h,n));continue}q=new f.PropertyMixer(f.PropertyBinding.create(c,n,b&&b._propertyBindings[k].binding.parsedPath),
m.ValueTypeName,cc(m));++q.referenceCount;this._addInactiveBinding(q,h,n)}g[k]=q;a[k].resultBuffer=q.buffer}},_activateAction:function(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.uuid,d=this._actionsByClip[c];this._bindAction(a,d&&d.knownActions[0]);this._addInactiveAction(a,c,b)}b=a._propertyBindings;c=0;for(d=b.length;c!==d;++c){var e=b[c];if(0===e.useCount++){this._lendBinding(e);var g=e.buffer,h=e.valueSize,k=3*h;e.binding.getValue(g,
k);for(var l=h;l!==k;++l)g[l]=g[k+l%h];e.cumulativeWeight=0}}this._lendAction(a)}},_deactivateAction:function(a){if(this._isActiveAction(a)){for(var b=a._propertyBindings,c=0,d=b.length;c!==d;++c){var e=b[c];0===--e.useCount&&(e.binding.setValue(e.buffer,3*e.valueSize),this._takeBackBinding(e))}this._takeBackAction(a)}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=
[];this._nActiveControlInterpolants=0;var a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}},_isActiveAction:function(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions},_addInactiveAction:function(a,b,c){var d=this._actions,e=
this._actionsByClip,g=e[b];void 0===g?(g={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,e[b]=g):(b=g.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=d.length;d.push(a);g.actionByRoot[c]=a},_removeInactiveAction:function(a){var b=this._actions,c=b[b.length-1],d=a._cacheIndex;c._cacheIndex=d;b[d]=c;b.pop();a._cacheIndex=null;c=a._clip.uuid;d=this._actionsByClip;var e=d[c],g=e.knownActions,h=g[g.length-1],k=a._byClipCacheIndex;h._byClipCacheIndex=k;g[k]=h;g.pop();a._byClipCacheIndex=
null;delete e.actionByRoot[(b._localRoot||this._root).uuid];0===g.length&&delete d[c];this._removeInactiveBindingsForAction(a)},_removeInactiveBindingsForAction:function(a){a=a._propertyBindings;for(var b=0,c=a.length;b!==c;++b){var d=a[b];0===--d.referenceCount&&this._removeInactiveBinding(d)}},_lendAction:function(a){var b=this._actions,c=a._cacheIndex,d=this._nActiveActions++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackAction:function(a){var b=this._actions,c=a._cacheIndex,d=
--this._nActiveActions,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_addInactiveBinding:function(a,b,c){var d=this._bindingsByRootAndName,e=d[b],g=this._bindings;void 0===e&&(e={},d[b]=e);e[c]=a;a._cacheIndex=g.length;g.push(a)},_removeInactiveBinding:function(a){var b=this._bindings,c=a.binding,d=c.rootNode.uuid;c=c.path;var e=this._bindingsByRootAndName,g=e[d],h=b[b.length-1];a=a._cacheIndex;h._cacheIndex=a;b[a]=h;b.pop();delete g[c];a:{for(var k in g)break a;delete e[d]}},_lendBinding:function(a){var b=
this._bindings,c=a._cacheIndex,d=this._nActiveBindings++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackBinding:function(a){var b=this._bindings,c=a._cacheIndex,d=--this._nActiveBindings,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_lendControlInterpolant:function(){var a=this._controlInterpolants,b=this._nActiveControlInterpolants++,c=a[b];void 0===c&&(c=new f.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),c.__cacheIndex=
b,a[b]=c);return c},_takeBackControlInterpolant:function(a){var b=this._controlInterpolants,c=a.__cacheIndex,d=--this._nActiveControlInterpolants,e=b[d];a.__cacheIndex=d;b[d]=a;e.__cacheIndex=c;b[c]=e},_controlInterpolantsResultBuffer:new Float32Array(1)});
f.AnimationObjectGroup=function(a){this.uuid=f.Math.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var b={};this._indicesByUUID=b;for(var c=0,d=arguments.length;c!==d;++c)b[arguments[c].uuid]=c;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}};
f.AnimationObjectGroup.prototype={constructor:f.AnimationObjectGroup,add:function(a){for(var b=this._objects,c=b.length,d=this.nCachedObjects_,e=this._indicesByUUID,g=this._paths,h=this._parsedPaths,k=this._bindings,l=k.length,m=0,n=arguments.length;m!==n;++m){var q=arguments[m],p=q.uuid,t=e[p];if(void 0===t){t=c++;e[p]=t;b.push(q);p=0;for(var r=l;p!==r;++p)k[p].push(new f.PropertyBinding(q,g[p],h[p]))}else if(t<d){var v=b[t],u=--d;r=b[u];e[r.uuid]=t;b[t]=r;e[p]=u;b[u]=q;p=0;for(r=l;p!==r;++p){var w=
k[p],x=w[t];w[t]=w[u];void 0===x&&(x=new f.PropertyBinding(q,g[p],h[p]));w[u]=x}}else b[t]!==v&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=d},remove:function(a){for(var b=this._objects,c=this.nCachedObjects_,d=this._indicesByUUID,e=this._bindings,g=e.length,h=0,k=arguments.length;h!==k;++h){var l=arguments[h],m=l.uuid,n=d[m];if(void 0!==n&&n>=c){var q=c++,p=b[q];d[p.uuid]=n;b[n]=p;d[m]=
q;b[q]=l;l=0;for(m=g;l!==m;++l){p=e[l];var t=p[n];p[n]=p[q];p[q]=t}}}this.nCachedObjects_=c},uncache:function(a){for(var b=this._objects,c=b.length,d=this.nCachedObjects_,e=this._indicesByUUID,g=this._bindings,h=g.length,k=0,l=arguments.length;k!==l;++k){var m=arguments[k].uuid,n=e[m];if(void 0!==n)if(delete e[m],n<d){m=--d;var q=b[m],p=--c,t=b[p];e[q.uuid]=n;b[n]=q;e[t.uuid]=m;b[m]=t;b.pop();q=0;for(t=h;q!==t;++q){var r=g[q],v=r[p];r[n]=r[m];r[m]=v;r.pop()}}else for(p=--c,t=b[p],e[t.uuid]=n,b[n]=
t,b.pop(),q=0,t=h;q!==t;++q)r=g[q],r[n]=r[p],r.pop()}this.nCachedObjects_=d},unsubscribe_:function(a){var b=this._bindingsIndicesByPath,c=b[a];if(void 0!==c){var d=this._paths,e=this._parsedPaths,g=this._bindings,h=g.length-1,k=g[h];b[a[h]]=c;g[c]=k;g.pop();e[c]=e[h];e.pop();d[c]=d[h];d.pop()}}};
f.AnimationUtils={arraySlice:function(a,b,c){return f.AnimationUtils.isTypedArray(a)?new a.constructor(a.subarray(b,c)):a.slice(b,c)},convertArray:function(a,b,c){return!a||!c&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){for(var b=a.length,c=Array(b),d=0;d!==b;++d)c[d]=d;c.sort(function(e,g){return a[e]-a[g]});return c},sortedArray:function(a,
b,c){for(var d=a.length,e=new a.constructor(d),g=0,h=0;h!==d;++g)for(var k=c[g]*b,l=0;l!==b;++l)e[h++]=a[k+l];return e},flattenJSON:function(a,b,c,d){for(var e=1,g=a[0];void 0!==g&&void 0===g[d];)g=a[e++];if(void 0!==g){var h=g[d];if(void 0!==h)if(Array.isArray(h)){do h=g[d],void 0!==h&&(b.push(g.time),c.push.apply(c,h)),g=a[e++];while(void 0!==g)}else if(void 0!==h.toArray){do h=g[d],void 0!==h&&(b.push(g.time),h.toArray(c,c.length)),g=a[e++];while(void 0!==g)}else{do h=g[d],void 0!==h&&(b.push(g.time),
c.push(h)),g=a[e++];while(void 0!==g)}}}};f.KeyframeTrack=function(a,b,c,d){if(void 0===a)throw Error("track name is undefined");if(void 0===b||0===b.length)throw Error("no keyframes in track named "+a);this.name=a;this.times=f.AnimationUtils.convertArray(b,this.TimeBufferType);this.values=f.AnimationUtils.convertArray(c,this.ValueBufferType);dc(this,d||this.DefaultInterpolation);this.validate();this.optimize()};function cc(a){return a.values.length/a.times.length}
function dc(a,b){switch(b){case f.InterpolateDiscrete:var c=a.InterpolantFactoryMethodDiscrete;break;case f.InterpolateLinear:c=a.InterpolantFactoryMethodLinear;break;case f.InterpolateSmooth:c=a.InterpolantFactoryMethodSmooth}if(void 0===c){c="unsupported interpolation for "+a.ValueTypeName+" keyframe track named "+a.name;if(void 0===a.createInterpolant)if(b!==a.DefaultInterpolation)dc(a,a.DefaultInterpolation);else throw Error(c);console.warn(c)}else a.createInterpolant=c}
f.KeyframeTrack.prototype={constructor:f.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:f.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(a){return new f.DiscreteInterpolant(this.times,this.values,cc(this),a)},InterpolantFactoryMethodLinear:function(a){return new f.LinearInterpolant(this.times,this.values,cc(this),a)},InterpolantFactoryMethodSmooth:function(a){return new f.CubicInterpolant(this.times,this.values,cc(this),a)},shift:function(a){if(0!==
a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]+=a;return this},scale:function(a){if(1!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]*=a;return this},trim:function(a,b){for(var c=this.times,d=c.length,e=0,g=d-1;e!==d&&c[e]<a;)++e;for(;-1!==g&&c[g]>b;)--g;++g;if(0!==e||g!==d)e>=g&&(g=Math.max(g,1),e=g-1),a=cc(this),this.times=f.AnimationUtils.arraySlice(c,e,g),this.values=f.AnimationUtils.arraySlice(this.values,e*a,g*a);return this},validate:function(){var a=!0,b=cc(this);0!==b-Math.floor(b)&&
(console.error("invalid value size in track",this),a=!1);var c=this.times;b=this.values;var d=c.length;0===d&&(console.error("track is empty",this),a=!1);for(var e=null,g=0;g!==d;g++){var h=c[g];if("number"===typeof h&&isNaN(h)){console.error("time is not a valid number",this,g,h);a=!1;break}if(null!==e&&e>h){console.error("out of order keys",this,g,h,e);a=!1;break}e=h}if(void 0!==b&&f.AnimationUtils.isTypedArray(b))for(g=0,c=b.length;g!==c;++g)if(d=b[g],isNaN(d)){console.error("value is not a valid number",
this,g,d);a=!1;break}return a},optimize:function(){for(var a=this.times,b=this.values,c=cc(this),d=1,e=1,g=a.length-1;e<=g;++e){var h=!1,k=a[e];if(k!==a[e+1]&&(1!==e||k!==k[0])){var l=e*c,m=l-c,n=l+c;for(k=0;k!==c;++k){var q=b[l+k];if(q!==b[m+k]||q!==b[n+k]){h=!0;break}}}if(h){if(e!==d)for(a[d]=a[e],h=e*c,l=d*c,k=0;k!==c;++k)b[l+k]=b[h+k];++d}}d!==a.length&&(this.times=f.AnimationUtils.arraySlice(a,0,d),this.values=f.AnimationUtils.arraySlice(b,0,d*c));return this}};
Object.assign(f.KeyframeTrack,{parse:function(a){if(void 0===a.type)throw Error("track type undefined, can not parse");var b=f.KeyframeTrack._getTrackTypeForValueTypeName(a.type);if(void 0===a.times){var c=[],d=[];f.AnimationUtils.flattenJSON(a.keys,c,d,"value");a.times=c;a.values=d}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,a.interpolation)},toJSON:function(a){var b=a.constructor;if(void 0!==b.toJSON)b=b.toJSON(a);else{b={name:a.name,times:f.AnimationUtils.convertArray(a.times,
Array),values:f.AnimationUtils.convertArray(a.values,Array)};a:{switch(a.createInterpolant){case a.InterpolantFactoryMethodDiscrete:var c=f.InterpolateDiscrete;break a;case a.InterpolantFactoryMethodLinear:c=f.InterpolateLinear;break a;case a.InterpolantFactoryMethodSmooth:c=f.InterpolateSmooth;break a}c=void 0}c!==a.DefaultInterpolation&&(b.interpolation=c)}b.type=a.ValueTypeName;return b},_getTrackTypeForValueTypeName:function(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return f.NumberKeyframeTrack;
case "vector":case "vector2":case "vector3":case "vector4":return f.VectorKeyframeTrack;case "color":return f.ColorKeyframeTrack;case "quaternion":return f.QuaternionKeyframeTrack;case "bool":case "boolean":return f.BooleanKeyframeTrack;case "string":return f.StringKeyframeTrack}throw Error("Unsupported typeName: "+a);}});
f.PropertyBinding=function(a,b,c){this.path=b;this.parsedPath=c||f.PropertyBinding.parseTrackName(b);this.node=f.PropertyBinding.findNode(a,this.parsedPath.nodeName)||a;this.rootNode=a};
f.PropertyBinding.prototype={constructor:f.PropertyBinding,getValue:function(a,b){this.bind();this.getValue(a,b)},setValue:function(a,b){this.bind();this.setValue(a,b)},bind:function(){var a=this.node,b=this.parsedPath,c=b.objectName,d=b.propertyName,e=b.propertyIndex;a||(this.node=a=f.PropertyBinding.findNode(this.rootNode,b.nodeName)||this.rootNode);this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(c){var g=b.objectIndex;switch(c){case "materials":if(!a.material){console.error("  can not bind to material as node does not have a material",
this);return}if(!a.material.materials){console.error("  can not bind to material.materials as node.material does not have a materials array",this);return}a=a.material.materials;break;case "bones":if(!a.skeleton){console.error("  can not bind to bones as node does not have a skeleton",this);return}a=a.skeleton.bones;for(c=0;c<a.length;c++)if(a[c].name===g){g=c;break}break;default:if(void 0===a[c]){console.error("  can not bind to objectName of node, undefined",this);return}a=a[c]}if(void 0!==g){if(void 0===
a[g]){console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,a);return}a=a[g]}}if(g=a[d]){b=this.Versioning.None;void 0!==a.needsUpdate?(b=this.Versioning.NeedsUpdate,this.targetObject=a):void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=a);c=this.BindingType.Direct;if(void 0!==e){if("morphTargetInfluences"===d){if(!a.geometry){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",
this);return}if(!a.geometry.morphTargets){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);return}for(c=0;c<this.node.geometry.morphTargets.length;c++)if(a.geometry.morphTargets[c].name===e){e=c;break}}c=this.BindingType.ArrayElement;this.resolvedProperty=g;this.propertyIndex=e}else void 0!==g.fromArray&&void 0!==g.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=g):void 0!==g.length?(c=this.BindingType.EntireArray,this.resolvedProperty=
g):this.propertyName=d;this.getValue=this.GetterByBindingType[c];this.setValue=this.SetterByBindingTypeAndVersioning[c][b]}else console.error("  trying to update property for track: "+b.nodeName+"."+d+" but it wasn't found.",a)}else console.error("  trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}};
Object.assign(f.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:f.PropertyBinding.prototype.getValue,_setValue_unbound:f.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(a,b){a[b]=this.node[this.propertyName]},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)a[b++]=c[d]},
function(a,b){a[b]=this.resolvedProperty[this.propertyIndex]},function(a,b){this.resolvedProperty.toArray(a,b)}],SetterByBindingTypeAndVersioning:[[function(a,b){this.node[this.propertyName]=a[b]},function(a,b){this.node[this.propertyName]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.node[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++]},function(a,b){for(var c=this.resolvedProperty,
d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.needsUpdate=!0},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty[this.propertyIndex]=a[b]},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty.fromArray(a,
b)},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}]]});
f.PropertyBinding.Composite=function(a,b,c){c=c||f.PropertyBinding.parseTrackName(b);this._targetGroup=a;var d=a._bindingsIndicesByPath,e=d[b],g=a._bindings;if(void 0!==e)b=g[e];else{var h=a._paths,k=a._parsedPaths,l=a._objects,m=a.nCachedObjects_;a=Array(l.length);e=g.length;d[b]=e;h.push(b);k.push(c);g.push(a);d=m;for(e=l.length;d!==e;++d)a[d]=new f.PropertyBinding(l[d],b,c);b=a}this._bindings=b};
f.PropertyBinding.Composite.prototype={constructor:f.PropertyBinding.Composite,getValue:function(a,b){this.bind();var c=this._bindings[this._targetGroup.nCachedObjects_];void 0!==c&&c.getValue(a,b)},setValue:function(a,b){for(var c=this._bindings,d=this._targetGroup.nCachedObjects_,e=c.length;d!==e;++d)c[d].setValue(a,b)},bind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].bind()},unbind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,
c=a.length;b!==c;++b)a[b].unbind()}};f.PropertyBinding.create=function(a,b,c){return a instanceof f.AnimationObjectGroup?new f.PropertyBinding.Composite(a,b,c):new f.PropertyBinding(a,b,c)};
f.PropertyBinding.parseTrackName=function(a){var b=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]_. ]+)\])?)$/,c=b.exec(a);if(!c)throw Error("cannot parse trackName at all: "+a);c.index===b.lastIndex&&b.lastIndex++;b={nodeName:c[3],objectName:c[5],objectIndex:c[7],propertyName:c[9],propertyIndex:c[11]};if(null===b.propertyName||0===b.propertyName.length)throw Error("can not parse propertyName from trackName: "+a);return b};
f.PropertyBinding.findNode=function(a,b){if(!b||""===b||"root"===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){var c=function(e){for(var g=0;g<e.bones.length;g++){var h=e.bones[g];if(h.name===b)return h}return null}(a.skeleton);if(c)return c}if(a.children){var d=function(e){for(var g=0;g<e.length;g++){var h=e[g];if(h.name===b||h.uuid===b)return h;if(h=d(h.children))return h}return null};if(a=d(a.children))return a}return null};
f.PropertyMixer=function(a,b,c){this.binding=a;this.valueSize=c;a=Float64Array;switch(b){case "quaternion":b=this._slerp;break;case "string":case "bool":a=Array;b=this._select;break;default:b=this._lerp}this.buffer=new a(4*c);this._mixBufferRegion=b;this.referenceCount=this.useCount=this.cumulativeWeight=0};
f.PropertyMixer.prototype={constructor:f.PropertyMixer,apply:function(a){var b=this.valueSize,c=this.buffer;a=a*b+b;var d=this.cumulativeWeight,e=this.binding;this.cumulativeWeight=0;1>d&&this._mixBufferRegion(c,a,3*b,1-d,b);d=b;for(var g=b+b;d!==g;++d)if(c[d]!==c[d+b]){e.setValue(c,a);break}},_select:function(a,b,c,d,e){if(.5<=d)for(d=0;d!==e;++d)a[b+d]=a[c+d]},_slerp:function(a,b,c,d){f.Quaternion.slerpFlat(a,b,a,b,a,c,d)},_lerp:function(a,b,c,d,e){for(var g=1-d,h=0;h!==e;++h){var k=b+h;a[k]=a[k]*
g+a[c+h]*d}}};f.BooleanKeyframeTrack=function(a,b,c){f.KeyframeTrack.call(this,a,b,c)};f.BooleanKeyframeTrack.prototype=Object.assign(Object.create(f.KeyframeTrack.prototype),{constructor:f.BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:f.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});f.ColorKeyframeTrack=function(a,b,c,d){f.KeyframeTrack.call(this,a,b,c,d)};
f.ColorKeyframeTrack.prototype=Object.assign(Object.create(f.KeyframeTrack.prototype),{constructor:f.ColorKeyframeTrack,ValueTypeName:"color"});f.NumberKeyframeTrack=function(a,b,c,d){f.KeyframeTrack.call(this,a,b,c,d)};f.NumberKeyframeTrack.prototype=Object.assign(Object.create(f.KeyframeTrack.prototype),{constructor:f.NumberKeyframeTrack,ValueTypeName:"number"});f.QuaternionKeyframeTrack=function(a,b,c,d){f.KeyframeTrack.call(this,a,b,c,d)};
f.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(f.KeyframeTrack.prototype),{constructor:f.QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:f.InterpolateLinear,InterpolantFactoryMethodLinear:function(a){return new f.QuaternionLinearInterpolant(this.times,this.values,cc(this),a)},InterpolantFactoryMethodSmooth:void 0});f.StringKeyframeTrack=function(a,b,c,d){f.KeyframeTrack.call(this,a,b,c,d)};
f.StringKeyframeTrack.prototype=Object.assign(Object.create(f.KeyframeTrack.prototype),{constructor:f.StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:f.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});f.VectorKeyframeTrack=function(a,b,c,d){f.KeyframeTrack.call(this,a,b,c,d)};f.VectorKeyframeTrack.prototype=Object.assign(Object.create(f.KeyframeTrack.prototype),{constructor:f.VectorKeyframeTrack,ValueTypeName:"vector"});
f.Audio=function(a){f.Object3D.call(this);this.type="Audio";this.context=a.context;this.source=this.context.createBufferSource();this.source.onended=this.onEnded.bind(this);this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.startTime=0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.sourceType="empty";this.filters=[]};
f.Audio.prototype=Object.assign(Object.create(f.Object3D.prototype),{constructor:f.Audio,getOutput:function(){return this.gain},setNodeSource:function(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this},setBuffer:function(a){this.source.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this},play:function(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else{var a=this.context.createBufferSource();a.buffer=this.source.buffer;a.loop=this.source.loop;a.onended=this.source.onended;a.start(0,this.startTime);a.playbackRate.value=this.playbackRate;this.isPlaying=!0;this.source=a;return this.connect()}},pause:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.source.stop(),this.startTime=this.context.currentTime,this},stop:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.source.stop(),this.startTime=0,this},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].disconnect(this.filters[a]);
this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(a){a||(a=[]);!0===this.isPlaying?(this.disconnect(),this.filters=a,this.connect()):this.filters=a;return this},getFilter:function(){return this.getFilters()[0]},setFilter:function(a){return this.setFilters(a?[a]:[])},setPlaybackRate:function(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.playbackRate=a,!0===this.isPlaying&&(this.source.playbackRate.value=this.playbackRate),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.source.loop},setLoop:function(a){!1===this.hasPlaybackControl?console.warn("THREE.Audio: this Audio has no playback control."):this.source.loop=a},getVolume:function(){return this.gain.gain.value},
setVolume:function(a){this.gain.gain.value=a;return this}});f.AudioAnalyser=function(a,b){this.analyser=a.context.createAnalyser();this.analyser.fftSize=void 0!==b?b:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)};
Object.assign(f.AudioAnalyser.prototype,{getFrequencyData:function(){this.analyser.getByteFrequencyData(this.data);return this.data},getAverageFrequency:function(){for(var a=0,b=this.getFrequencyData(),c=0;c<b.length;c++)a+=b[c];return a/b.length}});Object.defineProperty(f,"AudioContext",{get:function(){var a;return function(){void 0===a&&(a=new (window.AudioContext||window.webkitAudioContext));return a}}()});
f.PositionalAudio=function(a){f.Audio.call(this,a);this.panner=this.context.createPanner();this.panner.connect(this.gain)};
f.PositionalAudio.prototype=Object.assign(Object.create(f.Audio.prototype),{constructor:f.PositionalAudio,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(a){this.panner.refDistance=a},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(a){this.panner.rolloffFactor=a},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(a){this.panner.distanceModel=a},getMaxDistance:function(){return this.panner.maxDistance},
setMaxDistance:function(a){this.panner.maxDistance=a},updateMatrixWorld:function(){var a=new f.Vector3;return function(b){f.Object3D.prototype.updateMatrixWorld.call(this,b);Bb(a,this.matrixWorld);this.panner.setPosition(a.x,a.y,a.z)}}()});f.AudioListener=function(){f.Object3D.call(this);this.type="AudioListener";this.context=f.AudioContext;this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null};
f.AudioListener.prototype=Object.assign(Object.create(f.Object3D.prototype),{constructor:f.AudioListener,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):
this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(a){this.gain.gain.value=a},updateMatrixWorld:function(){var a=new f.Vector3,b=new f.Quaternion,c=new f.Vector3,d=new f.Vector3;return function(e){f.Object3D.prototype.updateMatrixWorld.call(this,e);e=this.context.listener;var g=this.up;this.matrixWorld.decompose(a,b,c);mb(d.set(0,
0,-1),b);e.setPosition(a.x,a.y,a.z);e.setOrientation(d.x,d.y,d.z,g.x,g.y,g.z)}}()});f.Camera=function(){f.Object3D.call(this);this.type="Camera";this.matrixWorldInverse=new f.Matrix4;this.projectionMatrix=new f.Matrix4};f.Camera.prototype=Object.create(f.Object3D.prototype);fa=f.Camera.prototype;fa.constructor=f.Camera;fa.getWorldDirection=function(){var a=new f.Quaternion;return function(b){b=b||new f.Vector3;this.getWorldQuaternion(a);return mb(b.set(0,0,-1),a)}}();
fa.lookAt=function(){var a=new f.Matrix4;return function(b){a.lookAt(this.position,b,this.up);this.quaternion.setFromRotationMatrix(a)}}();fa.clone=function(){return(new this.constructor).copy(this)};fa.copy=function(a){f.Object3D.prototype.copy.call(this,a);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);return this};
f.CubeCamera=function(a,b,c){f.Object3D.call(this);this.type="CubeCamera";var d=new f.PerspectiveCamera(90,1,a,b);d.up.set(0,-1,0);d.lookAt(new f.Vector3(1,0,0));this.add(d);var e=new f.PerspectiveCamera(90,1,a,b);e.up.set(0,-1,0);e.lookAt(new f.Vector3(-1,0,0));this.add(e);var g=new f.PerspectiveCamera(90,1,a,b);g.up.set(0,0,1);g.lookAt(new f.Vector3(0,1,0));this.add(g);var h=new f.PerspectiveCamera(90,1,a,b);h.up.set(0,0,-1);h.lookAt(new f.Vector3(0,-1,0));this.add(h);var k=new f.PerspectiveCamera(90,
1,a,b);k.up.set(0,-1,0);k.lookAt(new f.Vector3(0,0,1));this.add(k);var l=new f.PerspectiveCamera(90,1,a,b);l.up.set(0,-1,0);l.lookAt(new f.Vector3(0,0,-1));this.add(l);this.renderTarget=new f.WebGLRenderTargetCube(c,c,{format:f.RGBFormat,magFilter:f.LinearFilter,minFilter:f.LinearFilter});this.updateCubeMap=function(m,n){null===this.parent&&this.updateMatrixWorld();var q=this.renderTarget,p=q.texture.generateMipmaps;q.texture.generateMipmaps=!1;q.activeCubeFace=0;m.render(n,d,q);q.activeCubeFace=
1;m.render(n,e,q);q.activeCubeFace=2;m.render(n,g,q);q.activeCubeFace=3;m.render(n,h,q);q.activeCubeFace=4;m.render(n,k,q);q.texture.generateMipmaps=p;q.activeCubeFace=5;m.render(n,l,q);m.setRenderTarget(null)}};f.CubeCamera.prototype=Object.create(f.Object3D.prototype);f.CubeCamera.prototype.constructor=f.CubeCamera;
f.OrthographicCamera=function(a,b,c,d,e,g){f.Camera.call(this);this.type="OrthographicCamera";this.zoom=1;this.left=a;this.right=b;this.top=c;this.bottom=d;this.near=void 0!==e?e:.1;this.far=void 0!==g?g:2E3;this.updateProjectionMatrix()};
f.OrthographicCamera.prototype=Object.assign(Object.create(f.Camera.prototype),{constructor:f.OrthographicCamera,copy:function(a){f.Camera.prototype.copy.call(this,a);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;return this},updateProjectionMatrix:function(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/2,e=c-a;a=c+a;c=d+b;b=d-b;d=this.near;
var g=this.far,h=this.projectionMatrix.elements,k=1/(a-e),l=1/(c-b),m=1/(g-d);h[0]=2*k;h[4]=0;h[8]=0;h[12]=-((a+e)*k);h[1]=0;h[5]=2*l;h[9]=0;h[13]=-((c+b)*l);h[2]=0;h[6]=0;h[10]=-2*m;h[14]=-((g+d)*m);h[3]=0;h[7]=0;h[11]=0;h[15]=1},toJSON:function(a){a=f.Object3D.prototype.toJSON.call(this,a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;return a}});
f.PerspectiveCamera=function(a,b,c,d){f.Camera.call(this);this.type="PerspectiveCamera";this.fov=void 0!==a?a:50;this.zoom=1;this.near=void 0!==c?c:.1;this.far=void 0!==d?d:2E3;this.focus=10;this.aspect=void 0!==b?b:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()};
f.PerspectiveCamera.prototype=Object.assign(Object.create(f.Camera.prototype),{constructor:f.PerspectiveCamera,copy:function(a){f.Camera.prototype.copy.call(this,a);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this},setFocalLength:function(a){this.fov=2*f.Math.RAD2DEG*Math.atan(.5*this.getFilmHeight()/a);this.updateProjectionMatrix()},
getFocalLength:function(){return.5*this.getFilmHeight()/Math.tan(.5*f.Math.DEG2RAD*this.fov)},getEffectiveFOV:function(){return 2*f.Math.RAD2DEG*Math.atan(Math.tan(.5*f.Math.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(a,b,c,d,e,g){this.aspect=a/b;this.view={fullWidth:a,fullHeight:b,offsetX:c,offsetY:d,width:e,height:g};this.updateProjectionMatrix()},
clearViewOffset:function(){this.view=null;this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=this.near,b=a*Math.tan(.5*f.Math.DEG2RAD*this.fov)/this.zoom,c=2*b,d=this.aspect*c,e=-.5*d,g=this.view;if(null!==g){var h=g.fullWidth,k=g.fullHeight;e+=g.offsetX*d/h;b-=g.offsetY*c/k;d*=g.width/h;c*=g.height/k}g=this.filmOffset;0!==g&&(e+=a*g/this.getFilmWidth());Lb(this.projectionMatrix,e,e+d,b-c,b,a,this.far)},toJSON:function(a){a=f.Object3D.prototype.toJSON.call(this,a);a.object.fov=
this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a}});
f.StereoCamera=function(){this.type="StereoCamera";this.aspect=1;this.cameraL=new f.PerspectiveCamera;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new f.PerspectiveCamera;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1};
Object.assign(f.StereoCamera.prototype,{update:function(){var a,b,c,d,e,g=new f.Matrix4,h=new f.Matrix4;return function(k){if(a!==k.focus||b!==k.fov||c!==k.aspect*this.aspect||d!==k.near||e!==k.far){a=k.focus;b=k.fov;c=k.aspect*this.aspect;d=k.near;e=k.far;var l=k.projectionMatrix.clone(),m=.032*d/a,n=d*Math.tan(f.Math.DEG2RAD*b*.5);h.elements[12]=-.032;g.elements[12]=.032;var q=-n*c+m;var p=n*c+m;l.elements[0]=2*d/(p-q);l.elements[8]=(p+q)/(p-q);this.cameraL.projectionMatrix.copy(l);q=-n*c-m;p=n*
c-m;l.elements[0]=2*d/(p-q);l.elements[8]=(p+q)/(p-q);this.cameraR.projectionMatrix.copy(l)}this.cameraL.matrixWorld.copy(k.matrixWorld).multiply(h);this.cameraR.matrixWorld.copy(k.matrixWorld).multiply(g)}}()});f.Light=function(a,b){f.Object3D.call(this);this.type="Light";this.color=new f.Color(a);this.intensity=void 0!==b?b:1;this.receiveShadow=void 0};
f.Light.prototype=Object.assign(Object.create(f.Object3D.prototype),{constructor:f.Light,copy:function(a){f.Object3D.prototype.copy.call(this,a);this.color.copy(a.color);this.intensity=a.intensity;return this},toJSON:function(a){a=f.Object3D.prototype.toJSON.call(this,a);a.object.color=db(this.color);a.object.intensity=this.intensity;void 0!==this.groundColor&&(a.object.groundColor=db(this.groundColor));void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=
this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);return a}});f.LightShadow=function(a){this.camera=a;this.bias=0;this.radius=1;this.mapSize=new f.Vector2(512,512);this.map=null;this.matrix=new f.Matrix4};Object.assign(f.LightShadow.prototype,{copy:function(a){this.camera=a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this},clone:function(){return(new this.constructor).copy(this)}});
f.AmbientLight=function(a,b){f.Light.call(this,a,b);this.type="AmbientLight";this.castShadow=void 0};f.AmbientLight.prototype=Object.assign(Object.create(f.Light.prototype),{constructor:f.AmbientLight});f.DirectionalLight=function(a,b){f.Light.call(this,a,b);this.type="DirectionalLight";this.position.set(0,1,0);this.updateMatrix();this.target=new f.Object3D;this.shadow=new f.DirectionalLightShadow};
f.DirectionalLight.prototype=Object.assign(Object.create(f.Light.prototype),{constructor:f.DirectionalLight,copy:function(a){f.Light.prototype.copy.call(this,a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});f.DirectionalLightShadow=function(){f.LightShadow.call(this,new f.OrthographicCamera(-5,5,5,-5,.5,500))};f.DirectionalLightShadow.prototype=Object.assign(Object.create(f.LightShadow.prototype),{constructor:f.DirectionalLightShadow});
f.HemisphereLight=function(a,b,c){f.Light.call(this,a,c);this.type="HemisphereLight";this.castShadow=void 0;this.position.set(0,1,0);this.updateMatrix();this.groundColor=new f.Color(b)};f.HemisphereLight.prototype=Object.assign(Object.create(f.Light.prototype),{constructor:f.HemisphereLight,copy:function(a){f.Light.prototype.copy.call(this,a);this.groundColor.copy(a.groundColor);return this}});
f.PointLight=function(a,b,c,d){f.Light.call(this,a,b);this.type="PointLight";Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}});this.distance=void 0!==c?c:0;this.decay=void 0!==d?d:1;this.shadow=new f.LightShadow(new f.PerspectiveCamera(90,1,.5,500))};
f.PointLight.prototype=Object.assign(Object.create(f.Light.prototype),{constructor:f.PointLight,copy:function(a){f.Light.prototype.copy.call(this,a);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();return this}});
f.SpotLight=function(a,b,c,d,e,g){f.Light.call(this,a,b);this.type="SpotLight";this.position.set(0,1,0);this.updateMatrix();this.target=new f.Object3D;Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(h){this.intensity=h/Math.PI}});this.distance=void 0!==c?c:0;this.angle=void 0!==d?d:Math.PI/3;this.penumbra=void 0!==e?e:0;this.decay=void 0!==g?g:1;this.shadow=new f.SpotLightShadow};
f.SpotLight.prototype=Object.assign(Object.create(f.Light.prototype),{constructor:f.SpotLight,copy:function(a){f.Light.prototype.copy.call(this,a);this.distance=a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});f.SpotLightShadow=function(){f.LightShadow.call(this,new f.PerspectiveCamera(50,1,.5,500))};
f.SpotLightShadow.prototype=Object.assign(Object.create(f.LightShadow.prototype),{constructor:f.SpotLightShadow,update:function(a){var b=2*f.Math.RAD2DEG*a.angle,c=this.mapSize.width/this.mapSize.height;a=a.distance||500;var d=this.camera;if(b!==d.fov||c!==d.aspect||a!==d.far)d.fov=b,d.aspect=c,d.far=a,d.updateProjectionMatrix()}});f.AudioLoader=function(a){this.manager=void 0!==a?a:f.DefaultLoadingManager};
f.AudioLoader.prototype={constructor:f.AudioLoader,load:function(a,b,c,d){var e=new f.XHRLoader(this.manager);ec(e);e.load(a,function(g){f.AudioContext.decodeAudioData(g,function(h){b(h)})},c,d)}};f.Cache={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};
f.Loader=function(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}};function fc(a){a=a.split("/");if(1===a.length)return"./";a.pop();return a.join("/")+"/"}function gc(a,b,c){for(var d=f.Loader.prototype,e=[],g=0;g<a.length;++g)e[g]=d.createMaterial(a[g],b,c);return e}
f.Loader.prototype={constructor:f.Loader,crossOrigin:void 0,createMaterial:function(){var a,b,c;return function(d,e,g){function h(q,p,t,r,v){q=e+q;var u=f.Loader.Handlers.get(q);null!==u?q=u.load(q):(b.setCrossOrigin(g),q=b.load(q));void 0!==p&&(q.repeat.fromArray(p),1!==p[0]&&(q.wrapS=f.RepeatWrapping),1!==p[1]&&(q.wrapT=f.RepeatWrapping));void 0!==t&&q.offset.fromArray(t);void 0!==r&&("repeat"===r[0]&&(q.wrapS=f.RepeatWrapping),"mirror"===r[0]&&(q.wrapS=f.MirroredRepeatWrapping),"repeat"===r[1]&&
(q.wrapT=f.RepeatWrapping),"mirror"===r[1]&&(q.wrapT=f.MirroredRepeatWrapping));void 0!==v&&(q.anisotropy=v);p=f.Math.generateUUID();k[p]=q;return p}void 0===a&&(a=new f.Color);void 0===b&&(b=new f.TextureLoader);void 0===c&&(c=new f.MaterialLoader);var k={},l={uuid:f.Math.generateUUID(),type:"MeshLambertMaterial"},m;for(m in d){var n=d[m];switch(m){case "DbgColor":case "DbgIndex":case "opticalDensity":case "illumination":break;case "DbgName":l.name=n;break;case "blending":l.blending=f[n];break;case "colorAmbient":case "mapAmbient":console.warn("THREE.Loader.createMaterial:",
m,"is no longer supported.");break;case "colorDiffuse":l.color=db(a.fromArray(n));break;case "colorSpecular":l.specular=db(a.fromArray(n));break;case "colorEmissive":l.emissive=db(a.fromArray(n));break;case "specularCoef":l.shininess=n;break;case "shading":"basic"===n.toLowerCase()&&(l.type="MeshBasicMaterial");"phong"===n.toLowerCase()&&(l.type="MeshPhongMaterial");break;case "mapDiffuse":l.map=h(n,d.mapDiffuseRepeat,d.mapDiffuseOffset,d.mapDiffuseWrap,d.mapDiffuseAnisotropy);break;case "mapDiffuseRepeat":case "mapDiffuseOffset":case "mapDiffuseWrap":case "mapDiffuseAnisotropy":break;
case "mapLight":l.lightMap=h(n,d.mapLightRepeat,d.mapLightOffset,d.mapLightWrap,d.mapLightAnisotropy);break;case "mapLightRepeat":case "mapLightOffset":case "mapLightWrap":case "mapLightAnisotropy":break;case "mapAO":l.aoMap=h(n,d.mapAORepeat,d.mapAOOffset,d.mapAOWrap,d.mapAOAnisotropy);break;case "mapAORepeat":case "mapAOOffset":case "mapAOWrap":case "mapAOAnisotropy":break;case "mapBump":l.bumpMap=h(n,d.mapBumpRepeat,d.mapBumpOffset,d.mapBumpWrap,d.mapBumpAnisotropy);break;case "mapBumpScale":l.bumpScale=
n;break;case "mapBumpRepeat":case "mapBumpOffset":case "mapBumpWrap":case "mapBumpAnisotropy":break;case "mapNormal":l.normalMap=h(n,d.mapNormalRepeat,d.mapNormalOffset,d.mapNormalWrap,d.mapNormalAnisotropy);break;case "mapNormalFactor":l.normalScale=[n,n];break;case "mapNormalRepeat":case "mapNormalOffset":case "mapNormalWrap":case "mapNormalAnisotropy":break;case "mapSpecular":l.specularMap=h(n,d.mapSpecularRepeat,d.mapSpecularOffset,d.mapSpecularWrap,d.mapSpecularAnisotropy);break;case "mapSpecularRepeat":case "mapSpecularOffset":case "mapSpecularWrap":case "mapSpecularAnisotropy":break;
case "mapAlpha":l.alphaMap=h(n,d.mapAlphaRepeat,d.mapAlphaOffset,d.mapAlphaWrap,d.mapAlphaAnisotropy);break;case "mapAlphaRepeat":case "mapAlphaOffset":case "mapAlphaWrap":case "mapAlphaAnisotropy":break;case "flipSided":l.side=f.BackSide;break;case "doubleSided":l.side=f.DoubleSide;break;case "transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity");l.opacity=n;break;case "depthTest":case "depthWrite":case "colorWrite":case "opacity":case "reflectivity":case "transparent":case "visible":case "wireframe":l[m]=
n;break;case "vertexColors":!0===n&&(l.vertexColors=f.VertexColors);"face"===n&&(l.vertexColors=f.FaceColors);break;default:console.error("THREE.Loader.createMaterial: Unsupported",m,n)}}"MeshBasicMaterial"===l.type&&delete l.emissive;"MeshPhongMaterial"!==l.type&&delete l.specular;1>l.opacity&&(l.transparent=!0);c.textures=k;return c.parse(l)}}()};
f.Loader.Handlers={handlers:[],add:function(a,b){this.handlers.push(a,b)},get:function(a){for(var b=this.handlers,c=0,d=b.length;c<d;c+=2){var e=b[c+1];if(b[c].test(a))return e}return null}};f.XHRLoader=function(a){this.manager=void 0!==a?a:f.DefaultLoadingManager};function ec(a){a.responseType="arraybuffer"}
f.XHRLoader.prototype={constructor:f.XHRLoader,load:function(a,b,c,d){void 0!==this.path&&(a=this.path+a);var e=this,g=f.Cache.get(a);if(void 0!==g)return b&&setTimeout(function(){b(g)},0),g;var h=new XMLHttpRequest;h.overrideMimeType("text/plain");h.open("GET",a,!0);h.addEventListener("load",function(k){var l=k.target.response;f.Cache.add(a,l);200===this.status?(b&&b(l),e.manager.itemEnd(a)):0===this.status?(console.warn("THREE.XHRLoader: HTTP Status 0 received."),b&&b(l),e.manager.itemEnd(a)):(d&&
d(k),e.manager.itemError(a))},!1);void 0!==c&&h.addEventListener("progress",function(k){c(k)},!1);h.addEventListener("error",function(k){d&&d(k);e.manager.itemError(a)},!1);void 0!==this.responseType&&(h.responseType=this.responseType);void 0!==this.withCredentials&&(h.withCredentials=this.withCredentials);h.send(null);e.manager.itemStart(a);return h},setPath:function(a){this.path=a}};f.FontLoader=function(a){this.manager=void 0!==a?a:f.DefaultLoadingManager};
f.FontLoader.prototype={constructor:f.FontLoader,load:function(a,b,c,d){var e=this;(new f.XHRLoader(this.manager)).load(a,function(g){try{var h=JSON.parse(g)}catch(k){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),h=JSON.parse(g.substring(65,g.length-2))}g=e.parse(h);b&&b(g)},c,d)},parse:function(a){return new f.Font(a)}};f.ImageLoader=function(a){this.manager=void 0!==a?a:f.DefaultLoadingManager};
f.ImageLoader.prototype={constructor:f.ImageLoader,load:function(a,b,c,d){void 0!==this.path&&(a=this.path+a);var e=this,g=f.Cache.get(a);if(void 0!==g)return e.manager.itemStart(a),b?setTimeout(function(){b(g);e.manager.itemEnd(a)},0):e.manager.itemEnd(a),g;var h=document.createElement("img");h.addEventListener("load",function(){f.Cache.add(a,this);b&&b(this);e.manager.itemEnd(a)},!1);void 0!==c&&h.addEventListener("progress",function(k){c(k)},!1);h.addEventListener("error",function(k){d&&d(k);e.manager.itemError(a)},
!1);void 0!==this.crossOrigin&&(h.crossOrigin=this.crossOrigin);e.manager.itemStart(a);h.src=a;return h},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};f.JSONLoader=function(a){"boolean"===typeof a&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),a=void 0);this.manager=void 0!==a?a:f.DefaultLoadingManager;this.withCredentials=!1};
f.JSONLoader.prototype={constructor:f.JSONLoader,get statusDomElement(){void 0===this._statusDomElement&&(this._statusDomElement=document.createElement("div"));console.warn("THREE.JSONLoader: .statusDomElement has been removed.");return this._statusDomElement},load:function(a,b,c,d){var e=this,g=this.texturePath&&"string"===typeof this.texturePath?this.texturePath:fc(a),h=new f.XHRLoader(this.manager);h.withCredentials=this.withCredentials;h.load(a,function(k){k=JSON.parse(k);var l=k.metadata;if(void 0!==
l&&(l=l.type,void 0!==l)){if("object"===l.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.ObjectLoader instead.");return}if("scene"===l.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.SceneLoader instead.");return}}k=e.parse(k,g);b(k.geometry,k.materials)},c,d)},setTexturePath:function(a){this.texturePath=a},parse:function(a,b){var c=new f.Geometry,d=void 0!==a.scale?1/a.scale:1;(function(e){var g,h,k,l=a.faces;var m=a.vertices;var n=
a.normals,q=a.colors,p=0;if(void 0!==a.uvs){for(g=0;g<a.uvs.length;g++)a.uvs[g].length&&p++;for(g=0;g<p;g++)c.faceVertexUvs[g]=[]}var t=0;for(k=m.length;t<k;)g=new f.Vector3,g.x=m[t++]*e,g.y=m[t++]*e,g.z=m[t++]*e,c.vertices.push(g);t=0;for(k=l.length;t<k;){e=l[t++];var r=e&1;var v=e&2;g=e&8;var u=e&16;var w=e&32;m=e&64;e&=128;if(r){r=new f.Face3;r.a=l[t];r.b=l[t+1];r.c=l[t+3];var x=new f.Face3;x.a=l[t+1];x.b=l[t+2];x.c=l[t+3];t+=4;v&&(v=l[t++],r.materialIndex=v,x.materialIndex=v);v=c.faces.length;
if(g)for(g=0;g<p;g++){var A=a.uvs[g];c.faceVertexUvs[g][v]=[];c.faceVertexUvs[g][v+1]=[];for(h=0;4>h;h++){var y=l[t++];var B=A[2*y];y=A[2*y+1];B=new f.Vector2(B,y);2!==h&&c.faceVertexUvs[g][v].push(B);0!==h&&c.faceVertexUvs[g][v+1].push(B)}}u&&(u=3*l[t++],r.normal.set(n[u++],n[u++],n[u]),x.normal.copy(r.normal));if(w)for(g=0;4>g;g++)u=3*l[t++],w=new f.Vector3(n[u++],n[u++],n[u]),2!==g&&r.vertexNormals.push(w),0!==g&&x.vertexNormals.push(w);m&&(m=l[t++],m=q[m],bb(r.color,m),bb(x.color,m));if(e)for(g=
0;4>g;g++)m=l[t++],m=q[m],2!==g&&r.vertexColors.push(new f.Color(m)),0!==g&&x.vertexColors.push(new f.Color(m));c.faces.push(r);c.faces.push(x)}else{r=new f.Face3;r.a=l[t++];r.b=l[t++];r.c=l[t++];v&&(v=l[t++],r.materialIndex=v);v=c.faces.length;if(g)for(g=0;g<p;g++)for(A=a.uvs[g],c.faceVertexUvs[g][v]=[],h=0;3>h;h++)y=l[t++],B=A[2*y],y=A[2*y+1],B=new f.Vector2(B,y),c.faceVertexUvs[g][v].push(B);u&&(u=3*l[t++],r.normal.set(n[u++],n[u++],n[u]));if(w)for(g=0;3>g;g++)u=3*l[t++],w=new f.Vector3(n[u++],
n[u++],n[u]),r.vertexNormals.push(w);m&&(m=l[t++],bb(r.color,q[m]));if(e)for(g=0;3>g;g++)m=l[t++],r.vertexColors.push(new f.Color(q[m]));c.faces.push(r)}}})(d);(function(){var e=void 0!==a.influencesPerVertex?a.influencesPerVertex:2;if(a.skinWeights)for(var g=0,h=a.skinWeights.length;g<h;g+=e)c.skinWeights.push(new f.Vector4(a.skinWeights[g],1<e?a.skinWeights[g+1]:0,2<e?a.skinWeights[g+2]:0,3<e?a.skinWeights[g+3]:0));if(a.skinIndices)for(g=0,h=a.skinIndices.length;g<h;g+=e)c.skinIndices.push(new f.Vector4(a.skinIndices[g],
1<e?a.skinIndices[g+1]:0,2<e?a.skinIndices[g+2]:0,3<e?a.skinIndices[g+3]:0));c.bones=a.bones;c.bones&&0<c.bones.length&&(c.skinWeights.length!==c.skinIndices.length||c.skinIndices.length!==c.vertices.length)&&console.warn("When skinning, number of vertices ("+c.vertices.length+"), skinIndices ("+c.skinIndices.length+"), and skinWeights ("+c.skinWeights.length+") should match.")})();(function(e){if(void 0!==a.morphTargets)for(var g=0,h=a.morphTargets.length;g<h;g++){c.morphTargets[g]={};c.morphTargets[g].name=
a.morphTargets[g].name;c.morphTargets[g].vertices=[];for(var k=c.morphTargets[g].vertices,l=a.morphTargets[g].vertices,m=0,n=l.length;m<n;m+=3){var q=new f.Vector3;q.x=l[m]*e;q.y=l[m+1]*e;q.z=l[m+2]*e;k.push(q)}}if(void 0!==a.morphColors&&0<a.morphColors.length)for(console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'),e=c.faces,k=a.morphColors[0].colors,g=0,h=e.length;g<h;g++)e[g].color.fromArray(k,3*g)})(d);(function(){var e=[],g=[];void 0!==a.animation&&
g.push(a.animation);void 0!==a.animations&&(a.animations.length?g=g.concat(a.animations):g.push(a.animations));for(var h=0;h<g.length;h++){var k=f.AnimationClip.parseAnimation(g[h],c.bones);k&&e.push(k)}c.morphTargets&&(g=f.AnimationClip.CreateClipsFromMorphTargetSequences(c.morphTargets,10),e=e.concat(g));0<e.length&&(c.animations=e)})();c.computeFaceNormals();c.computeBoundingSphere();if(void 0===a.materials||0===a.materials.length)return{geometry:c};b=gc(a.materials,b,this.crossOrigin);return{geometry:c,
materials:b}}};f.LoadingManager=function(a){var b=this,c=!1,d=0,e=0;this.onStart=void 0;this.onLoad=a;this.onError=this.onProgress=void 0;this.itemStart=function(g){e++;if(!1===c&&void 0!==b.onStart)b.onStart(g,d,e);c=!0};this.itemEnd=function(g){d++;if(void 0!==b.onProgress)b.onProgress(g,d,e);if(d===e&&(c=!1,void 0!==b.onLoad))b.onLoad()};this.itemError=function(g){if(void 0!==b.onError)b.onError(g)}};f.DefaultLoadingManager=new f.LoadingManager;
f.BufferGeometryLoader=function(a){this.manager=void 0!==a?a:f.DefaultLoadingManager};
f.BufferGeometryLoader.prototype={constructor:f.BufferGeometryLoader,load:function(a,b,c,d){var e=this;(new f.XHRLoader(e.manager)).load(a,function(g){b(e.parse(JSON.parse(g)))},c,d)},parse:function(a){var b=new f.BufferGeometry,c=a.data.index,d={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};void 0!==c&&(c=new d[c.type](c.array),
b.setIndex(new f.BufferAttribute(c,1)));var e=a.data.attributes;for(h in e){var g=e[h];c=new d[g.type](g.array);b.addAttribute(h,new f.BufferAttribute(c,g.itemSize,g.normalized))}d=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==d){var h=0;for(c=d.length;h!==c;++h)e=d[h],b.addGroup(e.start,e.count,e.materialIndex)}a=a.data.boundingSphere;void 0!==a&&(d=new f.Vector3,void 0!==a.center&&d.fromArray(a.center),b.boundingSphere=new f.Sphere(d,a.radius));return b}};
f.MaterialLoader=function(a){this.manager=void 0!==a?a:f.DefaultLoadingManager;this.textures={}};function lc(a,b){a=a.textures;void 0===a[b]&&console.warn("THREE.MaterialLoader: Undefined texture",b);return a[b]}
f.MaterialLoader.prototype={constructor:f.MaterialLoader,load:function(a,b,c,d){var e=this;(new f.XHRLoader(e.manager)).load(a,function(g){b(e.parse(JSON.parse(g)))},c,d)},parse:function(a){var b=new f[a.type];void 0!==a.uuid&&(b.uuid=a.uuid);void 0!==a.name&&(b.name=a.name);void 0!==a.color&&bb(b.color,a.color);void 0!==a.roughness&&(b.roughness=a.roughness);void 0!==a.metalness&&(b.metalness=a.metalness);void 0!==a.emissive&&bb(b.emissive,a.emissive);void 0!==a.specular&&bb(b.specular,a.specular);
void 0!==a.shininess&&(b.shininess=a.shininess);void 0!==a.uniforms&&(b.uniforms=a.uniforms);void 0!==a.vertexShader&&(b.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(b.fragmentShader=a.fragmentShader);void 0!==a.vertexColors&&(b.vertexColors=a.vertexColors);void 0!==a.shading&&(b.shading=a.shading);void 0!==a.blending&&(b.blending=a.blending);void 0!==a.side&&(b.side=a.side);void 0!==a.opacity&&(b.opacity=a.opacity);void 0!==a.transparent&&(b.transparent=a.transparent);void 0!==a.alphaTest&&
(b.alphaTest=a.alphaTest);void 0!==a.depthTest&&(b.depthTest=a.depthTest);void 0!==a.depthWrite&&(b.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(b.colorWrite=a.colorWrite);void 0!==a.wireframe&&(b.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(b.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.size&&(b.size=a.size);void 0!==a.sizeAttenuation&&(b.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(b.map=lc(this,a.map));void 0!==a.alphaMap&&(b.alphaMap=lc(this,a.alphaMap),b.transparent=
!0);void 0!==a.bumpMap&&(b.bumpMap=lc(this,a.bumpMap));void 0!==a.bumpScale&&(b.bumpScale=a.bumpScale);void 0!==a.normalMap&&(b.normalMap=lc(this,a.normalMap));if(void 0!==a.normalScale){var c=a.normalScale;!1===Array.isArray(c)&&(c=[c,c]);b.normalScale=(new f.Vector2).fromArray(c)}void 0!==a.displacementMap&&(b.displacementMap=lc(this,a.displacementMap));void 0!==a.displacementScale&&(b.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(b.displacementBias=a.displacementBias);void 0!==
a.roughnessMap&&(b.roughnessMap=lc(this,a.roughnessMap));void 0!==a.metalnessMap&&(b.metalnessMap=lc(this,a.metalnessMap));void 0!==a.emissiveMap&&(b.emissiveMap=lc(this,a.emissiveMap));void 0!==a.emissiveIntensity&&(b.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(b.specularMap=lc(this,a.specularMap));void 0!==a.envMap&&(b.envMap=lc(this,a.envMap),b.combine=f.MultiplyOperation);a.reflectivity&&(b.reflectivity=a.reflectivity);void 0!==a.lightMap&&(b.lightMap=lc(this,a.lightMap));
void 0!==a.lightMapIntensity&&(b.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(b.aoMap=lc(this,a.aoMap));void 0!==a.aoMapIntensity&&(b.aoMapIntensity=a.aoMapIntensity);if(void 0!==a.materials){c=0;for(var d=a.materials.length;c<d;c++)b.materials.push(this.parse(a.materials[c]))}return b}};f.ObjectLoader=function(a){this.manager=void 0!==a?a:f.DefaultLoadingManager;this.texturePath=""};
function mc(a,b){var c={};if(void 0!==b)for(var d=new f.JSONLoader,e=new f.BufferGeometryLoader,g=0,h=b.length;g<h;g++){var k=b[g];switch(k.type){case "PlaneGeometry":case "PlaneBufferGeometry":var l=new f[k.type](k.width,k.height,k.widthSegments,k.heightSegments);break;case "BoxGeometry":case "BoxBufferGeometry":case "CubeGeometry":l=new f[k.type](k.width,k.height,k.depth,k.widthSegments,k.heightSegments,k.depthSegments);break;case "CircleGeometry":case "CircleBufferGeometry":l=new f[k.type](k.radius,
k.segments,k.thetaStart,k.thetaLength);break;case "CylinderGeometry":case "CylinderBufferGeometry":l=new f[k.type](k.radiusTop,k.radiusBottom,k.height,k.radialSegments,k.heightSegments,k.openEnded,k.thetaStart,k.thetaLength);break;case "ConeGeometry":case "ConeBufferGeometry":l=new f[k.type](k.radius,k.height,k.radialSegments,k.heightSegments,k.openEnded,k.thetaStart,k.thetaLength);break;case "SphereGeometry":case "SphereBufferGeometry":l=new f[k.type](k.radius,k.widthSegments,k.heightSegments,k.phiStart,
k.phiLength,k.thetaStart,k.thetaLength);break;case "DodecahedronGeometry":case "IcosahedronGeometry":case "OctahedronGeometry":case "TetrahedronGeometry":l=new f[k.type](k.radius,k.detail);break;case "RingGeometry":case "RingBufferGeometry":l=new f[k.type](k.innerRadius,k.outerRadius,k.thetaSegments,k.phiSegments,k.thetaStart,k.thetaLength);break;case "TorusGeometry":case "TorusBufferGeometry":l=new f[k.type](k.radius,k.tube,k.radialSegments,k.tubularSegments,k.arc);break;case "TorusKnotGeometry":case "TorusKnotBufferGeometry":l=
new f[k.type](k.radius,k.tube,k.tubularSegments,k.radialSegments,k.p,k.q);break;case "LatheGeometry":case "LatheBufferGeometry":l=new f[k.type](k.points,k.segments,k.phiStart,k.phiLength);break;case "BufferGeometry":l=e.parse(k);break;case "Geometry":l=d.parse(k.data,a.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+k.type+'"');continue}l.uuid=k.uuid;void 0!==k.name&&(l.name=k.name);c[k.uuid]=l}return c}
function nc(a,b,c){function d(l){e.manager.itemStart(l);return h.load(l,function(){e.manager.itemEnd(l)})}var e=a,g={};if(void 0!==b&&0<b.length){var h=new f.ImageLoader(new f.LoadingManager(c));h.setCrossOrigin(a.crossOrigin);a=0;for(c=b.length;a<c;a++){var k=b[a];g[k.uuid]=d(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(k.url)?k.url:e.texturePath+k.url)}}return g}
function oc(a,b){function c(l){if("number"===typeof l)return l;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",l);return f[l]}var d={};if(void 0!==a)for(var e=0,g=a.length;e<g;e++){var h=a[e];void 0===h.image&&console.warn('THREE.ObjectLoader: No "image" specified for',h.uuid);void 0===b[h.image]&&console.warn("THREE.ObjectLoader: Undefined image",h.image);var k=new f.Texture(b[h.image]);k.needsUpdate=!0;k.uuid=h.uuid;void 0!==h.name&&(k.name=h.name);void 0!==h.mapping&&
(k.mapping=c(h.mapping));void 0!==h.offset&&(k.offset=new f.Vector2(h.offset[0],h.offset[1]));void 0!==h.repeat&&(k.repeat=new f.Vector2(h.repeat[0],h.repeat[1]));void 0!==h.minFilter&&(k.minFilter=c(h.minFilter));void 0!==h.magFilter&&(k.magFilter=c(h.magFilter));void 0!==h.anisotropy&&(k.anisotropy=h.anisotropy);Array.isArray(h.wrap)&&(k.wrapS=c(h.wrap[0]),k.wrapT=c(h.wrap[1]));d[h.uuid]=k}return d}
function pc(a,b){var c={};if(void 0!==a){var d=new f.MaterialLoader;d.textures=b;b=0;for(var e=a.length;b<e;b++){var g=d.parse(a[b]);c[g.uuid]=g}}return c}function qc(a){for(var b=[],c=0;c<a.length;c++){var d=f.AnimationClip.parse(a[c]);b.push(d)}return b}
f.ObjectLoader.prototype={constructor:f.ObjectLoader,load:function(a,b,c,d){""===this.texturePath&&(this.texturePath=a.substring(0,a.lastIndexOf("/")+1));var e=this;(new f.XHRLoader(e.manager)).load(a,function(g){e.parse(JSON.parse(g),b)},c,d)},setTexturePath:function(a){this.texturePath=a},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a,b){var c=mc(this,a.geometries),d=nc(this,a.images,function(){void 0!==b&&b(e)});d=oc(a.textures,d);d=pc(a.materials,d);var e=this.parseObject(a.object,
c,d);a.animations&&(e.animations=qc(a.animations));void 0!==a.images&&0!==a.images.length||void 0===b||b(e);return e},parseObject:function(){var a=new f.Matrix4;return function(b,c,d){function e(n){void 0===c[n]&&console.warn("THREE.ObjectLoader: Undefined geometry",n);return c[n]}function g(n){if(void 0!==n)return void 0===d[n]&&console.warn("THREE.ObjectLoader: Undefined material",n),d[n]}switch(b.type){case "Scene":var h=new f.Scene;break;case "PerspectiveCamera":h=new f.PerspectiveCamera(b.fov,
b.aspect,b.near,b.far);void 0!==b.focus&&(h.focus=b.focus);void 0!==b.zoom&&(h.zoom=b.zoom);void 0!==b.filmGauge&&(h.filmGauge=b.filmGauge);void 0!==b.filmOffset&&(h.filmOffset=b.filmOffset);void 0!==b.view&&(h.view=Object.assign({},b.view));break;case "OrthographicCamera":h=new f.OrthographicCamera(b.left,b.right,b.top,b.bottom,b.near,b.far);break;case "AmbientLight":h=new f.AmbientLight(b.color,b.intensity);break;case "DirectionalLight":h=new f.DirectionalLight(b.color,b.intensity);break;case "PointLight":h=
new f.PointLight(b.color,b.intensity,b.distance,b.decay);break;case "SpotLight":h=new f.SpotLight(b.color,b.intensity,b.distance,b.angle,b.penumbra,b.decay);break;case "HemisphereLight":h=new f.HemisphereLight(b.color,b.groundColor,b.intensity);break;case "Mesh":h=e(b.geometry);var k=g(b.material);h=h.bones&&0<h.bones.length?new f.SkinnedMesh(h,k):new f.Mesh(h,k);break;case "LOD":h=new f.LOD;break;case "Line":h=new f.Line(e(b.geometry),g(b.material),b.mode);break;case "PointCloud":case "Points":h=
new f.Points(e(b.geometry),g(b.material));break;case "Sprite":h=new f.Sprite(g(b.material));break;case "Group":h=new f.Group;break;default:h=new f.Object3D}h.uuid=b.uuid;void 0!==b.name&&(h.name=b.name);void 0!==b.matrix?(a.fromArray(b.matrix),a.decompose(h.position,h.quaternion,h.scale)):(void 0!==b.position&&h.position.fromArray(b.position),void 0!==b.rotation&&h.rotation.fromArray(b.rotation),void 0!==b.scale&&h.scale.fromArray(b.scale));void 0!==b.castShadow&&(h.castShadow=b.castShadow);void 0!==
b.receiveShadow&&(h.receiveShadow=b.receiveShadow);void 0!==b.visible&&(h.visible=b.visible);void 0!==b.userData&&(h.userData=b.userData);if(void 0!==b.children)for(var l in b.children)h.add(this.parseObject(b.children[l],c,d));if("LOD"===b.type)for(b=b.levels,k=0;k<b.length;k++){var m=b[k];l=h.getObjectByProperty("uuid",m.object);void 0!==l&&h.addLevel(l,m.distance)}return h}}()};f.TextureLoader=function(a){this.manager=void 0!==a?a:f.DefaultLoadingManager};
f.TextureLoader.prototype={constructor:f.TextureLoader,load:function(a,b,c,d){var e=new f.Texture,g=new f.ImageLoader(this.manager);g.setCrossOrigin(this.crossOrigin);g.setPath(this.path);g.load(a,function(h){e.image=h;e.needsUpdate=!0;void 0!==b&&b(e)},c,d);return e},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};f.CubeTextureLoader=function(a){this.manager=void 0!==a?a:f.DefaultLoadingManager};
f.CubeTextureLoader.prototype={constructor:f.CubeTextureLoader,load:function(a,b,c,d){function e(l){h.load(a[l],function(m){g.images[l]=m;k++;6===k&&(g.needsUpdate=!0,b&&b(g))},void 0,d)}var g=new f.CubeTexture,h=new f.ImageLoader(this.manager);h.setCrossOrigin(this.crossOrigin);h.setPath(this.path);var k=0;for(c=0;c<a.length;++c)e(c);return g},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};
f.DataTextureLoader=f.BinaryTextureLoader=function(a){this.manager=void 0!==a?a:f.DefaultLoadingManager;this._parser=null};
f.BinaryTextureLoader.prototype={constructor:f.BinaryTextureLoader,load:function(a,b,c,d){var e=this,g=new f.DataTexture,h=new f.XHRLoader(this.manager);ec(h);h.load(a,function(k){if(k=e._parser(k))void 0!==k.image?g.image=k.image:void 0!==k.data&&(g.image.width=k.width,g.image.height=k.height,g.image.data=k.data),g.wrapS=void 0!==k.wrapS?k.wrapS:f.ClampToEdgeWrapping,g.wrapT=void 0!==k.wrapT?k.wrapT:f.ClampToEdgeWrapping,g.magFilter=void 0!==k.magFilter?k.magFilter:f.LinearFilter,g.minFilter=void 0!==
k.minFilter?k.minFilter:f.LinearMipMapLinearFilter,g.anisotropy=void 0!==k.anisotropy?k.anisotropy:1,void 0!==k.format&&(g.format=k.format),void 0!==k.type&&(g.type=k.type),void 0!==k.mipmaps&&(g.mipmaps=k.mipmaps),1===k.mipmapCount&&(g.minFilter=f.LinearFilter),g.needsUpdate=!0,b&&b(g,k)},c,d);return g}};f.CompressedTextureLoader=function(a){this.manager=void 0!==a?a:f.DefaultLoadingManager;this._parser=null};
f.CompressedTextureLoader.prototype={constructor:f.CompressedTextureLoader,load:function(a,b,c,d){function e(p){l.load(a[p],function(t){t=g._parser(t,!0);h[p]={width:t.width,height:t.height,format:t.format,mipmaps:t.mipmaps};m+=1;6===m&&(1===t.mipmapCount&&(k.minFilter=f.LinearFilter),k.format=t.format,k.needsUpdate=!0,b&&b(k))},c,d)}var g=this,h=[],k=new f.CompressedTexture;k.image=h;var l=new f.XHRLoader(this.manager);l.setPath(this.path);ec(l);if(Array.isArray(a))for(var m=0,n=0,q=a.length;n<q;++n)e(n);
else l.load(a,function(p){p=g._parser(p,!0);if(p.isCubemap)for(var t=p.mipmaps.length/p.mipmapCount,r=0;r<t;r++){h[r]={mipmaps:[]};for(var v=0;v<p.mipmapCount;v++)h[r].mipmaps.push(p.mipmaps[r*p.mipmapCount+v]),h[r].format=p.format,h[r].width=p.width,h[r].height=p.height}else k.image.width=p.width,k.image.height=p.height,k.mipmaps=p.mipmaps;1===p.mipmapCount&&(k.minFilter=f.LinearFilter);k.format=p.format;k.needsUpdate=!0;b&&b(k)},c,d);return k},setPath:function(a){this.path=a}};
f.Material=function(){Object.defineProperty(this,"id",{value:f.MaterialIdCount++});this.uuid=f.Math.generateUUID();this.name="";this.type="Material";this.lights=this.fog=!0;this.blending=f.NormalBlending;this.side=f.FrontSide;this.shading=f.SmoothShading;this.vertexColors=f.NoColors;this.opacity=1;this.transparent=!1;this.blendSrc=f.SrcAlphaFactor;this.blendDst=f.OneMinusSrcAlphaFactor;this.blendEquation=f.AddEquation;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=
f.LessEqualDepth;this.depthWrite=this.depthTest=!0;this.clippingPlanes=null;this.clipShadows=!1;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.premultipliedAlpha=!1;this.overdraw=0;this._needsUpdate=this.visible=!0};
function rc(a,b){if(void 0!==b)for(var c in b){var d=b[c];if(void 0===d)console.warn("THREE.Material: '"+c+"' parameter is undefined.");else{var e=a[c];void 0===e?console.warn("THREE."+a.type+": '"+c+"' is not a property of this material."):e instanceof f.Color?e.set(d):e instanceof f.Vector3&&d instanceof f.Vector3?e.copy(d):a[c]="overdraw"===c?Number(d):d}}}
f.Material.prototype={constructor:f.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(a){!0===a&&this.update();this._needsUpdate=a},toJSON:function(a){function b(e){var g=[],h;for(h in e){var k=e[h];delete k.metadata;g.push(k)}return g}var c=void 0===a;c&&(a={textures:{},images:{}});var d={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid;d.type=this.type;""!==this.name&&(d.name=this.name);this.color instanceof f.Color&&(d.color=db(this.color));
.5!==this.roughness&&(d.roughness=this.roughness);.5!==this.metalness&&(d.metalness=this.metalness);this.emissive instanceof f.Color&&(d.emissive=db(this.emissive));this.specular instanceof f.Color&&(d.specular=db(this.specular));void 0!==this.shininess&&(d.shininess=this.shininess);this.map instanceof f.Texture&&(d.map=this.map.toJSON(a).uuid);this.alphaMap instanceof f.Texture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap instanceof f.Texture&&(d.lightMap=this.lightMap.toJSON(a).uuid);
this.bumpMap instanceof f.Texture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale);this.normalMap instanceof f.Texture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalScale=this.normalScale.toArray());this.displacementMap instanceof f.Texture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias);this.roughnessMap instanceof f.Texture&&(d.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap instanceof
f.Texture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid);this.emissiveMap instanceof f.Texture&&(d.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap instanceof f.Texture&&(d.specularMap=this.specularMap.toJSON(a).uuid);this.envMap instanceof f.Texture&&(d.envMap=this.envMap.toJSON(a).uuid,d.reflectivity=this.reflectivity);void 0!==this.size&&(d.size=this.size);void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation);this.blending!==f.NormalBlending&&(d.blending=this.blending);
this.shading!==f.SmoothShading&&(d.shading=this.shading);this.side!==f.FrontSide&&(d.side=this.side);this.vertexColors!==f.NoColors&&(d.vertexColors=this.vertexColors);1>this.opacity&&(d.opacity=this.opacity);!0===this.transparent&&(d.transparent=this.transparent);0<this.alphaTest&&(d.alphaTest=this.alphaTest);!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha);!0===this.wireframe&&(d.wireframe=this.wireframe);1<this.wireframeLinewidth&&(d.wireframeLinewidth=this.wireframeLinewidth);
c&&(c=b(a.textures),a=b(a.images),0<c.length&&(d.textures=c),0<a.length&&(d.images=a));return d},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name;this.fog=a.fog;this.lights=a.lights;this.blending=a.blending;this.side=a.side;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;
this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.overdraw=a.overdraw;this.visible=a.visible;this.clipShadows=a.clipShadows;a=a.clippingPlanes;var b=null;if(null!==
a){var c=a.length;b=Array(c);for(var d=0;d!==c;++d)b[d]=a[d].clone()}this.clippingPlanes=b;return this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}};Object.assign(f.Material.prototype,f.EventDispatcher.prototype);f.MaterialIdCount=0;f.LineBasicMaterial=function(a){f.Material.call(this);this.type="LineBasicMaterial";this.color=new f.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.lights=!1;rc(this,a)};
f.LineBasicMaterial.prototype=Object.create(f.Material.prototype);f.LineBasicMaterial.prototype.constructor=f.LineBasicMaterial;f.LineBasicMaterial.prototype.copy=function(a){f.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;return this};
f.LineDashedMaterial=function(a){f.Material.call(this);this.type="LineDashedMaterial";this.color=new f.Color(16777215);this.scale=this.linewidth=1;this.dashSize=3;this.gapSize=1;this.lights=!1;rc(this,a)};f.LineDashedMaterial.prototype=Object.create(f.Material.prototype);f.LineDashedMaterial.prototype.constructor=f.LineDashedMaterial;
f.LineDashedMaterial.prototype.copy=function(a){f.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this};
f.MeshBasicMaterial=function(a){f.Material.call(this);this.type="MeshBasicMaterial";this.color=new f.Color(16777215);this.aoMap=this.map=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=f.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.lights=this.morphTargets=this.skinning=!1;rc(this,a)};f.MeshBasicMaterial.prototype=Object.create(f.Material.prototype);
f.MeshBasicMaterial.prototype.constructor=f.MeshBasicMaterial;
f.MeshBasicMaterial.prototype.copy=function(a){f.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;
this.skinning=a.skinning;this.morphTargets=a.morphTargets;return this};f.MeshDepthMaterial=function(a){f.Material.call(this);this.type="MeshDepthMaterial";this.depthPacking=f.BasicDepthPacking;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.lights=this.fog=!1;rc(this,a)};f.MeshDepthMaterial.prototype=Object.create(f.Material.prototype);
f.MeshDepthMaterial.prototype.constructor=f.MeshDepthMaterial;f.MeshDepthMaterial.prototype.copy=function(a){f.Material.prototype.copy.call(this,a);this.depthPacking=a.depthPacking;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};
f.MeshLambertMaterial=function(a){f.Material.call(this);this.type="MeshLambertMaterial";this.color=new f.Color(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new f.Color(0);this.emissiveIntensity=1;this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null;this.combine=f.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";
this.morphNormals=this.morphTargets=this.skinning=!1;rc(this,a)};f.MeshLambertMaterial.prototype=Object.create(f.Material.prototype);f.MeshLambertMaterial.prototype.constructor=f.MeshLambertMaterial;
f.MeshLambertMaterial.prototype.copy=function(a){f.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=
a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};f.MeshNormalMaterial=function(a){f.Material.call(this,a);this.type="MeshNormalMaterial";this.wireframe=!1;this.wireframeLinewidth=1;this.morphTargets=this.lights=this.fog=!1;rc(this,a)};f.MeshNormalMaterial.prototype=Object.create(f.Material.prototype);
f.MeshNormalMaterial.prototype.constructor=f.MeshNormalMaterial;f.MeshNormalMaterial.prototype.copy=function(a){f.Material.prototype.copy.call(this,a);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};
f.MeshPhongMaterial=function(a){f.Material.call(this);this.type="MeshPhongMaterial";this.color=new f.Color(16777215);this.specular=new f.Color(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new f.Color(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new f.Vector2(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=
this.alphaMap=this.specularMap=null;this.combine=f.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;rc(this,a)};f.MeshPhongMaterial.prototype=Object.create(f.Material.prototype);f.MeshPhongMaterial.prototype.constructor=f.MeshPhongMaterial;
f.MeshPhongMaterial.prototype.copy=function(a){f.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);
this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;
this.morphNormals=a.morphNormals;return this};
f.MeshStandardMaterial=function(a){f.Material.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new f.Color(16777215);this.metalness=this.roughness=.5;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new f.Color(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new f.Vector2(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=
0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;rc(this,a)};f.MeshStandardMaterial.prototype=Object.create(f.Material.prototype);f.MeshStandardMaterial.prototype.constructor=f.MeshStandardMaterial;
f.MeshStandardMaterial.prototype.copy=function(a){f.Material.prototype.copy.call(this,a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=
a.normalMap;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;
this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};f.MeshPhysicalMaterial=function(a){f.MeshStandardMaterial.call(this);this.defines={PHYSICAL:""};this.type="MeshPhysicalMaterial";this.reflectivity=.5;rc(this,a)};f.MeshPhysicalMaterial.prototype=Object.create(f.MeshStandardMaterial.prototype);f.MeshPhysicalMaterial.prototype.constructor=f.MeshPhysicalMaterial;
f.MeshPhysicalMaterial.prototype.copy=function(a){f.MeshStandardMaterial.prototype.copy.call(this,a);this.defines={PHYSICAL:""};this.reflectivity=a.reflectivity;return this};f.MultiMaterial=function(a){this.uuid=f.Math.generateUUID();this.type="MultiMaterial";this.materials=a instanceof Array?a:[];this.visible=!0};
f.MultiMaterial.prototype={constructor:f.MultiMaterial,toJSON:function(a){for(var b={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},c=this.materials,d=0,e=c.length;d<e;d++){var g=c[d].toJSON(a);delete g.metadata;b.materials.push(g)}b.visible=this.visible;return b},clone:function(){for(var a=new this.constructor,b=0;b<this.materials.length;b++)a.materials.push(this.materials[b].clone());a.visible=this.visible;return a}};
f.PointsMaterial=function(a){f.Material.call(this);this.type="PointsMaterial";this.color=new f.Color(16777215);this.map=null;this.size=1;this.sizeAttenuation=!0;this.lights=!1;rc(this,a)};f.PointsMaterial.prototype=Object.create(f.Material.prototype);f.PointsMaterial.prototype.constructor=f.PointsMaterial;f.PointsMaterial.prototype.copy=function(a){f.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;return this};
f.ShaderMaterial=function(a){f.Material.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position \x3d projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor \x3d vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,
drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;void 0!==a&&(void 0!==a.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),rc(this,a))};f.ShaderMaterial.prototype=Object.create(f.Material.prototype);f.ShaderMaterial.prototype.constructor=f.ShaderMaterial;
f.ShaderMaterial.prototype.copy=function(a){f.Material.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=f.UniformsUtils.clone(a.uniforms);this.defines=a.defines;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.lights=a.lights;this.clipping=a.clipping;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;this.extensions=a.extensions;return this};
f.ShaderMaterial.prototype.toJSON=function(a){a=f.Material.prototype.toJSON.call(this,a);a.uniforms=this.uniforms;a.vertexShader=this.vertexShader;a.fragmentShader=this.fragmentShader;return a};f.RawShaderMaterial=function(a){f.ShaderMaterial.call(this,a);this.type="RawShaderMaterial"};f.RawShaderMaterial.prototype=Object.create(f.ShaderMaterial.prototype);f.RawShaderMaterial.prototype.constructor=f.RawShaderMaterial;
f.SpriteMaterial=function(a){f.Material.call(this);this.type="SpriteMaterial";this.color=new f.Color(16777215);this.map=null;this.rotation=0;this.lights=this.fog=!1;rc(this,a)};f.SpriteMaterial.prototype=Object.create(f.Material.prototype);f.SpriteMaterial.prototype.constructor=f.SpriteMaterial;f.SpriteMaterial.prototype.copy=function(a){f.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.rotation=a.rotation;return this};
f.ShadowMaterial=function(){f.ShaderMaterial.call(this,{uniforms:f.UniformsUtils.merge([f.UniformsLib.lights,{opacity:{value:1}}]),vertexShader:f.ShaderChunk.shadow_vert,fragmentShader:f.ShaderChunk.shadow_frag});this.transparent=this.lights=!0;Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(a){this.uniforms.opacity.value=a}}})};f.ShadowMaterial.prototype=Object.create(f.ShaderMaterial.prototype);
f.ShadowMaterial.prototype.constructor=f.ShadowMaterial;
f.Texture=function(a,b,c,d,e,g,h,k,l,m){Object.defineProperty(this,"id",{value:f.TextureIdCount++});this.uuid=f.Math.generateUUID();this.sourceFile=this.name="";this.image=void 0!==a?a:f.Texture.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:f.Texture.DEFAULT_MAPPING;this.wrapS=void 0!==c?c:f.ClampToEdgeWrapping;this.wrapT=void 0!==d?d:f.ClampToEdgeWrapping;this.magFilter=void 0!==e?e:f.LinearFilter;this.minFilter=void 0!==g?g:f.LinearMipMapLinearFilter;this.anisotropy=void 0!==l?l:1;this.format=
void 0!==h?h:f.RGBAFormat;this.type=void 0!==k?k:f.UnsignedByteType;this.offset=new f.Vector2(0,0);this.repeat=new f.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==m?m:f.LinearEncoding;this.version=0;this.onUpdate=null};f.Texture.DEFAULT_IMAGE=void 0;f.Texture.DEFAULT_MAPPING=f.UVMapping;
f.Texture.prototype={constructor:f.Texture,set needsUpdate(a){!0===a&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.image=a.image;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=
a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.encoding=a.encoding;return this},toJSON:function(a){if(void 0!==a.textures[this.uuid])return a.textures[this.uuid];var b={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};
if(void 0!==this.image){var c=this.image;void 0===c.uuid&&(c.uuid=f.Math.generateUUID());if(void 0===a.images[c.uuid]){var d=a.images,e=c.uuid,g=c.uuid;if(void 0!==c.toDataURL)var h=c;else h=document.createElement("canvas"),h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0,c.width,c.height);h=2048<h.width||2048<h.height?h.toDataURL("image/jpeg",.6):h.toDataURL("image/png");d[e]={uuid:g,url:h}}b.image=c.uuid}return a.textures[this.uuid]=b},dispose:function(){this.dispatchEvent({type:"dispose"})},
transformUv:function(a){if(this.mapping===f.UVMapping){a.multiply(this.repeat);a.add(this.offset);if(0>a.x||1<a.x)switch(this.wrapS){case f.RepeatWrapping:a.x-=Math.floor(a.x);break;case f.ClampToEdgeWrapping:a.x=0>a.x?0:1;break;case f.MirroredRepeatWrapping:a.x=1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case f.RepeatWrapping:a.y-=Math.floor(a.y);break;case f.ClampToEdgeWrapping:a.y=0>a.y?0:1;break;case f.MirroredRepeatWrapping:a.y=1===
Math.abs(Math.floor(a.y)%2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y)}}};Object.assign(f.Texture.prototype,f.EventDispatcher.prototype);f.TextureIdCount=0;f.DepthTexture=function(a,b,c,d,e,g,h,k,l){f.Texture.call(this,null,d,e,g,h,k,f.DepthFormat,c,l);this.image={width:a,height:b};this.type=void 0!==c?c:f.UnsignedShortType;this.magFilter=void 0!==h?h:f.NearestFilter;this.minFilter=void 0!==k?k:f.NearestFilter;this.generateMipmaps=this.flipY=!1};f.DepthTexture.prototype=Object.create(f.Texture.prototype);
f.DepthTexture.prototype.constructor=f.DepthTexture;f.CanvasTexture=function(a,b,c,d,e,g,h,k,l){f.Texture.call(this,a,b,c,d,e,g,h,k,l);this.needsUpdate=!0};f.CanvasTexture.prototype=Object.create(f.Texture.prototype);f.CanvasTexture.prototype.constructor=f.CanvasTexture;f.CubeTexture=function(a,b,c,d,e,g,h,k,l,m){a=void 0!==a?a:[];b=void 0!==b?b:f.CubeReflectionMapping;f.Texture.call(this,a,b,c,d,e,g,h,k,l,m);this.flipY=!1};f.CubeTexture.prototype=Object.create(f.Texture.prototype);
f.CubeTexture.prototype.constructor=f.CubeTexture;Object.defineProperty(f.CubeTexture.prototype,"images",{get:function(){return this.image},set:function(a){this.image=a}});f.CompressedTexture=function(a,b,c,d,e,g,h,k,l,m,n,q){f.Texture.call(this,null,g,h,k,l,m,d,e,n,q);this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1};f.CompressedTexture.prototype=Object.create(f.Texture.prototype);f.CompressedTexture.prototype.constructor=f.CompressedTexture;
f.DataTexture=function(a,b,c,d,e,g,h,k,l,m,n,q){f.Texture.call(this,null,g,h,k,l,m,d,e,n,q);this.image={data:a,width:b,height:c};this.magFilter=void 0!==l?l:f.NearestFilter;this.minFilter=void 0!==m?m:f.NearestFilter;this.generateMipmaps=this.flipY=!1};f.DataTexture.prototype=Object.create(f.Texture.prototype);f.DataTexture.prototype.constructor=f.DataTexture;
f.VideoTexture=function(a,b,c,d,e,g,h,k,l){function m(){requestAnimationFrame(m);a.readyState>=a.HAVE_CURRENT_DATA&&(n.needsUpdate=!0)}f.Texture.call(this,a,b,c,d,e,g,h,k,l);this.generateMipmaps=!1;var n=this;m()};f.VideoTexture.prototype=Object.create(f.Texture.prototype);f.VideoTexture.prototype.constructor=f.VideoTexture;f.Group=function(){f.Object3D.call(this);this.type="Group"};f.Group.prototype=Object.assign(Object.create(f.Object3D.prototype),{constructor:f.Group});
f.Points=function(a,b){f.Object3D.call(this);this.type="Points";this.geometry=void 0!==a?a:new f.BufferGeometry;this.material=void 0!==b?b:new f.PointsMaterial({color:16777215*Math.random()})};
f.Points.prototype=Object.assign(Object.create(f.Object3D.prototype),{constructor:f.Points,raycast:function(){var a=new f.Matrix4,b=new f.Ray,c=new f.Sphere;return function(d,e){function g(v,u){var w=b.distanceSqToPoint(v);if(w<n){v=b.closestPointToPoint(v);v.applyMatrix4(l);var x=d.ray.origin.distanceTo(v);x<d.near||x>d.far||e.push({distance:x,distanceToRay:Math.sqrt(w),point:v.clone(),index:u,face:null,object:h})}}var h=this,k=this.geometry,l=this.matrixWorld,m=d.params.Points.threshold;null===
k.boundingSphere&&k.computeBoundingSphere();c.copy(k.boundingSphere);c.applyMatrix4(l);if(!1!==d.ray.intersectsSphere(c)){a.getInverse(l);b.copy(d.ray).applyMatrix4(a);m/=(this.scale.x+this.scale.y+this.scale.z)/3;var n=m*m;m=new f.Vector3;if(k instanceof f.BufferGeometry){var q=k.index;k=k.attributes.position.array;if(null!==q){var p=q.array;q=0;for(var t=p.length;q<t;q++){var r=p[q];m.fromArray(k,3*r);g(m,r)}}else for(q=0,p=k.length/3;q<p;q++)m.fromArray(k,3*q),g(m,q)}else for(m=k.vertices,q=0,
p=m.length;q<p;q++)g(m[q],q)}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});f.Line=function(a,b,c){if(1===c)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new f.LineSegments(a,b);f.Object3D.call(this);this.type="Line";this.geometry=void 0!==a?a:new f.BufferGeometry;this.material=void 0!==b?b:new f.LineBasicMaterial({color:16777215*Math.random()})};
f.Line.prototype=Object.assign(Object.create(f.Object3D.prototype),{constructor:f.Line,raycast:function(){var a=new f.Matrix4,b=new f.Ray,c=new f.Sphere;return function(d,e){var g=d.linePrecision;g*=g;var h=this.geometry,k=this.matrixWorld;null===h.boundingSphere&&h.computeBoundingSphere();c.copy(h.boundingSphere);c.applyMatrix4(k);if(!1!==d.ray.intersectsSphere(c)){a.getInverse(k);b.copy(d.ray).applyMatrix4(a);var l=new f.Vector3,m=new f.Vector3;k=new f.Vector3;var n=new f.Vector3,q=this instanceof
f.LineSegments?2:1;if(h instanceof f.BufferGeometry){var p=h.index,t=h.attributes.position.array;if(null!==p){p=p.array;h=0;for(var r=p.length-1;h<r;h+=q){var v=p[h+1];l.fromArray(t,3*p[h]);m.fromArray(t,3*v);v=b.distanceSqToSegment(l,m,n,k);v>g||(n.applyMatrix4(this.matrixWorld),v=d.ray.origin.distanceTo(n),v<d.near||v>d.far||e.push({distance:v,point:k.clone().applyMatrix4(this.matrixWorld),index:h,face:null,faceIndex:null,object:this}))}}else for(h=0,r=t.length/3-1;h<r;h+=q)l.fromArray(t,3*h),m.fromArray(t,
3*h+3),v=b.distanceSqToSegment(l,m,n,k),v>g||(n.applyMatrix4(this.matrixWorld),v=d.ray.origin.distanceTo(n),v<d.near||v>d.far||e.push({distance:v,point:k.clone().applyMatrix4(this.matrixWorld),index:h,face:null,faceIndex:null,object:this}))}else if(h instanceof f.Geometry)for(l=h.vertices,m=l.length,h=0;h<m-1;h+=q)v=b.distanceSqToSegment(l[h],l[h+1],n,k),v>g||(n.applyMatrix4(this.matrixWorld),v=d.ray.origin.distanceTo(n),v<d.near||v>d.far||e.push({distance:v,point:k.clone().applyMatrix4(this.matrixWorld),
index:h,face:null,faceIndex:null,object:this}))}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});f.LineSegments=function(a,b){f.Line.call(this,a,b);this.type="LineSegments"};f.LineSegments.prototype=Object.assign(Object.create(f.Line.prototype),{constructor:f.LineSegments});
f.Mesh=function(a,b){f.Object3D.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new f.BufferGeometry;this.material=void 0!==b?b:new f.MeshBasicMaterial({color:16777215*Math.random()});this.drawMode=f.TrianglesDrawMode;this.updateMorphTargets()};
f.Mesh.prototype=Object.assign(Object.create(f.Object3D.prototype),{constructor:f.Mesh,setDrawMode:function(a){this.drawMode=a},updateMorphTargets:function(){if(void 0!==this.geometry.morphTargets&&0<this.geometry.morphTargets.length){this.morphTargetBase=-1;this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var a=0,b=this.geometry.morphTargets.length;a<b;a++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[a].name]=a}},getMorphTargetIndexByName:function(a){if(void 0!==
this.morphTargetDictionary[a])return this.morphTargetDictionary[a];console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+a+" does not exist. Returning 0.");return 0},raycast:function(){function a(x,A,y,B,F,K,L){f.Triangle.barycoordFromPoint(x,A,y,B,v);F.multiplyScalar(v.x);K.multiplyScalar(v.y);L.multiplyScalar(v.z);F.add(K).add(L);return F.clone()}function b(x,A,y,B,F,K,L){var N=x.material;if(null===(N.side===f.BackSide?y.intersectTriangle(K,F,B,!0,L):y.intersectTriangle(B,F,K,N.side!==
f.DoubleSide,L)))return null;w.copy(L);w.applyMatrix4(x.matrixWorld);y=A.ray.origin.distanceTo(w);return y<A.near||y>A.far?null:{distance:y,point:w.clone(),object:x}}function c(x,A,y,B,F,K,L,N){h.fromArray(B,3*K);k.fromArray(B,3*L);l.fromArray(B,3*N);if(x=b(x,A,y,h,k,l,u))F&&(p.fromArray(F,2*K),t.fromArray(F,2*L),r.fromArray(F,2*N),x.uv=a(u,h,k,l,p,t,r)),x.face=new f.Face3(K,L,N,f.Triangle.normal(h,k,l)),x.faceIndex=K;return x}var d=new f.Matrix4,e=new f.Ray,g=new f.Sphere,h=new f.Vector3,k=new f.Vector3,
l=new f.Vector3,m=new f.Vector3,n=new f.Vector3,q=new f.Vector3,p=new f.Vector2,t=new f.Vector2,r=new f.Vector2,v=new f.Vector3,u=new f.Vector3,w=new f.Vector3;return function(x,A){var y=this.geometry,B=this.material,F=this.matrixWorld;if(void 0!==B&&(null===y.boundingSphere&&y.computeBoundingSphere(),g.copy(y.boundingSphere),g.applyMatrix4(F),!1!==x.ray.intersectsSphere(g)&&(d.getInverse(F),e.copy(x.ray).applyMatrix4(d),null===y.boundingBox||!1!==e.intersectsBox(y.boundingBox)))){var K;if(y instanceof
f.BufferGeometry){B=y.index;F=y.attributes;y=F.position.array;if(void 0!==F.uv)var L=F.uv.array;if(null!==B){F=B.array;for(var N=0,Q=F.length;N<Q;N+=3){B=F[N];var W=F[N+1];var H=F[N+2];if(K=c(this,x,e,y,L,B,W,H))K.faceIndex=Math.floor(N/3),A.push(K)}}else for(N=0,Q=y.length;N<Q;N+=9)if(B=N/3,W=B+1,H=B+2,K=c(this,x,e,y,L,B,W,H))K.index=B,A.push(K)}else if(y instanceof f.Geometry){F=B instanceof f.MultiMaterial;N=!0===F?B.materials:null;Q=y.vertices;W=y.faces;H=y.faceVertexUvs[0];0<H.length&&(L=H);
for(var O=0,P=W.length;O<P;O++){var D=W[O];K=!0===F?N[D.materialIndex]:B;if(void 0!==K){H=Q[D.a];var R=Q[D.b];var U=Q[D.c];if(!0===K.morphTargets){K=y.morphTargets;var I=this.morphTargetInfluences;h.set(0,0,0);k.set(0,0,0);l.set(0,0,0);for(var J=0,S=K.length;J<S;J++){var X=I[J];if(0!==X){var M=K[J].vertices;h.addScaledVector(m.subVectors(M[D.a],H),X);k.addScaledVector(n.subVectors(M[D.b],R),X);l.addScaledVector(q.subVectors(M[D.c],U),X)}}h.add(H);k.add(R);l.add(U);H=h;R=k;U=l}if(K=b(this,x,e,H,R,
U,u))L&&(I=L[O],p.copy(I[0]),t.copy(I[1]),r.copy(I[2]),K.uv=a(u,H,R,U,p,t,r)),K.face=D,K.faceIndex=O,A.push(K)}}}}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});f.Bone=function(a){f.Object3D.call(this);this.type="Bone";this.skin=a};f.Bone.prototype=Object.assign(Object.create(f.Object3D.prototype),{constructor:f.Bone,copy:function(a){f.Object3D.prototype.copy.call(this,a);this.skin=a.skin;return this}});
f.Skeleton=function(a,b,c){this.useVertexTexture=void 0!==c?c:!0;this.identityMatrix=new f.Matrix4;a=a||[];this.bones=a.slice(0);this.useVertexTexture?(a=Math.sqrt(4*this.bones.length),a=f.Math.nextPowerOfTwo(Math.ceil(a)),this.boneTextureHeight=this.boneTextureWidth=a=Math.max(a,4),this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new f.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,f.RGBAFormat,f.FloatType)):this.boneMatrices=
new Float32Array(16*this.bones.length);if(void 0===b)this.calculateInverses();else if(this.bones.length===b.length)this.boneInverses=b.slice(0);else for(console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[],b=0,a=this.bones.length;b<a;b++)this.boneInverses.push(new f.Matrix4)};
Object.assign(f.Skeleton.prototype,{calculateInverses:function(){this.boneInverses=[];for(var a=0,b=this.bones.length;a<b;a++){var c=new f.Matrix4;this.bones[a]&&c.getInverse(this.bones[a].matrixWorld);this.boneInverses.push(c)}},pose:function(){for(var a,b=0,c=this.bones.length;b<c;b++)(a=this.bones[b])&&a.matrixWorld.getInverse(this.boneInverses[b]);b=0;for(c=this.bones.length;b<c;b++)if(a=this.bones[b])a.parent?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),
a.matrix.decompose(a.position,a.quaternion,a.scale)},update:function(){var a=new f.Matrix4;return function(){for(var b=0,c=this.bones.length;b<c;b++)Cb(a,this.bones[b]?this.bones[b].matrixWorld:this.identityMatrix,this.boneInverses[b]),a.toArray(this.boneMatrices,16*b);this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new f.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)}});
f.SkinnedMesh=function(a,b,c){f.Mesh.call(this,a,b);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new f.Matrix4;this.bindMatrixInverse=new f.Matrix4;a=[];if(this.geometry&&void 0!==this.geometry.bones){for(var d,e=0,g=this.geometry.bones.length;e<g;++e)d=this.geometry.bones[e],b=new f.Bone(this),a.push(b),b.name=d.name,b.position.fromArray(d.pos),b.quaternion.fromArray(d.rotq),void 0!==d.scl&&b.scale.fromArray(d.scl);e=0;for(g=this.geometry.bones.length;e<g;++e)d=this.geometry.bones[e],
-1!==d.parent&&null!==d.parent&&void 0!==a[d.parent]?a[d.parent].add(a[e]):this.add(a[e])}this.normalizeSkinWeights();this.updateMatrixWorld(!0);this.bind(new f.Skeleton(a,void 0,c),this.matrixWorld)};
f.SkinnedMesh.prototype=Object.assign(Object.create(f.Mesh.prototype),{constructor:f.SkinnedMesh,bind:function(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry instanceof f.Geometry)for(var a=0;a<this.geometry.skinWeights.length;a++){var b=this.geometry.skinWeights[a],c=1/b.lengthManhattan();
Infinity!==c?b.multiplyScalar(c):b.set(1,0,0,0)}else if(this.geometry instanceof f.BufferGeometry){b=new f.Vector4;var d=this.geometry.attributes.skinWeight;for(a=0;a<d.count;a++)b.x=d.getX(a),b.y=d.getY(a),b.z=d.getZ(a),b.w=d.getW(a),c=1/b.lengthManhattan(),Infinity!==c?b.multiplyScalar(c):b.set(1,0,0,0),d.setXYZW(a,b.x,b.y,b.z,b.w)}},updateMatrixWorld:function(){f.Mesh.prototype.updateMatrixWorld.call(this,!0);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===
this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return(new this.constructor(this.geometry,this.material,this.useVertexTexture)).copy(this)}});f.LOD=function(){f.Object3D.call(this);this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})};
f.LOD.prototype=Object.assign(Object.create(f.Object3D.prototype),{constructor:f.LOD,copy:function(a){f.Object3D.prototype.copy.call(this,a,!1);a=a.levels;for(var b=0,c=a.length;b<c;b++){var d=a[b];this.addLevel(d.object.clone(),d.distance)}return this},addLevel:function(a,b){void 0===b&&(b=0);b=Math.abs(b);for(var c=this.levels,d=0;d<c.length&&!(b<c[d].distance);d++);c.splice(d,0,{distance:b,object:a});this.add(a)},getObjectForDistance:function(a){for(var b=this.levels,c=1,d=b.length;c<d&&!(a<b[c].distance);c++);
return b[c-1].object},raycast:function(){var a=new f.Vector3;return function(b,c){Bb(a,this.matrixWorld);this.getObjectForDistance(b.ray.origin.distanceTo(a)).raycast(b,c)}}(),update:function(){var a=new f.Vector3,b=new f.Vector3;return function(c){var d=this.levels;if(1<d.length){Bb(a,c.matrixWorld);Bb(b,this.matrixWorld);c=a.distanceTo(b);d[0].object.visible=!0;for(var e=1,g=d.length;e<g;e++)if(c>=d[e].distance)d[e-1].object.visible=!1,d[e].object.visible=!0;else break;for(;e<g;e++)d[e].object.visible=
!1}}}(),toJSON:function(a){a=f.Object3D.prototype.toJSON.call(this,a);a.object.levels=[];for(var b=this.levels,c=0,d=b.length;c<d;c++){var e=b[c];a.object.levels.push({object:e.object.uuid,distance:e.distance})}return a}});f.Sprite=function(a){f.Object3D.call(this);this.type="Sprite";this.material=void 0!==a?a:new f.SpriteMaterial};
f.Sprite.prototype=Object.assign(Object.create(f.Object3D.prototype),{constructor:f.Sprite,raycast:function(){var a=new f.Vector3;return function(b,c){Bb(a,this.matrixWorld);b=b.ray.distanceSqToPoint(a);b>this.scale.x*this.scale.y/4||c.push({distance:Math.sqrt(b),point:this.position,face:null,object:this})}}(),clone:function(){return(new this.constructor(this.material)).copy(this)}});
f.LensFlare=function(a,b,c,d,e){f.Object3D.call(this);this.lensFlares=[];this.positionScreen=new f.Vector3;this.customUpdateCallback=void 0;void 0!==a&&this.add(a,b,c,d,e)};
f.LensFlare.prototype=Object.assign(Object.create(f.Object3D.prototype),{constructor:f.LensFlare,copy:function(a){f.Object3D.prototype.copy.call(this,a);this.positionScreen.copy(a.positionScreen);this.customUpdateCallback=a.customUpdateCallback;for(var b=0,c=a.lensFlares.length;b<c;b++)this.lensFlares.push(a.lensFlares[b]);return this},add:function(a,b,c,d,e,g){void 0===b&&(b=-1);void 0===c&&(c=0);void 0===g&&(g=1);void 0===e&&(e=new f.Color(16777215));void 0===d&&(d=f.NormalBlending);c=Math.min(c,
Math.max(0,c));this.lensFlares.push({texture:a,size:b,distance:c,x:0,y:0,z:0,scale:1,rotation:0,opacity:g,color:e,blending:d})},updateLensFlares:function(){var a,b=this.lensFlares.length,c=2*-this.positionScreen.x,d=2*-this.positionScreen.y;for(a=0;a<b;a++){var e=this.lensFlares[a];e.x=this.positionScreen.x+c*e.distance;e.y=this.positionScreen.y+d*e.distance;e.wantedRotation=e.x*Math.PI*.25;e.rotation+=.25*(e.wantedRotation-e.rotation)}}});
f.Scene=function(){f.Object3D.call(this);this.type="Scene";this.overrideMaterial=this.fog=null;this.autoUpdate=!0};f.Scene.prototype=Object.create(f.Object3D.prototype);f.Scene.prototype.constructor=f.Scene;f.Scene.prototype.copy=function(a,b){f.Object3D.prototype.copy.call(this,a,b);null!==a.fog&&(this.fog=a.fog.clone());null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.autoUpdate=a.autoUpdate;this.matrixAutoUpdate=a.matrixAutoUpdate;return this};
f.Fog=function(a,b,c){this.name="";this.color=new f.Color(a);this.near=void 0!==b?b:1;this.far=void 0!==c?c:1E3};f.Fog.prototype.clone=function(){return new f.Fog(db(this.color),this.near,this.far)};f.FogExp2=function(a,b){this.name="";this.color=new f.Color(a);this.density=void 0!==b?b:2.5E-4};f.FogExp2.prototype.clone=function(){return new f.FogExp2(db(this.color),this.density)};f.ShaderChunk={};f.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *\x3d texture2D( alphaMap, vUv ).g;\n#endif\n";
f.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n";f.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\tif ( diffuseColor.a \x3c ALPHATEST ) discard;\n#endif\n";f.ShaderChunk.aomap_fragment="#ifdef USE_AOMAP\n\tfloat ambientOcclusion \x3d ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *\x3d ambientOcclusion;\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( PHYSICAL )\n\t\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *\x3d computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n";
f.ShaderChunk.aomap_pars_fragment="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif";f.ShaderChunk.begin_vertex="\nvec3 transformed \x3d vec3( position );\n";f.ShaderChunk.beginnormal_vertex="\nvec3 objectNormal \x3d vec3( normal );\n";f.ShaderChunk.bsdfs="bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance \x3d\x3d 0.0, lightDistance \x3c cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent \x3e 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff \x3d 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor \x3d pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel \x3d exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat gl \x3d dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv \x3d dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat gv \x3d dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl \x3d dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat denom \x3d pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha \x3d pow2( roughness );\n\tvec3 halfDir \x3d normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL \x3d saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH \x3d saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH \x3d saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F \x3d F_Schlick( specularColor, dotLH );\n\tfloat G \x3d G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D \x3d D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 \x3d vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 \x3d vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r \x3d roughness * c0 + c1;\n\tfloat a004 \x3d min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB \x3d vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir \x3d normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH \x3d saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH \x3d saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F \x3d F_Schlick( specularColor, dotLH );\n\tfloat G \x3d G_BlinnPhong_Implicit( );\n\tfloat D \x3d D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n";
f.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx \x3d dFdx( vUv );\n\t\tvec2 dSTdy \x3d dFdy( vUv );\n\t\tfloat Hll \x3d bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx \x3d bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy \x3d bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX \x3d dFdx( surf_pos );\n\t\tvec3 vSigmaY \x3d dFdy( surf_pos );\n\t\tvec3 vN \x3d surf_norm;\n\t\tvec3 R1 \x3d cross( vSigmaY, vN );\n\t\tvec3 R2 \x3d cross( vN, vSigmaX );\n\t\tfloat fDet \x3d dot( vSigmaX, R1 );\n\t\tvec3 vGrad \x3d sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n";
f.ShaderChunk.clipping_planes_fragment="#if NUM_CLIPPING_PLANES \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane \x3d clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) \x3e plane.w ) discard;\n\t}\n#endif\n";f.ShaderChunk.clipping_planes_pars_fragment="#if NUM_CLIPPING_PLANES \x3e 0\n\t#if ! defined( PHYSICAL ) \x26\x26 ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n";
f.ShaderChunk.clipping_planes_pars_vertex="#if NUM_CLIPPING_PLANES \x3e 0 \x26\x26 ! defined( PHYSICAL ) \x26\x26 ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n";f.ShaderChunk.clipping_planes_vertex="#if NUM_CLIPPING_PLANES \x3e 0 \x26\x26 ! defined( PHYSICAL ) \x26\x26 ! defined( PHONG )\n\tvViewPosition \x3d - mvPosition.xyz;\n#endif\n";f.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\tdiffuseColor.rgb *\x3d vColor;\n#endif";f.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n";
f.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif";f.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\tvColor.xyz \x3d color.xyz;\n#endif";f.ShaderChunk.common="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 \x3d x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a \x3d 12.9898, b \x3d 78.233, c \x3d 43758.5453;\n\thighp float dt \x3d dot( uv.xy, vec2( a,b ) ), sn \x3d mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance \x3d dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n";
f.ShaderChunk.cube_uv_reflection_fragment="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection \x3d abs(direction);\n\tint face \x3d -1;\n\tif( absDirection.x \x3e absDirection.z ) {\n\t\tif(absDirection.x \x3e absDirection.y )\n\t\t\tface \x3d direction.x \x3e 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface \x3d direction.y \x3e 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z \x3e absDirection.y )\n\t\t\tface \x3d direction.z \x3e 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface \x3d direction.y \x3e 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale \x3d exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness \x3d dFdx(roughness);\n\tfloat dyRoughness \x3d dFdy(roughness);\n\tvec3 dx \x3d dFdx( vec * scale * dxRoughness );\n\tvec3 dy \x3d dFdy( vec * scale * dyRoughness );\n\tfloat d \x3d max( dot( dx, dx ), dot( dy, dy ) );\n\td \x3d clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel \x3d 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel \x3d roughnessLevel \x3e cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a \x3d 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed \x3d exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed \x3d vec2( 1.0 ) / exp2_packed;\n\tfloat powScale \x3d exp2_packed.x * exp2_packed.y;\n\tfloat scale \x3d rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset \x3d 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes \x3d mipLevel \x3d\x3d 0.0;\n\tscale \x3d  bRes \x26\x26 (scale \x3c a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face \x3d getFaceFromDirection(direction);\n\tfloat rcpPowScale \x3d 1.0 / powScale;\n\tif( face \x3d\x3d 0) {\n\t\tr \x3d vec3(direction.x, -direction.z, direction.y);\n\t\toffset \x3d vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face \x3d\x3d 1) {\n\t\tr \x3d vec3(direction.y, direction.x, direction.z);\n\t\toffset \x3d vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face \x3d\x3d 2) {\n\t\tr \x3d vec3(direction.z, direction.x, direction.y);\n\t\toffset \x3d vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face \x3d\x3d 3) {\n\t\tr \x3d vec3(direction.x, direction.z, direction.y);\n\t\toffset \x3d vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face \x3d\x3d 4) {\n\t\tr \x3d vec3(direction.y, direction.x, -direction.z);\n\t\toffset \x3d vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr \x3d vec3(direction.z, -direction.x, direction.y);\n\t\toffset \x3d vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr \x3d normalize(r);\n\tfloat texelOffset \x3d 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s \x3d ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base \x3d offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal \x3d roughness* cubeUV_maxLods3;\n\tfloat r1 \x3d floor(roughnessVal);\n\tfloat r2 \x3d r1 + 1.0;\n\tfloat t \x3d fract(roughnessVal);\n\tvec2 mipInfo \x3d MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s \x3d mipInfo.y;\n\tfloat level0 \x3d mipInfo.x;\n\tfloat level1 \x3d level0 + 1.0;\n\tlevel1 \x3d level1 \x3e 5.0 ? 5.0 : level1;\n\tlevel0 +\x3d min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 \x3d getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 \x3d envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 \x3d getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 \x3d envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result \x3d mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n";
f.ShaderChunk.defaultnormal_vertex="#ifdef FLIP_SIDED\n\tobjectNormal \x3d -objectNormal;\n#endif\nvec3 transformedNormal \x3d normalMatrix * objectNormal;\n";f.ShaderChunk.displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n\ttransformed +\x3d normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n";f.ShaderChunk.displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n";
f.ShaderChunk.emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor \x3d texture2D( emissiveMap, vUv );\n\temissiveColor.rgb \x3d emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *\x3d emissiveColor.rgb;\n#endif\n";f.ShaderChunk.emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n";f.ShaderChunk.encodings_pars_fragment="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent \x3d max( max( value.r, value.g ), value.b );\n  float fExp \x3d clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB \x3d max( value.x, max( value.g, value.b ) );\n  float M      \x3d clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            \x3d ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB \x3d max( value.x, max( value.g, value.b ) );\n    float D      \x3d max( maxRange / maxRGB, 1.0 );\n    D            \x3d min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM \x3d mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp \x3d value.rgb * cLogLuvM;\n  Xp_Y_XYZp \x3d max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy \x3d Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le \x3d 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w \x3d fract(Le);\n  vResult.z \x3d (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM \x3d mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le \x3d value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y \x3d exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z \x3d Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x \x3d value.x * Xp_Y_XYZp.z;\n  vec3 vRGB \x3d Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n";
f.ShaderChunk.encodings_fragment="  gl_FragColor \x3d linearToOutputTexel( gl_FragColor );\n";f.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex \x3d normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec \x3d reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec \x3d refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec \x3d vReflect;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal \x3d ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#else\n\t\tfloat flipNormal \x3d 1.0;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor \x3d textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y \x3d saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x \x3d atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor \x3d texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView \x3d flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor \x3d texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\tenvColor \x3d envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight \x3d mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight \x3d mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight +\x3d envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n";
f.ShaderChunk.envmap_pars_fragment="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) \x26\x26 ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n";
f.ShaderChunk.envmap_pars_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n";f.ShaderChunk.envmap_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition \x3d worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex \x3d normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal \x3d inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect \x3d reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect \x3d refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n";
f.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth \x3d gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth \x3d gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor \x3d whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor \x3d smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb \x3d mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n";
f.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif";f.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse +\x3d PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n";f.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif";
f.ShaderChunk.lights_lambert_vertex="vec3 diffuse \x3d vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position \x3d mvPosition.xyz;\ngeometry.normal \x3d normalize( transformedNormal );\ngeometry.viewDir \x3d normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position \x3d geometry.position;\nbackGeometry.normal \x3d -geometry.normal;\nbackGeometry.viewDir \x3d geometry.viewDir;\nvLightFront \x3d vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack \x3d vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL \x3d dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse \x3d PI * directLight.color;\n\t\tvLightFront +\x3d saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL \x3d dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse \x3d PI * directLight.color;\n\t\tvLightFront +\x3d saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL \x3d dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse \x3d PI * directLight.color;\n\t\tvLightFront +\x3d saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n";
f.ShaderChunk.lights_pars="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance \x3d ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *\x3d PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS \x3e 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color \x3d directionalLight.color;\n\t\tdirectLight.direction \x3d directionalLight.direction;\n\t\tdirectLight.visible \x3d true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS \x3e 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector \x3d pointLight.position - geometry.position;\n\t\tdirectLight.direction \x3d normalize( lVector );\n\t\tfloat lightDistance \x3d length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color \x3d pointLight.color;\n\t\t\tdirectLight.color *\x3d punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible \x3d true;\n\t\t} else {\n\t\t\tdirectLight.color \x3d vec3( 0.0 );\n\t\t\tdirectLight.visible \x3d false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS \x3e 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector \x3d spotLight.position - geometry.position;\n\t\tdirectLight.direction \x3d normalize( lVector );\n\t\tfloat lightDistance \x3d length( lVector );\n\t\tfloat angleCos \x3d dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos \x3e spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect \x3d smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color \x3d spotLight.color;\n\t\t\tdirectLight.color *\x3d spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible \x3d true;\n\t\t} else {\n\t\t\tdirectLight.color \x3d vec3( 0.0 );\n\t\t\tdirectLight.visible \x3d false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS \x3e 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL \x3d dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight \x3d 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance \x3d mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *\x3d PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) \x26\x26 defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal \x3d ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal \x3d 1.0;\n\t\t#endif\n\t\tvec3 worldNormal \x3d inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec \x3d flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec \x3d flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor \x3d textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor \x3d vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar \x3d float( maxMIPLevel );\n\t\tfloat desiredMIPLevel \x3d maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec \x3d reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec \x3d refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal \x3d ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal \x3d 1.0;\n\t\t#endif\n\t\treflectVec \x3d inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel \x3d getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec \x3d flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec \x3d flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor \x3d textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y \x3d saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x \x3d atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView \x3d flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n";
f.ShaderChunk.lights_phong_fragment="BlinnPhongMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;\nmaterial.specularColor \x3d specular;\nmaterial.specularShininess \x3d shininess;\nmaterial.specularStrength \x3d specularStrength;\n";f.ShaderChunk.lights_phong_pars_fragment="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *\x3d PI;\n\t#endif\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular +\x3d irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n";
f.ShaderChunk.lights_physical_fragment="PhysicalMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness \x3d clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor \x3d mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor \x3d mix( vec3( 0.16 * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#endif\n";f.ShaderChunk.lights_physical_pars_fragment="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t#endif\n};\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *\x3d PI;\n\t#endif\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular +\x3d irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectSpecular +\x3d radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n";
f.ShaderChunk.lights_template="\nGeometricContext geometry;\ngeometry.position \x3d - vViewPosition;\ngeometry.normal \x3d normal;\ngeometry.viewDir \x3d normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight \x3d pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *\x3d all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight \x3d spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *\x3d all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *\x3d all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance \x3d getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance \x3d texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *\x3d PI;\n\t\t#endif\n\t\tirradiance +\x3d lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS \x3e 0 )\n\t\tfor ( int i \x3d 0; i \x3c NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( PHYSICAL ) \x26\x26 defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance +\x3d getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) \x26\x26 defined( RE_IndirectSpecular )\n\tvec3 radiance \x3d getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\tRE_IndirectSpecular( radiance, geometry, material, reflectedLight );\n#endif\n";
f.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) \x26\x26 defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT \x3d log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif";f.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n";f.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif";
f.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z \x3d log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth \x3d 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z \x3d (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n";f.ShaderChunk.map_fragment="#ifdef USE_MAP\n\tvec4 texelColor \x3d texture2D( map, vUv );\n\ttexelColor \x3d mapTexelToLinear( texelColor );\n\tdiffuseColor *\x3d texelColor;\n#endif\n";
f.ShaderChunk.map_pars_fragment="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n";f.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\tvec4 mapTexel \x3d texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *\x3d mapTexelToLinear( mapTexel );\n#endif\n";f.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n";f.ShaderChunk.metalnessmap_fragment="float metalnessFactor \x3d metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness \x3d texture2D( metalnessMap, vUv );\n\tmetalnessFactor *\x3d texelMetalness.r;\n#endif\n";
f.ShaderChunk.metalnessmap_pars_fragment="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif";f.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\tobjectNormal +\x3d ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal +\x3d ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal +\x3d ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal +\x3d ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n";
f.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif";f.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\ttransformed +\x3d ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed +\x3d ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed +\x3d ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed +\x3d ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed +\x3d ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed +\x3d ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed +\x3d ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed +\x3d ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n";
f.ShaderChunk.normal_fragment="#ifdef FLAT_SHADED\n\tvec3 fdx \x3d vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy \x3d vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal \x3d normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal \x3d normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal \x3d normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal \x3d perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal \x3d perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n";
f.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 \x3d dFdx( eye_pos.xyz );\n\t\tvec3 q1 \x3d dFdy( eye_pos.xyz );\n\t\tvec2 st0 \x3d dFdx( vUv.st );\n\t\tvec2 st1 \x3d dFdy( vUv.st );\n\t\tvec3 S \x3d normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T \x3d normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N \x3d normalize( surf_norm );\n\t\tvec3 mapN \x3d texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy \x3d normalScale * mapN.xy;\n\t\tmat3 tsn \x3d mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n";
f.ShaderChunk.packing="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale \x3d 256. / 255.;const float UnpackDownscale \x3d 255. / 256.;\nconst vec3 PackFactors \x3d vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors \x3d UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 \x3d 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r \x3d vec4( fract( v * PackFactors ), v );\n\tr.yzw -\x3d r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthoDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat OrthoDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n";
f.ShaderChunk.premultiplied_alpha_fragment="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *\x3d gl_FragColor.a;\n#endif\n";f.ShaderChunk.project_vertex="#ifdef USE_SKINNING\n\tvec4 mvPosition \x3d modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition \x3d modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position \x3d projectionMatrix * mvPosition;\n";f.ShaderChunk.roughnessmap_fragment="float roughnessFactor \x3d roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness \x3d texture2D( roughnessMap, vUv );\n\troughnessFactor *\x3d texelRoughness.r;\n#endif\n";
f.ShaderChunk.roughnessmap_pars_fragment="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif";f.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset \x3d vec2( 0.0, 1.0 );\n\t\tvec2 texelSize \x3d vec2( 1.0 ) / size;\n\t\tvec2 centroidUV \x3d floor( uv * size + 0.5 ) / size;\n\t\tfloat lb \x3d texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt \x3d texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb \x3d texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt \x3d texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f \x3d fract( uv * size + 0.5 );\n\t\tfloat a \x3d mix( lb, lt, f.y );\n\t\tfloat b \x3d mix( rb, rt, f.y );\n\t\tfloat c \x3d mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /\x3d shadowCoord.w;\n\t\tshadowCoord.z +\x3d shadowBias;\n\t\tbvec4 inFrustumVec \x3d bvec4 ( shadowCoord.x \x3e\x3d 0.0, shadowCoord.x \x3c\x3d 1.0, shadowCoord.y \x3e\x3d 0.0, shadowCoord.y \x3c\x3d 1.0 );\n\t\tbool inFrustum \x3d all( inFrustumVec );\n\t\tbvec2 frustumTestVec \x3d bvec2( inFrustum, shadowCoord.z \x3c\x3d 1.0 );\n\t\tbool frustumTest \x3d all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 \x3d - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 \x3d - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 \x3d + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 \x3d + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 \x3d - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 \x3d - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 \x3d + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 \x3d + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV \x3d abs( v );\n\t\tfloat scaleToCube \x3d 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *\x3d scaleToCube;\n\t\tv *\x3d scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar \x3d v.xy;\n\t\tfloat almostATexel \x3d 1.5 * texelSizeY;\n\t\tfloat almostOne \x3d 1.0 - almostATexel;\n\t\tif ( absV.z \x3e\x3d almostOne ) {\n\t\t\tif ( v.z \x3e 0.0 )\n\t\t\t\tplanar.x \x3d 4.0 - v.x;\n\t\t} else if ( absV.x \x3e\x3d almostOne ) {\n\t\t\tfloat signX \x3d sign( v.x );\n\t\t\tplanar.x \x3d v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y \x3e\x3d almostOne ) {\n\t\t\tfloat signY \x3d sign( v.y );\n\t\t\tplanar.x \x3d v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y \x3d v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize \x3d vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition \x3d shadowCoord.xyz;\n\t\tvec3 bd3D \x3d normalize( lightToPosition );\n\t\tfloat dp \x3d ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset \x3d vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n";
f.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n";
f.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] \x3d directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] \x3d spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] \x3d pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n";
f.ShaderChunk.shadowmask_pars_fragment="float getShadowMask() {\n\tfloat shadow \x3d 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\tDirectionalLight directionalLight;\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLights[ i ];\n\t\tshadow *\x3d bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\tSpotLight spotLight;\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight \x3d spotLights[ i ];\n\t\tshadow *\x3d bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\tPointLight pointLight;\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight \x3d pointLights[ i ];\n\t\tshadow *\x3d bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n";
f.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\tmat4 boneMatX \x3d getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY \x3d getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ \x3d getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW \x3d getBoneMatrix( skinIndex.w );\n#endif";f.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j \x3d i * 4.0;\n\t\t\tfloat x \x3d mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y \x3d floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx \x3d 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy \x3d 1.0 / float( boneTextureHeight );\n\t\t\ty \x3d dy * ( y + 0.5 );\n\t\t\tvec4 v1 \x3d texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 \x3d texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 \x3d texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 \x3d texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone \x3d mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone \x3d boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n";
f.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\tvec4 skinVertex \x3d bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned \x3d vec4( 0.0 );\n\tskinned +\x3d boneMatX * skinVertex * skinWeight.x;\n\tskinned +\x3d boneMatY * skinVertex * skinWeight.y;\n\tskinned +\x3d boneMatZ * skinVertex * skinWeight.z;\n\tskinned +\x3d boneMatW * skinVertex * skinWeight.w;\n\tskinned  \x3d bindMatrixInverse * skinned;\n#endif\n";f.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\tmat4 skinMatrix \x3d mat4( 0.0 );\n\tskinMatrix +\x3d skinWeight.x * boneMatX;\n\tskinMatrix +\x3d skinWeight.y * boneMatY;\n\tskinMatrix +\x3d skinWeight.z * boneMatZ;\n\tskinMatrix +\x3d skinWeight.w * boneMatW;\n\tskinMatrix  \x3d bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal \x3d vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n";
f.ShaderChunk.specularmap_fragment="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular \x3d texture2D( specularMap, vUv );\n\tspecularStrength \x3d texelSpecular.r;\n#else\n\tspecularStrength \x3d 1.0;\n#endif";f.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif";f.ShaderChunk.tonemapping_fragment="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb \x3d toneMapping( gl_FragColor.rgb );\n#endif\n";
f.ShaderChunk.tonemapping_pars_fragment="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *\x3d toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *\x3d toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *\x3d toneMappingExposure;\n  color \x3d max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n";
f.ShaderChunk.uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif";f.ShaderChunk.uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif";f.ShaderChunk.uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 \x3d uv2;\n#endif";f.ShaderChunk.uv_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif";
f.ShaderChunk.uv_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n";f.ShaderChunk.uv_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv \x3d uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif";
f.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition \x3d modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition \x3d modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n";
f.UniformsUtils={merge:function(a){for(var b={},c=0;c<a.length;c++){var d=this.clone(a[c]),e;for(e in d)b[e]=d[e]}return b},clone:function(a){var b={},c;for(c in a){b[c]={};for(var d in a[c]){var e=a[c][d];b[c][d]=e instanceof f.Color||e instanceof f.Vector2||e instanceof f.Vector3||e instanceof f.Vector4||e instanceof f.Matrix3||e instanceof f.Matrix4||e instanceof f.Texture?e.clone():Array.isArray(e)?e.slice():e}}return b}};
f.UniformsLib={common:{diffuse:{type:"c",value:new f.Color(15658734)},opacity:{type:"1f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new f.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"1f",value:-1},reflectivity:{type:"1f",value:1},refractionRatio:{type:"1f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"1f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"1f",
value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"1f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new f.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",value:null},displacementScale:{type:"1f",value:1},displacementBias:{type:"1f",value:0}},roughnessmap:{roughnessMap:{type:"t",value:null}},metalnessmap:{metalnessMap:{type:"t",value:null}},fog:{fogDensity:{type:"1f",value:2.5E-4},fogNear:{type:"1f",
value:1},fogFar:{type:"1f",value:2E3},fogColor:{type:"c",value:new f.Color(16777215)}},lights:{ambientLightColor:{type:"3fv",value:[]},directionalLights:{type:"sa",value:[],properties:{direction:{type:"v3"},color:{type:"c"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},directionalShadowMap:{type:"tv",value:[]},directionalShadowMatrix:{type:"m4v",value:[]},spotLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},direction:{type:"v3"},
distance:{type:"1f"},coneCos:{type:"1f"},penumbraCos:{type:"1f"},decay:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},spotShadowMap:{type:"tv",value:[]},spotShadowMatrix:{type:"m4v",value:[]},pointLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},decay:{type:"1f"},distance:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},pointShadowMap:{type:"tv",value:[]},
pointShadowMatrix:{type:"m4v",value:[]},hemisphereLights:{type:"sa",value:[],properties:{direction:{type:"v3"},skyColor:{type:"c"},groundColor:{type:"c"}}}},points:{diffuse:{type:"c",value:new f.Color(15658734)},opacity:{type:"1f",value:1},size:{type:"1f",value:1},scale:{type:"1f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new f.Vector4(0,0,1,1)}}};f.ShaderChunk.cube_frag="uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tgl_FragColor \x3d textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\t#include \x3clogdepthbuf_fragment\x3e\n}\n";
f.ShaderChunk.cube_vert="varying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvWorldPosition \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";f.ShaderChunk.depth_frag="#if DEPTH_PACKING \x3d\x3d 3200\n\tuniform float opacity;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( 1.0 );\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tdiffuseColor.a \x3d opacity;\n\t#endif\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tgl_FragColor \x3d vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING \x3d\x3d 3201\n\t\tgl_FragColor \x3d packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n";
f.ShaderChunk.depth_vert="#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";
f.ShaderChunk.distanceRGBA_frag="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main () {\n\t#include \x3cclipping_planes_fragment\x3e\n\tgl_FragColor \x3d packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n";f.ShaderChunk.distanceRGBA_vert="varying vec4 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvWorldPosition \x3d worldPosition;\n}\n";
f.ShaderChunk.equirect_frag="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 direction \x3d normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y \x3d saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x \x3d atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor \x3d texture2D( tEquirect, sampleUV );\n\t#include \x3clogdepthbuf_fragment\x3e\n}\n";
f.ShaderChunk.equirect_vert="varying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvWorldPosition \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";f.ShaderChunk.linedashed_frag="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tif ( mod( vLineDistance, totalSize ) \x3e dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
f.ShaderChunk.linedashed_vert="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3ccolor_vertex\x3e\n\tvLineDistance \x3d scale * lineDistance;\n\tvec4 mvPosition \x3d modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position \x3d projectionMatrix * mvPosition;\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";
f.ShaderChunk.meshbasic_frag="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse \x3d vec3( 0.0 );\n\treflectedLight.directSpecular \x3d vec3( 0.0 );\n\treflectedLight.indirectDiffuse \x3d diffuseColor.rgb;\n\treflectedLight.indirectSpecular \x3d vec3( 0.0 );\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.indirectDiffuse;\n\t#include \x3cenvmap_fragment\x3e\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
f.ShaderChunk.meshbasic_vert="#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#ifdef USE_ENVMAP\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n}\n";
f.ShaderChunk.meshlambert_frag="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cshadowmask_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\treflectedLight.indirectDiffuse \x3d getAmbientLightIrradiance( ambientLightColor );\n\t#include \x3clightmap_fragment\x3e\n\treflectedLight.indirectDiffuse *\x3d BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse \x3d ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse \x3d vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *\x3d BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
f.ShaderChunk.meshlambert_vert="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3clights_lambert_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
f.ShaderChunk.meshphong_frag="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3clights_phong_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cnormal_fragment\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_phong_fragment\x3e\n\t#include \x3clights_template\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
f.ShaderChunk.meshphong_vert="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n#ifndef FLAT_SHADED\n\tvNormal \x3d normalize( transformedNormal );\n#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
f.ShaderChunk.meshphysical_frag="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3ccube_uv_reflection_fragment\x3e\n#include \x3clights_pars\x3e\n#include \x3clights_physical_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3croughnessmap_pars_fragment\x3e\n#include \x3cmetalnessmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3croughnessmap_fragment\x3e\n\t#include \x3cmetalnessmap_fragment\x3e\n\t#include \x3cnormal_fragment\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_physical_fragment\x3e\n\t#include \x3clights_template\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
f.ShaderChunk.meshphysical_vert="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n#ifndef FLAT_SHADED\n\tvNormal \x3d normalize( transformedNormal );\n#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
f.ShaderChunk.normal_frag="uniform float opacity;\nvarying vec3 vNormal;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tgl_FragColor \x3d vec4( packNormalToRGB( vNormal ), opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n}\n";f.ShaderChunk.normal_vert="varying vec3 vNormal;\n#include \x3ccommon\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvNormal \x3d normalize( normalMatrix * normal );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";
f.ShaderChunk.points_frag="uniform vec3 diffuse;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cmap_particle_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_particle_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
f.ShaderChunk.points_vert="uniform float size;\nuniform float scale;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize \x3d size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize \x3d size;\n\t#endif\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
f.ShaderChunk.shadow_frag="uniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cshadowmask_pars_fragment\x3e\nvoid main() {\n\tgl_FragColor \x3d vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n";f.ShaderChunk.shadow_vert="#include \x3cshadowmap_pars_vertex\x3e\nvoid main() {\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
f.ShaderLib={basic:{uniforms:f.UniformsUtils.merge([f.UniformsLib.common,f.UniformsLib.aomap,f.UniformsLib.fog]),vertexShader:f.ShaderChunk.meshbasic_vert,fragmentShader:f.ShaderChunk.meshbasic_frag},lambert:{uniforms:f.UniformsUtils.merge([f.UniformsLib.common,f.UniformsLib.aomap,f.UniformsLib.lightmap,f.UniformsLib.emissivemap,f.UniformsLib.fog,f.UniformsLib.lights,{emissive:{type:"c",value:new f.Color(0)}}]),vertexShader:f.ShaderChunk.meshlambert_vert,fragmentShader:f.ShaderChunk.meshlambert_frag},
phong:{uniforms:f.UniformsUtils.merge([f.UniformsLib.common,f.UniformsLib.aomap,f.UniformsLib.lightmap,f.UniformsLib.emissivemap,f.UniformsLib.bumpmap,f.UniformsLib.normalmap,f.UniformsLib.displacementmap,f.UniformsLib.fog,f.UniformsLib.lights,{emissive:{type:"c",value:new f.Color(0)},specular:{type:"c",value:new f.Color(1118481)},shininess:{type:"1f",value:30}}]),vertexShader:f.ShaderChunk.meshphong_vert,fragmentShader:f.ShaderChunk.meshphong_frag},standard:{uniforms:f.UniformsUtils.merge([f.UniformsLib.common,
f.UniformsLib.aomap,f.UniformsLib.lightmap,f.UniformsLib.emissivemap,f.UniformsLib.bumpmap,f.UniformsLib.normalmap,f.UniformsLib.displacementmap,f.UniformsLib.roughnessmap,f.UniformsLib.metalnessmap,f.UniformsLib.fog,f.UniformsLib.lights,{emissive:{type:"c",value:new f.Color(0)},roughness:{type:"1f",value:.5},metalness:{type:"1f",value:0},envMapIntensity:{type:"1f",value:1}}]),vertexShader:f.ShaderChunk.meshphysical_vert,fragmentShader:f.ShaderChunk.meshphysical_frag},points:{uniforms:f.UniformsUtils.merge([f.UniformsLib.points,
f.UniformsLib.fog]),vertexShader:f.ShaderChunk.points_vert,fragmentShader:f.ShaderChunk.points_frag},dashed:{uniforms:f.UniformsUtils.merge([f.UniformsLib.common,f.UniformsLib.fog,{scale:{type:"1f",value:1},dashSize:{type:"1f",value:1},totalSize:{type:"1f",value:2}}]),vertexShader:f.ShaderChunk.linedashed_vert,fragmentShader:f.ShaderChunk.linedashed_frag},depth:{uniforms:f.UniformsUtils.merge([f.UniformsLib.common,f.UniformsLib.displacementmap]),vertexShader:f.ShaderChunk.depth_vert,fragmentShader:f.ShaderChunk.depth_frag},
normal:{uniforms:{opacity:{type:"1f",value:1}},vertexShader:f.ShaderChunk.normal_vert,fragmentShader:f.ShaderChunk.normal_frag},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:f.ShaderChunk.cube_vert,fragmentShader:f.ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:f.ShaderChunk.equirect_vert,fragmentShader:f.ShaderChunk.equirect_frag},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new f.Vector3}},
vertexShader:f.ShaderChunk.distanceRGBA_vert,fragmentShader:f.ShaderChunk.distanceRGBA_frag}};f.ShaderLib.physical={uniforms:f.UniformsUtils.merge([f.ShaderLib.standard.uniforms,{}]),vertexShader:f.ShaderChunk.meshphysical_vert,fragmentShader:f.ShaderChunk.meshphysical_frag};
f.WebGLRenderer=function(a){function b(z,C,E,Z){!0===R&&(z*=Z,C*=Z,E*=Z);ea.clearColor(z,C,E,Z)}function c(){ea.init();ea.scissor(Ja.copy(Mb).multiplyScalar(Oa));ea.viewport(nb.copy(ob).multiplyScalar(Oa));b(Pa.r,Pa.g,Pa.b,fb)}function d(){sa=ja=null;xa="";la=-1;ea.reset()}function e(z){z.preventDefault();d();c();ua.clear()}function g(z){z=z.target;z.removeEventListener("dispose",g);a:{var C=ua.get(z);if(z.image&&C.__image__webglTextureCube)G.deleteTexture(C.__image__webglTextureCube);else{if(void 0===
C.__webglInit)break a;G.deleteTexture(C.__webglTexture)}ua.delete(z)}gb.textures--}function h(z){z=z.target;z.removeEventListener("dispose",h);var C=ua.get(z),E=ua.get(z.texture);if(z){void 0!==E.__webglTexture&&G.deleteTexture(E.__webglTexture);z.depthTexture&&z.depthTexture.dispose();if(z instanceof f.WebGLRenderTargetCube)for(E=0;6>E;E++)G.deleteFramebuffer(C.__webglFramebuffer[E]),C.__webglDepthbuffer&&G.deleteRenderbuffer(C.__webglDepthbuffer[E]);else G.deleteFramebuffer(C.__webglFramebuffer),
C.__webglDepthbuffer&&G.deleteRenderbuffer(C.__webglDepthbuffer);ua.delete(z.texture);ua.delete(z)}gb.textures--}function k(z){z=z.target;z.removeEventListener("dispose",k);l(z);ua.delete(z)}function l(z){var C=ua.get(z).program;z.program=void 0;void 0!==C&&pb.releaseProgram(C)}function m(z,C){return Math.abs(C[0])-Math.abs(z[0])}function n(z,C){return z.object.renderOrder!==C.object.renderOrder?z.object.renderOrder-C.object.renderOrder:z.material.id!==C.material.id?z.material.id-C.material.id:z.z!==
C.z?z.z-C.z:z.id-C.id}function q(z,C){return z.object.renderOrder!==C.object.renderOrder?z.object.renderOrder-C.object.renderOrder:z.z!==C.z?C.z-z.z:z.id-C.id}function p(z,C,E,Z,aa){if(E.transparent){Z=X;var ba=++M}else Z=J,ba=++S;ba=Z[ba];void 0!==ba?(ba.id=z.id,ba.object=z,ba.geometry=C,ba.material=E,ba.z=Ea.z,ba.group=aa):(ba={id:z.id,object:z,geometry:C,material:E,z:Ea.z,group:aa},Z.push(ba))}function t(z){if(!hc.intersectsSphere(z))return!1;var C=Ra.numPlanes;if(0===C)return!0;var E=ia.clippingPlanes,
Z=z.center;z=-z.radius;var aa=0;do if(E[aa].distanceToPoint(Z)<z)return!1;while(++aa!==C);return!0}function r(z,C){if(!1!==z.visible){if(z.layers.test(C.layers))if(z instanceof f.Light)I.push(z);else if(z instanceof f.Sprite){var E;if(E=!1!==z.frustumCulled)hb.center.set(0,0,0),hb.radius=.7071067811865476,hb.applyMatrix4(z.matrixWorld),E=!0!==t(hb);E||ca.push(z)}else if(z instanceof f.LensFlare)ha.push(z);else if(z instanceof f.ImmediateRenderObject)!0===ia.sortObjects&&(Bb(Ea,z.matrixWorld),sb(Ea,
ub)),p(z,null,z.material,Ea.z,null);else if(z instanceof f.Mesh||z instanceof f.Line||z instanceof f.Points)if(z instanceof f.SkinnedMesh&&z.skeleton.update(),(E=!1===z.frustumCulled)||(E=z.geometry,null===E.boundingSphere&&E.computeBoundingSphere(),hb.copy(E.boundingSphere).applyMatrix4(z.matrixWorld),E=!0===t(hb)),E){var Z=z.material;if(!0===Z.visible)if(!0===ia.sortObjects&&(Bb(Ea,z.matrixWorld),sb(Ea,ub)),E=qb.update(z),Z instanceof f.MultiMaterial){var aa=E.groups,ba=Z.materials;Z=0;for(var T=
aa.length;Z<T;Z++){var da=aa[Z],V=ba[da.materialIndex];!0===V.visible&&p(z,E,V,Ea.z,da)}}else p(z,E,Z,Ea.z,null)}z=z.children;Z=0;for(T=z.length;Z<T;Z++)r(z[Z],C)}}function v(z,C,E,Z){for(var aa=0,ba=z.length;aa<ba;aa++){var T=z[aa],da=T.object,V=T.geometry,oa=void 0===Z?T.material:Z;T=T.group;Cb(da.modelViewMatrix,C.matrixWorldInverse,da.matrixWorld);Gb(da.normalMatrix,da.modelViewMatrix);if(da instanceof f.ImmediateRenderObject){u(oa);var ta=w(C,E,oa,da);xa="";da.render(function(ra){ia.renderBufferImmediate(ra,
ta,oa)})}else ia.renderBufferDirect(C,E,V,oa,da,T)}}function u(z){z.side!==f.DoubleSide?ea.enable(G.CULL_FACE):ea.disable(G.CULL_FACE);ea.setFlipSided(z.side===f.BackSide);!0===z.transparent?ea.setBlending(z.blending,z.blendEquation,z.blendSrc,z.blendDst,z.blendEquationAlpha,z.blendSrcAlpha,z.blendDstAlpha,z.premultipliedAlpha):ea.setBlending(f.NoBlending);ea.setDepthFunc(z.depthFunc);ea.setDepthTest(z.depthTest);ea.setDepthWrite(z.depthWrite);ea.setColorWrite(z.colorWrite);ea.setPolygonOffset(z.polygonOffset,
z.polygonOffsetFactor,z.polygonOffsetUnits)}function w(z,C,E,Z){Nb=0;var aa=ua.get(E);vb&&((Ob||z!==sa)&&Ra.setState(E.clippingPlanes,E.clipShadows,z,aa,z===sa&&E.id===la),void 0!==aa.numClippingPlanes&&aa.numClippingPlanes!==Ra.numPlanes&&(E.needsUpdate=!0));void 0===aa.program&&(E.needsUpdate=!0);void 0!==aa.lightsHash&&aa.lightsHash!==qa.hash&&(E.needsUpdate=!0);if(E.needsUpdate){a:{var ba=ua.get(E),T=pb.getParameters(E,qa,C,Ra.numPlanes,Z),da=pb.getProgramCode(E,T),V=ba.program,oa=!0;if(void 0===
V)E.addEventListener("dispose",k);else if(V.code!==da)l(E);else{if(void 0!==T.shaderID)break a;oa=!1}oa&&(T.shaderID?(V=f.ShaderLib[T.shaderID],ba.__webglShader={name:E.type,uniforms:f.UniformsUtils.clone(V.uniforms),vertexShader:V.vertexShader,fragmentShader:V.fragmentShader}):ba.__webglShader={name:E.type,uniforms:E.uniforms,vertexShader:E.vertexShader,fragmentShader:E.fragmentShader},E.__webglShader=ba.__webglShader,V=pb.acquireProgram(E,T,da),ba.program=V,E.program=V);T=V.getAttributes();if(E.morphTargets)for(da=
E.numSupportedMorphTargets=0;da<ia.maxMorphTargets;da++)0<=T["morphTarget"+da]&&E.numSupportedMorphTargets++;if(E.morphNormals)for(da=E.numSupportedMorphNormals=0;da<ia.maxMorphNormals;da++)0<=T["morphNormal"+da]&&E.numSupportedMorphNormals++;T=ba.__webglShader.uniforms;(E instanceof f.ShaderMaterial||E instanceof f.RawShaderMaterial)&&!0!==E.clipping||(ba.numClippingPlanes=Ra.numPlanes,T.clippingPlanes=Ra.uniform);E.lights&&(ba.lightsHash=qa.hash,T.ambientLightColor.value=qa.ambient,T.directionalLights.value=
qa.directional,T.spotLights.value=qa.spot,T.pointLights.value=qa.point,T.hemisphereLights.value=qa.hemi,T.directionalShadowMap.value=qa.directionalShadowMap,T.directionalShadowMatrix.value=qa.directionalShadowMatrix,T.spotShadowMap.value=qa.spotShadowMap,T.spotShadowMatrix.value=qa.spotShadowMatrix,T.pointShadowMap.value=qa.pointShadowMap,T.pointShadowMatrix.value=qa.pointShadowMatrix);da=ba.program.getUniforms();da=f.WebGLUniforms.seqWithValue(da.seq,T);ba.uniformsList=da;ba.dynamicUniforms=f.WebGLUniforms.splitDynamic(da,
T)}E.needsUpdate=!1}var ta=!1;oa=V=!1;ba=aa.program;da=ba.getUniforms();T=aa.__webglShader.uniforms;ba.id!==ja&&(G.useProgram(ba.program),ja=ba.id,oa=V=ta=!0);E.id!==la&&(la=E.id,V=!0);if(ta||z!==sa){da.set(G,z,"projectionMatrix");Sa.logarithmicDepthBuffer&&da.setValue(G,"logDepthBufFC",2/(Math.log(z.far+1)/Math.LN2));z!==sa&&(sa=z,oa=V=!0);if(E instanceof f.ShaderMaterial||E instanceof f.MeshPhongMaterial||E instanceof f.MeshStandardMaterial||E.envMap)ta=da.map.cameraPosition,void 0!==ta&&ta.setValue(G,
Bb(Ea,z.matrixWorld));(E instanceof f.MeshPhongMaterial||E instanceof f.MeshLambertMaterial||E instanceof f.MeshBasicMaterial||E instanceof f.MeshStandardMaterial||E instanceof f.ShaderMaterial||E.skinning)&&da.setValue(G,"viewMatrix",z.matrixWorldInverse);da.set(G,ia,"toneMappingExposure");da.set(G,ia,"toneMappingWhitePoint")}E.skinning&&(da.setOptional(G,Z,"bindMatrix"),da.setOptional(G,Z,"bindMatrixInverse"),ta=Z.skeleton)&&(Sa.floatVertexTextures&&ta.useVertexTexture?(da.set(G,ta,"boneTexture"),
da.set(G,ta,"boneTextureWidth"),da.set(G,ta,"boneTextureHeight")):da.setOptional(G,ta,"boneMatrices"));if(V){E.lights&&(V=oa,T.ambientLightColor.needsUpdate=V,T.directionalLights.needsUpdate=V,T.pointLights.needsUpdate=V,T.spotLights.needsUpdate=V,T.hemisphereLights.needsUpdate=V);C&&E.fog&&(T.fogColor.value=C.color,C instanceof f.Fog?(T.fogNear.value=C.near,T.fogFar.value=C.far):C instanceof f.FogExp2&&(T.fogDensity.value=C.density));if(E instanceof f.MeshBasicMaterial||E instanceof f.MeshLambertMaterial||
E instanceof f.MeshPhongMaterial||E instanceof f.MeshStandardMaterial||E instanceof f.MeshDepthMaterial){T.opacity.value=E.opacity;T.diffuse.value=E.color;E.emissive&&T.emissive.value.copy(E.emissive).multiplyScalar(E.emissiveIntensity);T.map.value=E.map;T.specularMap.value=E.specularMap;T.alphaMap.value=E.alphaMap;E.aoMap&&(T.aoMap.value=E.aoMap,T.aoMapIntensity.value=E.aoMapIntensity);if(E.map)var ra=E.map;else E.specularMap?ra=E.specularMap:E.displacementMap?ra=E.displacementMap:E.normalMap?ra=
E.normalMap:E.bumpMap?ra=E.bumpMap:E.roughnessMap?ra=E.roughnessMap:E.metalnessMap?ra=E.metalnessMap:E.alphaMap?ra=E.alphaMap:E.emissiveMap&&(ra=E.emissiveMap);void 0!==ra&&(ra instanceof f.WebGLRenderTarget&&(ra=ra.texture),C=ra.offset,ra=ra.repeat,T.offsetRepeat.value.set(C.x,C.y,ra.x,ra.y));T.envMap.value=E.envMap;T.flipEnvMap.value=E.envMap instanceof f.CubeTexture?-1:1;T.reflectivity.value=E.reflectivity;T.refractionRatio.value=E.refractionRatio}E instanceof f.LineBasicMaterial?(T.diffuse.value=
E.color,T.opacity.value=E.opacity):E instanceof f.LineDashedMaterial?(T.diffuse.value=E.color,T.opacity.value=E.opacity,T.dashSize.value=E.dashSize,T.totalSize.value=E.dashSize+E.gapSize,T.scale.value=E.scale):E instanceof f.PointsMaterial?(T.diffuse.value=E.color,T.opacity.value=E.opacity,T.size.value=E.size*Oa,T.scale.value=.5*Q.clientHeight,T.map.value=E.map,null!==E.map&&(ra=E.map.offset,E=E.map.repeat,T.offsetRepeat.value.set(ra.x,ra.y,E.x,E.y))):E instanceof f.MeshLambertMaterial?(E.lightMap&&
(T.lightMap.value=E.lightMap,T.lightMapIntensity.value=E.lightMapIntensity),E.emissiveMap&&(T.emissiveMap.value=E.emissiveMap)):E instanceof f.MeshPhongMaterial?(T.specular.value=E.specular,T.shininess.value=Math.max(E.shininess,1E-4),E.lightMap&&(T.lightMap.value=E.lightMap,T.lightMapIntensity.value=E.lightMapIntensity),E.emissiveMap&&(T.emissiveMap.value=E.emissiveMap),E.bumpMap&&(T.bumpMap.value=E.bumpMap,T.bumpScale.value=E.bumpScale),E.normalMap&&(T.normalMap.value=E.normalMap,T.normalScale.value.copy(E.normalScale)),
E.displacementMap&&(T.displacementMap.value=E.displacementMap,T.displacementScale.value=E.displacementScale,T.displacementBias.value=E.displacementBias)):E instanceof f.MeshPhysicalMaterial?x(T,E):E instanceof f.MeshStandardMaterial?x(T,E):E instanceof f.MeshDepthMaterial?E.displacementMap&&(T.displacementMap.value=E.displacementMap,T.displacementScale.value=E.displacementScale,T.displacementBias.value=E.displacementBias):E instanceof f.MeshNormalMaterial&&(T.opacity.value=E.opacity);f.WebGLUniforms.upload(G,
aa.uniformsList,T,ia)}da.set(G,Z,"modelViewMatrix");da.set(G,Z,"normalMatrix");da.setValue(G,"modelMatrix",Z.matrixWorld);aa=aa.dynamicUniforms;null!==aa&&(f.WebGLUniforms.evalDynamic(aa,T,Z,z),f.WebGLUniforms.upload(G,aa,T,ia));return ba}function x(z,C){z.roughness.value=C.roughness;z.metalness.value=C.metalness;C.roughnessMap&&(z.roughnessMap.value=C.roughnessMap);C.metalnessMap&&(z.metalnessMap.value=C.metalnessMap);C.lightMap&&(z.lightMap.value=C.lightMap,z.lightMapIntensity.value=C.lightMapIntensity);
C.emissiveMap&&(z.emissiveMap.value=C.emissiveMap);C.bumpMap&&(z.bumpMap.value=C.bumpMap,z.bumpScale.value=C.bumpScale);C.normalMap&&(z.normalMap.value=C.normalMap,z.normalScale.value.copy(C.normalScale));C.displacementMap&&(z.displacementMap.value=C.displacementMap,z.displacementScale.value=C.displacementScale,z.displacementBias.value=C.displacementBias);C.envMap&&(z.envMapIntensity.value=C.envMapIntensity)}function A(z,C,E){E?(G.texParameteri(z,G.TEXTURE_WRAP_S,N(C.wrapS)),G.texParameteri(z,G.TEXTURE_WRAP_T,
N(C.wrapT)),G.texParameteri(z,G.TEXTURE_MAG_FILTER,N(C.magFilter)),G.texParameteri(z,G.TEXTURE_MIN_FILTER,N(C.minFilter))):(G.texParameteri(z,G.TEXTURE_WRAP_S,G.CLAMP_TO_EDGE),G.texParameteri(z,G.TEXTURE_WRAP_T,G.CLAMP_TO_EDGE),C.wrapS===f.ClampToEdgeWrapping&&C.wrapT===f.ClampToEdgeWrapping||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",C),G.texParameteri(z,G.TEXTURE_MAG_FILTER,L(C.magFilter)),G.texParameteri(z,
G.TEXTURE_MIN_FILTER,L(C.minFilter)),C.minFilter!==f.NearestFilter&&C.minFilter!==f.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",C));!(E=ya.get("EXT_texture_filter_anisotropic"))||C.type===f.FloatType&&null===ya.get("OES_texture_float_linear")||C.type===f.HalfFloatType&&null===ya.get("OES_texture_half_float_linear")||!(1<C.anisotropy||ua.get(C).__currentAnisotropy)||(G.texParameterf(z,E.TEXTURE_MAX_ANISOTROPY_EXT,
Math.min(C.anisotropy,ia.getMaxAnisotropy())),ua.get(C).__currentAnisotropy=C.anisotropy)}function y(z,C){if(z.width>C||z.height>C){C/=Math.max(z.width,z.height);var E=document.createElement("canvas");E.width=Math.floor(z.width*C);E.height=Math.floor(z.height*C);E.getContext("2d").drawImage(z,0,0,z.width,z.height,0,0,E.width,E.height);console.warn("THREE.WebGLRenderer: image is too big ("+z.width+"x"+z.height+"). Resized to "+E.width+"x"+E.height,z);return E}return z}function B(z){return f.Math.isPowerOfTwo(z.width)&&
f.Math.isPowerOfTwo(z.height)}function F(z,C,E,Z){var aa=N(C.texture.format),ba=N(C.texture.type);ea.texImage2D(Z,0,aa,C.width,C.height,0,aa,ba,null);G.bindFramebuffer(G.FRAMEBUFFER,z);G.framebufferTexture2D(G.FRAMEBUFFER,E,Z,ua.get(C.texture).__webglTexture,0);G.bindFramebuffer(G.FRAMEBUFFER,null)}function K(z,C){G.bindRenderbuffer(G.RENDERBUFFER,z);C.depthBuffer&&!C.stencilBuffer?(G.renderbufferStorage(G.RENDERBUFFER,G.DEPTH_COMPONENT16,C.width,C.height),G.framebufferRenderbuffer(G.FRAMEBUFFER,
G.DEPTH_ATTACHMENT,G.RENDERBUFFER,z)):C.depthBuffer&&C.stencilBuffer?(G.renderbufferStorage(G.RENDERBUFFER,G.DEPTH_STENCIL,C.width,C.height),G.framebufferRenderbuffer(G.FRAMEBUFFER,G.DEPTH_STENCIL_ATTACHMENT,G.RENDERBUFFER,z)):G.renderbufferStorage(G.RENDERBUFFER,G.RGBA4,C.width,C.height);G.bindRenderbuffer(G.RENDERBUFFER,null)}function L(z){return z===f.NearestFilter||z===f.NearestMipMapNearestFilter||z===f.NearestMipMapLinearFilter?G.NEAREST:G.LINEAR}function N(z){if(z===f.RepeatWrapping)return G.REPEAT;
if(z===f.ClampToEdgeWrapping)return G.CLAMP_TO_EDGE;if(z===f.MirroredRepeatWrapping)return G.MIRRORED_REPEAT;if(z===f.NearestFilter)return G.NEAREST;if(z===f.NearestMipMapNearestFilter)return G.NEAREST_MIPMAP_NEAREST;if(z===f.NearestMipMapLinearFilter)return G.NEAREST_MIPMAP_LINEAR;if(z===f.LinearFilter)return G.LINEAR;if(z===f.LinearMipMapNearestFilter)return G.LINEAR_MIPMAP_NEAREST;if(z===f.LinearMipMapLinearFilter)return G.LINEAR_MIPMAP_LINEAR;if(z===f.UnsignedByteType)return G.UNSIGNED_BYTE;if(z===
f.UnsignedShort4444Type)return G.UNSIGNED_SHORT_4_4_4_4;if(z===f.UnsignedShort5551Type)return G.UNSIGNED_SHORT_5_5_5_1;if(z===f.UnsignedShort565Type)return G.UNSIGNED_SHORT_5_6_5;if(z===f.ByteType)return G.BYTE;if(z===f.ShortType)return G.SHORT;if(z===f.UnsignedShortType)return G.UNSIGNED_SHORT;if(z===f.IntType)return G.INT;if(z===f.UnsignedIntType)return G.UNSIGNED_INT;if(z===f.FloatType)return G.FLOAT;var C=ya.get("OES_texture_half_float");if(null!==C&&z===f.HalfFloatType)return C.HALF_FLOAT_OES;
if(z===f.AlphaFormat)return G.ALPHA;if(z===f.RGBFormat)return G.RGB;if(z===f.RGBAFormat)return G.RGBA;if(z===f.LuminanceFormat)return G.LUMINANCE;if(z===f.LuminanceAlphaFormat)return G.LUMINANCE_ALPHA;if(z===f.DepthFormat)return G.DEPTH_COMPONENT;if(z===f.AddEquation)return G.FUNC_ADD;if(z===f.SubtractEquation)return G.FUNC_SUBTRACT;if(z===f.ReverseSubtractEquation)return G.FUNC_REVERSE_SUBTRACT;if(z===f.ZeroFactor)return G.ZERO;if(z===f.OneFactor)return G.ONE;if(z===f.SrcColorFactor)return G.SRC_COLOR;
if(z===f.OneMinusSrcColorFactor)return G.ONE_MINUS_SRC_COLOR;if(z===f.SrcAlphaFactor)return G.SRC_ALPHA;if(z===f.OneMinusSrcAlphaFactor)return G.ONE_MINUS_SRC_ALPHA;if(z===f.DstAlphaFactor)return G.DST_ALPHA;if(z===f.OneMinusDstAlphaFactor)return G.ONE_MINUS_DST_ALPHA;if(z===f.DstColorFactor)return G.DST_COLOR;if(z===f.OneMinusDstColorFactor)return G.ONE_MINUS_DST_COLOR;if(z===f.SrcAlphaSaturateFactor)return G.SRC_ALPHA_SATURATE;C=ya.get("WEBGL_compressed_texture_s3tc");if(null!==C){if(z===f.RGB_S3TC_DXT1_Format)return C.COMPRESSED_RGB_S3TC_DXT1_EXT;
if(z===f.RGBA_S3TC_DXT1_Format)return C.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(z===f.RGBA_S3TC_DXT3_Format)return C.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(z===f.RGBA_S3TC_DXT5_Format)return C.COMPRESSED_RGBA_S3TC_DXT5_EXT}C=ya.get("WEBGL_compressed_texture_pvrtc");if(null!==C){if(z===f.RGB_PVRTC_4BPPV1_Format)return C.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(z===f.RGB_PVRTC_2BPPV1_Format)return C.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(z===f.RGBA_PVRTC_4BPPV1_Format)return C.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(z===f.RGBA_PVRTC_2BPPV1_Format)return C.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}C=
ya.get("WEBGL_compressed_texture_etc1");if(null!==C&&z===f.RGB_ETC1_Format)return C.COMPRESSED_RGB_ETC1_WEBGL;C=ya.get("EXT_blend_minmax");if(null!==C){if(z===f.MinEquation)return C.MIN_EXT;if(z===f.MaxEquation)return C.MAX_EXT}return 0}console.log("THREE.WebGLRenderer",f.REVISION);a=a||{};var Q=void 0!==a.canvas?a.canvas:document.createElement("canvas"),W=void 0!==a.context?a.context:null,H=void 0!==a.alpha?a.alpha:!1,O=void 0!==a.depth?a.depth:!0,P=void 0!==a.stencil?a.stencil:!0,D=void 0!==a.antialias?
a.antialias:!1,R=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,U=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,I=[],J=[],S=-1,X=[],M=-1,Y=new Float32Array(8),ca=[],ha=[];this.domElement=Q;this.context=null;this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1;this.toneMapping=f.LinearToneMapping;this.toneMappingWhitePoint=
this.toneMappingExposure=1;this.maxMorphTargets=8;this.maxMorphNormals=4;this.autoScaleCubemaps=!0;var ia=this,ja=null,ka=null,pa=null,la=-1,xa="",sa=null,Ja=new f.Vector4,Pb=null,nb=new f.Vector4,Nb=0,Pa=new f.Color(0),fb=0,wb=Q.width,xb=Q.height,Oa=1,Mb=new f.Vector4(0,0,wb,xb),ic=!1,ob=new f.Vector4(0,0,wb,xb),hc=new f.Frustum,Ra=new f.WebGLClipping,vb=!1,Ob=!1,hb=new f.Sphere,ub=new f.Matrix4,Ea=new f.Vector3,qa={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],
spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},gb={geometries:0,textures:0},$a={calls:0,vertices:0,faces:0,points:0};this.info={render:$a,memory:gb,programs:null};try{H={alpha:H,depth:O,stencil:P,antialias:D,premultipliedAlpha:R,preserveDrawingBuffer:U};var G=W||Q.getContext("webgl",H)||Q.getContext("experimental-webgl",H);if(null===G){if(null!==Q.getContext("webgl"))throw"Error creating WebGL context with your selected attributes.";
throw"Error creating WebGL context.";}void 0===G.getShaderPrecisionFormat&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});Q.addEventListener("webglcontextlost",e,!1)}catch(z){console.error("THREE.WebGLRenderer: "+z)}var jc="undefined"!==typeof WebGL2RenderingContext&&G instanceof WebGL2RenderingContext,ya=new f.WebGLExtensions(G);ya.get("WEBGL_depth_texture");ya.get("OES_texture_float");ya.get("OES_texture_float_linear");ya.get("OES_texture_half_float");ya.get("OES_texture_half_float_linear");
ya.get("OES_standard_derivatives");ya.get("ANGLE_instanced_arrays");ya.get("OES_element_index_uint")&&(f.BufferGeometry.MaxIndex=4294967296);var Sa=new f.WebGLCapabilities(G,ya,a),ea=new f.WebGLState(G,ya,N),ua=new f.WebGLProperties,qb=new f.WebGLObjects(G,ua,this.info),pb=new f.WebGLPrograms(this,Sa),yb=new f.WebGLLights;this.info.programs=pb.programs;var Bc=new f.WebGLBufferRenderer(G,ya,$a),Cc=new f.WebGLIndexedBufferRenderer(G,ya,$a);c();this.context=G;this.capabilities=Sa;this.extensions=ya;
this.properties=ua;this.state=ea;var kc=new f.WebGLShadowMap(this,qa,qb);this.shadowMap=kc;var Dc=new f.SpritePlugin(this,ca),Ec=new f.LensFlarePlugin(this,ha);this.getContext=function(){return G};this.getContextAttributes=function(){return G.getContextAttributes()};this.forceContextLoss=function(){ya.get("WEBGL_lose_context").loseContext()};this.getMaxAnisotropy=function(){var z;return function(){if(void 0!==z)return z;var C=ya.get("EXT_texture_filter_anisotropic");return z=null!==C?G.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT):
0}}();this.getPrecision=function(){return Sa.precision};this.getPixelRatio=function(){return Oa};this.setPixelRatio=function(){var z=window.devicePixelRatio||1;void 0!==z&&(Oa=z,this.setSize(ob.z,ob.w,!1))};this.getSize=function(){return{width:wb,height:xb}};this.setSize=function(z,C,E){wb=z;xb=C;Q.width=z*Oa;Q.height=C*Oa;!1!==E&&(Q.style.width=z+"px",Q.style.height=C+"px");this.setViewport(z,C)};this.setViewport=function(z,C){ea.viewport(ob.set(0,0,z,C))};this.setScissor=function(z,C,E,Z){ea.scissor(Mb.set(z,
C,E,Z))};this.setScissorTest=function(z){ea.setScissorTest(ic=z)};this.getClearColor=function(){return Pa};this.setClearColor=function(z,C){Pa.set(z);fb=void 0!==C?C:1;b(Pa.r,Pa.g,Pa.b,fb)};this.getClearAlpha=function(){return fb};this.setClearAlpha=function(z){fb=z;b(Pa.r,Pa.g,Pa.b,fb)};this.clear=function(z,C,E){var Z=0;if(void 0===z||z)Z|=G.COLOR_BUFFER_BIT;if(void 0===C||C)Z|=G.DEPTH_BUFFER_BIT;if(void 0===E||E)Z|=G.STENCIL_BUFFER_BIT;G.clear(Z)};this.clearColor=function(){this.clear(!0,!1,!1)};
this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.clearTarget=function(z,C,E,Z){this.setRenderTarget(z);this.clear(C,E,Z)};this.resetGLState=d;this.dispose=function(){Q.removeEventListener("webglcontextlost",e,!1)};this.renderBufferImmediate=function(z,C,E){ea.initAttributes();var Z=ua.get(z);z.hasPositions&&!Z.position&&(Z.position=G.createBuffer());z.hasNormals&&!Z.normal&&(Z.normal=G.createBuffer());z.hasUvs&&!Z.uv&&(Z.uv=G.createBuffer());
z.hasColors&&!Z.color&&(Z.color=G.createBuffer());C=C.getAttributes();z.hasPositions&&(G.bindBuffer(G.ARRAY_BUFFER,Z.position),G.bufferData(G.ARRAY_BUFFER,z.positionArray,G.DYNAMIC_DRAW),ea.enableAttribute(C.position),G.vertexAttribPointer(C.position,3,G.FLOAT,!1,0,0));if(z.hasNormals){G.bindBuffer(G.ARRAY_BUFFER,Z.normal);if("MeshPhongMaterial"!==E.type&&"MeshStandardMaterial"!==E.type&&"MeshPhysicalMaterial"!==E.type&&E.shading===f.FlatShading)for(var aa=0,ba=3*z.count;aa<ba;aa+=9){var T=z.normalArray,
da=(T[aa+0]+T[aa+3]+T[aa+6])/3,V=(T[aa+1]+T[aa+4]+T[aa+7])/3,oa=(T[aa+2]+T[aa+5]+T[aa+8])/3;T[aa+0]=da;T[aa+1]=V;T[aa+2]=oa;T[aa+3]=da;T[aa+4]=V;T[aa+5]=oa;T[aa+6]=da;T[aa+7]=V;T[aa+8]=oa}G.bufferData(G.ARRAY_BUFFER,z.normalArray,G.DYNAMIC_DRAW);ea.enableAttribute(C.normal);G.vertexAttribPointer(C.normal,3,G.FLOAT,!1,0,0)}z.hasUvs&&E.map&&(G.bindBuffer(G.ARRAY_BUFFER,Z.uv),G.bufferData(G.ARRAY_BUFFER,z.uvArray,G.DYNAMIC_DRAW),ea.enableAttribute(C.uv),G.vertexAttribPointer(C.uv,2,G.FLOAT,!1,0,0));
z.hasColors&&E.vertexColors!==f.NoColors&&(G.bindBuffer(G.ARRAY_BUFFER,Z.color),G.bufferData(G.ARRAY_BUFFER,z.colorArray,G.DYNAMIC_DRAW),ea.enableAttribute(C.color),G.vertexAttribPointer(C.color,3,G.FLOAT,!1,0,0));ea.disableUnusedAttributes();G.drawArrays(G.TRIANGLES,0,z.count);z.count=0};this.renderBufferDirect=function(z,C,E,Z,aa,ba){u(Z);var T=w(z,C,Z,aa),da=!1;z=E.id+"_"+T.id+"_"+Z.wireframe;z!==xa&&(xa=z,da=!0);C=aa.morphTargetInfluences;if(void 0!==C){z=[];var V=0;for(da=C.length;V<da;V++){var oa=
C[V];z.push([oa,V])}z.sort(m);8<z.length&&(z.length=8);var ta=E.morphAttributes;V=0;for(da=z.length;V<da;V++)oa=z[V],Y[V]=oa[0],0!==oa[0]?(C=oa[1],!0===Z.morphTargets&&ta.position&&E.addAttribute("morphTarget"+V,ta.position[C]),!0===Z.morphNormals&&ta.normal&&E.addAttribute("morphNormal"+V,ta.normal[C])):(!0===Z.morphTargets&&E.removeAttribute("morphTarget"+V),!0===Z.morphNormals&&E.removeAttribute("morphNormal"+V));T.getUniforms().setValue(G,"morphTargetInfluences",Y);da=!0}C=E.index;V=E.attributes.position;
!0===Z.wireframe&&(C=qb.getWireframeAttribute(E));null!==C?(z=Cc,z.setIndex(C)):z=Bc;if(da){a:{da=void 0;if(E instanceof f.InstancedBufferGeometry){var ra=ya.get("ANGLE_instanced_arrays");if(null===ra){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");break a}}void 0===da&&(da=0);ea.initAttributes();oa=E.attributes;T=T.getAttributes();ta=Z.defaultAttributeValues;for(var Ba in T){var Ca=T[Ba];
if(0<=Ca){var za=oa[Ba];if(void 0!==za){var Aa=G.FLOAT,Fa=za.array,ab=za.normalized;Fa instanceof Float32Array?Aa=G.FLOAT:Fa instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):Fa instanceof Uint16Array?Aa=G.UNSIGNED_SHORT:Fa instanceof Int16Array?Aa=G.SHORT:Fa instanceof Uint32Array?Aa=G.UNSIGNED_INT:Fa instanceof Int32Array?Aa=G.INT:Fa instanceof Int8Array?Aa=G.BYTE:Fa instanceof Uint8Array&&(Aa=G.UNSIGNED_BYTE);Fa=za.itemSize;var Ta=qb.getAttributeBuffer(za);if(za instanceof
f.InterleavedBufferAttribute){var Ua=za.data,ib=Ua.stride;za=za.offset;Ua instanceof f.InstancedInterleavedBuffer?(ea.enableAttributeAndDivisor(Ca,Ua.meshPerAttribute,ra),void 0===E.maxInstancedCount&&(E.maxInstancedCount=Ua.meshPerAttribute*Ua.count)):ea.enableAttribute(Ca);G.bindBuffer(G.ARRAY_BUFFER,Ta);G.vertexAttribPointer(Ca,Fa,Aa,ab,ib*Ua.array.BYTES_PER_ELEMENT,(da*ib+za)*Ua.array.BYTES_PER_ELEMENT)}else za instanceof f.InstancedBufferAttribute?(ea.enableAttributeAndDivisor(Ca,za.meshPerAttribute,
ra),void 0===E.maxInstancedCount&&(E.maxInstancedCount=za.meshPerAttribute*za.count)):ea.enableAttribute(Ca),G.bindBuffer(G.ARRAY_BUFFER,Ta),G.vertexAttribPointer(Ca,Fa,Aa,ab,0,da*Fa*za.array.BYTES_PER_ELEMENT)}else if(void 0!==ta&&(Aa=ta[Ba],void 0!==Aa))switch(Aa.length){case 2:G.vertexAttrib2fv(Ca,Aa);break;case 3:G.vertexAttrib3fv(Ca,Aa);break;case 4:G.vertexAttrib4fv(Ca,Aa);break;default:G.vertexAttrib1fv(Ca,Aa)}}}ea.disableUnusedAttributes()}null!==C&&G.bindBuffer(G.ELEMENT_ARRAY_BUFFER,qb.getAttributeBuffer(C))}ra=
Infinity;null!==C?ra=C.count:void 0!==V&&(ra=V.count);C=E.drawRange.start;V=null!==ba?ba.start:0;Ba=Math.max(0,C,V);ba=Math.max(0,Math.min(0+ra,C+E.drawRange.count,V+(null!==ba?ba.count:Infinity))-1-Ba+1);if(aa instanceof f.Mesh)if(!0===Z.wireframe)ea.setLineWidth(Z.wireframeLinewidth*(null===ka?Oa:1)),z.setMode(G.LINES);else switch(aa.drawMode){case f.TrianglesDrawMode:z.setMode(G.TRIANGLES);break;case f.TriangleStripDrawMode:z.setMode(G.TRIANGLE_STRIP);break;case f.TriangleFanDrawMode:z.setMode(G.TRIANGLE_FAN)}else aa instanceof
f.Line?(Z=Z.linewidth,void 0===Z&&(Z=1),ea.setLineWidth(Z*(null===ka?Oa:1)),aa instanceof f.LineSegments?z.setMode(G.LINES):z.setMode(G.LINE_STRIP)):aa instanceof f.Points&&z.setMode(G.POINTS);E instanceof f.InstancedBufferGeometry?0<E.maxInstancedCount&&z.renderInstances(E,Ba,ba):z.render(Ba,ba)};this.render=function(z,C,E,Z){if(!1===C instanceof f.Camera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else{var aa=z.fog;xa="";la=-1;sa=null;!0===z.autoUpdate&&
z.updateMatrixWorld();null===C.parent&&C.updateMatrixWorld();C.matrixWorldInverse.getInverse(C.matrixWorld);Cb(ub,C.projectionMatrix,C.matrixWorldInverse);Qb(hc,ub);I.length=0;M=S=-1;ca.length=0;ha.length=0;Ob=this.localClippingEnabled;vb=Ra.init(this.clippingPlanes,Ob,C);r(z,C);J.length=S+1;X.length=M+1;!0===ia.sortObjects&&(J.sort(n),X.sort(q));vb&&Ra.beginShadows();for(var ba=I,T=0,da=0,V=ba.length;da<V;da++){var oa=ba[da];oa.castShadow&&(qa.shadows[T++]=oa)}qa.shadows.length=T;kc.render(z,C);
ba=I;var ta=oa=0,ra=0,Ba=C.matrixWorldInverse,Ca=0,za=0,Aa=0,Fa=0;T=0;for(da=ba.length;T<da;T++){V=ba[T];var ab=V.color;var Ta=V.intensity;var Ua=V.distance;var ib=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V instanceof f.AmbientLight)oa+=ab.r*Ta,ta+=ab.g*Ta,ra+=ab.b*Ta;else if(V instanceof f.DirectionalLight){var ma=yb.get(V);ma.color.copy(V.color).multiplyScalar(V.intensity);Bb(ma.direction,V.matrixWorld);Bb(Ea,V.target.matrixWorld);ma.direction.sub(Ea);tb(ma.direction,Ba);if(ma.shadow=
V.castShadow)ma.shadowBias=V.shadow.bias,ma.shadowRadius=V.shadow.radius,ma.shadowMapSize=V.shadow.mapSize;qa.directionalShadowMap[Ca]=ib;qa.directionalShadowMatrix[Ca]=V.shadow.matrix;qa.directional[Ca++]=ma}else if(V instanceof f.SpotLight){ma=yb.get(V);Bb(ma.position,V.matrixWorld);ma.position.applyMatrix4(Ba);ma.color.copy(ab).multiplyScalar(Ta);ma.distance=Ua;Bb(ma.direction,V.matrixWorld);Bb(Ea,V.target.matrixWorld);ma.direction.sub(Ea);tb(ma.direction,Ba);ma.coneCos=Math.cos(V.angle);ma.penumbraCos=
Math.cos(V.angle*(1-V.penumbra));ma.decay=0===V.distance?0:V.decay;if(ma.shadow=V.castShadow)ma.shadowBias=V.shadow.bias,ma.shadowRadius=V.shadow.radius,ma.shadowMapSize=V.shadow.mapSize;qa.spotShadowMap[Aa]=ib;qa.spotShadowMatrix[Aa]=V.shadow.matrix;qa.spot[Aa++]=ma}else if(V instanceof f.PointLight){ma=yb.get(V);Bb(ma.position,V.matrixWorld);ma.position.applyMatrix4(Ba);ma.color.copy(V.color).multiplyScalar(V.intensity);ma.distance=V.distance;ma.decay=0===V.distance?0:V.decay;if(ma.shadow=V.castShadow)ma.shadowBias=
V.shadow.bias,ma.shadowRadius=V.shadow.radius,ma.shadowMapSize=V.shadow.mapSize;qa.pointShadowMap[za]=ib;void 0===qa.pointShadowMatrix[za]&&(qa.pointShadowMatrix[za]=new f.Matrix4);Bb(Ea,V.matrixWorld).negate();qa.pointShadowMatrix[za].identity().setPosition(Ea);qa.point[za++]=ma}else V instanceof f.HemisphereLight&&(ma=yb.get(V),Bb(ma.direction,V.matrixWorld),tb(ma.direction,Ba),ma.direction.normalize(),ma.skyColor.copy(V.color).multiplyScalar(Ta),ma.groundColor.copy(V.groundColor).multiplyScalar(Ta),
qa.hemi[Fa++]=ma)}qa.ambient[0]=oa;qa.ambient[1]=ta;qa.ambient[2]=ra;qa.directional.length=Ca;qa.spot.length=Aa;qa.point.length=za;qa.hemi.length=Fa;qa.hash=Ca+","+za+","+Aa+","+Fa+","+qa.shadows.length;vb&&Ra.endShadows();$a.calls=0;$a.vertices=0;$a.faces=0;$a.points=0;void 0===E&&(E=null);this.setRenderTarget(E);(this.autoClear||Z)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);z.overrideMaterial?(Z=z.overrideMaterial,v(J,C,aa,Z),v(X,C,aa,Z)):(ea.setBlending(f.NoBlending),
v(J,C,aa),v(X,C,aa));Dc.render(z,C);Ec.render(z,C,nb);E&&(z=E.texture,z.generateMipmaps&&B(E)&&z.minFilter!==f.NearestFilter&&z.minFilter!==f.LinearFilter&&(z=E instanceof f.WebGLRenderTargetCube?G.TEXTURE_CUBE_MAP:G.TEXTURE_2D,E=ua.get(E.texture).__webglTexture,ea.bindTexture(z,E),G.generateMipmap(z),ea.bindTexture(z,null)));ea.setDepthTest(!0);ea.setDepthWrite(!0);ea.setColorWrite(!0)}};this.setFaceCulling=function(z,C){ea.setCullFace(z);ea.setFlipSided(C===f.FrontFaceDirectionCW)};this.allocTextureUnit=
function(){var z=Nb;z>=Sa.maxTextures&&console.warn("WebGLRenderer: trying to use "+z+" texture units while this GPU supports only "+Sa.maxTextures);Nb+=1;return z};this.setTexture2D=function(){var z=!1;return function(C,E){C instanceof f.WebGLRenderTarget&&(z||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),z=!0),C=C.texture);var Z=ua.get(C);if(0<C.version&&Z.__version!==C.version){var aa=C.image;if(void 0===aa)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",
C);else if(!1===aa.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",C);else{void 0===Z.__webglInit&&(Z.__webglInit=!0,C.addEventListener("dispose",g),Z.__webglTexture=G.createTexture(),gb.textures++);ea.activeTexture(G.TEXTURE0+E);ea.bindTexture(G.TEXTURE_2D,Z.__webglTexture);G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,C.flipY);G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,C.premultiplyAlpha);G.pixelStorei(G.UNPACK_ALIGNMENT,C.unpackAlignment);var ba=y(C.image,
Sa.maxTextureSize);(C.wrapS!==f.ClampToEdgeWrapping||C.wrapT!==f.ClampToEdgeWrapping||C.minFilter!==f.NearestFilter&&C.minFilter!==f.LinearFilter)&&!1===B(ba)&&(E=ba,E instanceof HTMLImageElement||E instanceof HTMLCanvasElement?(aa=document.createElement("canvas"),aa.width=f.Math.nearestPowerOfTwo(E.width),aa.height=f.Math.nearestPowerOfTwo(E.height),aa.getContext("2d").drawImage(E,0,0,aa.width,aa.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+E.width+"x"+E.height+"). Resized to "+
aa.width+"x"+aa.height,E),ba=aa):ba=E);E=B(ba);aa=N(C.format);var T=N(C.type);A(G.TEXTURE_2D,C,E);var da=C.mipmaps;if(C instanceof f.DepthTexture){da=G.DEPTH_COMPONENT;if(C.type===f.FloatType){if(!jc)throw Error("Float Depth Texture only supported in WebGL2.0");da=G.DEPTH_COMPONENT32F}else jc&&(da=G.DEPTH_COMPONENT16);ea.texImage2D(G.TEXTURE_2D,0,da,ba.width,ba.height,0,aa,T,null)}else if(C instanceof f.DataTexture)if(0<da.length&&E){for(var V=0,oa=da.length;V<oa;V++)ba=da[V],ea.texImage2D(G.TEXTURE_2D,
V,aa,ba.width,ba.height,0,aa,T,ba.data);C.generateMipmaps=!1}else ea.texImage2D(G.TEXTURE_2D,0,aa,ba.width,ba.height,0,aa,T,ba.data);else if(C instanceof f.CompressedTexture)for(V=0,oa=da.length;V<oa;V++)ba=da[V],C.format!==f.RGBAFormat&&C.format!==f.RGBFormat?-1<ea.getCompressedTextureFormats().indexOf(aa)?ea.compressedTexImage2D(G.TEXTURE_2D,V,aa,ba.width,ba.height,0,ba.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ea.texImage2D(G.TEXTURE_2D,
V,aa,ba.width,ba.height,0,aa,T,ba.data);else if(0<da.length&&E){V=0;for(oa=da.length;V<oa;V++)ba=da[V],ea.texImage2D(G.TEXTURE_2D,V,aa,aa,T,ba);C.generateMipmaps=!1}else ea.texImage2D(G.TEXTURE_2D,0,aa,aa,T,ba);C.generateMipmaps&&E&&G.generateMipmap(G.TEXTURE_2D);Z.__version=C.version;if(C.onUpdate)C.onUpdate(C)}}else ea.activeTexture(G.TEXTURE0+E),ea.bindTexture(G.TEXTURE_2D,Z.__webglTexture)}}();this.setTexture=function(){var z=!1;return function(C,E){z||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),
z=!0);ia.setTexture2D(C,E)}}();this.setTextureCube=function(){var z=!1;return function(C,E){C instanceof f.WebGLRenderTargetCube&&(z||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),z=!0),C=C.texture);if(C instanceof f.CubeTexture||Array.isArray(C.image)&&6===C.image.length){var Z=ua.get(C);if(6===C.image.length)if(0<C.version&&Z.__version!==C.version){Z.__image__webglTextureCube||(C.addEventListener("dispose",g),
Z.__image__webglTextureCube=G.createTexture(),gb.textures++);ea.activeTexture(G.TEXTURE0+E);ea.bindTexture(G.TEXTURE_CUBE_MAP,Z.__image__webglTextureCube);G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,C.flipY);E=C instanceof f.CompressedTexture;for(var aa=C.image[0]instanceof f.DataTexture,ba=[],T=0;6>T;T++)ba[T]=!ia.autoScaleCubemaps||E||aa?aa?C.image[T].image:C.image[T]:y(C.image[T],Sa.maxCubemapSize);var da=B(ba[0]),V=N(C.format),oa=N(C.type);A(G.TEXTURE_CUBE_MAP,C,da);for(T=0;6>T;T++)if(E)for(var ta,ra=
ba[T].mipmaps,Ba=0,Ca=ra.length;Ba<Ca;Ba++)ta=ra[Ba],C.format!==f.RGBAFormat&&C.format!==f.RGBFormat?-1<ea.getCompressedTextureFormats().indexOf(V)?ea.compressedTexImage2D(G.TEXTURE_CUBE_MAP_POSITIVE_X+T,Ba,V,ta.width,ta.height,0,ta.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ea.texImage2D(G.TEXTURE_CUBE_MAP_POSITIVE_X+T,Ba,V,ta.width,ta.height,0,V,oa,ta.data);else aa?ea.texImage2D(G.TEXTURE_CUBE_MAP_POSITIVE_X+T,0,V,ba[T].width,
ba[T].height,0,V,oa,ba[T].data):ea.texImage2D(G.TEXTURE_CUBE_MAP_POSITIVE_X+T,0,V,V,oa,ba[T]);C.generateMipmaps&&da&&G.generateMipmap(G.TEXTURE_CUBE_MAP);Z.__version=C.version;if(C.onUpdate)C.onUpdate(C)}else ea.activeTexture(G.TEXTURE0+E),ea.bindTexture(G.TEXTURE_CUBE_MAP,Z.__image__webglTextureCube)}else ea.activeTexture(G.TEXTURE0+E),ea.bindTexture(G.TEXTURE_CUBE_MAP,ua.get(C).__webglTexture)}}();this.getCurrentRenderTarget=function(){return ka};this.setRenderTarget=function(z){if((ka=z)&&void 0===
ua.get(z).__webglFramebuffer){var C=ua.get(z),E=ua.get(z.texture);z.addEventListener("dispose",h);E.__webglTexture=G.createTexture();gb.textures++;var Z=z instanceof f.WebGLRenderTargetCube,aa=f.Math.isPowerOfTwo(z.width)&&f.Math.isPowerOfTwo(z.height);if(Z){C.__webglFramebuffer=[];for(var ba=0;6>ba;ba++)C.__webglFramebuffer[ba]=G.createFramebuffer()}else C.__webglFramebuffer=G.createFramebuffer();if(Z){ea.bindTexture(G.TEXTURE_CUBE_MAP,E.__webglTexture);A(G.TEXTURE_CUBE_MAP,z.texture,aa);for(ba=
0;6>ba;ba++)F(C.__webglFramebuffer[ba],z,G.COLOR_ATTACHMENT0,G.TEXTURE_CUBE_MAP_POSITIVE_X+ba);z.texture.generateMipmaps&&aa&&G.generateMipmap(G.TEXTURE_CUBE_MAP);ea.bindTexture(G.TEXTURE_CUBE_MAP,null)}else ea.bindTexture(G.TEXTURE_2D,E.__webglTexture),A(G.TEXTURE_2D,z.texture,aa),F(C.__webglFramebuffer,z,G.COLOR_ATTACHMENT0,G.TEXTURE_2D),z.texture.generateMipmaps&&aa&&G.generateMipmap(G.TEXTURE_2D),ea.bindTexture(G.TEXTURE_2D,null);if(z.depthBuffer){C=ua.get(z);E=z instanceof f.WebGLRenderTargetCube;
if(z.depthTexture){if(E)throw Error("target.depthTexture not supported in Cube render targets");if(z instanceof f.WebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported!");G.bindFramebuffer(G.FRAMEBUFFER,C.__webglFramebuffer);if(!(z.depthTexture instanceof f.DepthTexture))throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");ua.get(z.depthTexture).__webglTexture&&z.depthTexture.image.width===z.width&&z.depthTexture.image.height===z.height||
(z.depthTexture.image.width=z.width,z.depthTexture.image.height=z.height,z.depthTexture.needsUpdate=!0);ia.setTexture2D(z.depthTexture,0);C=ua.get(z.depthTexture).__webglTexture;G.framebufferTexture2D(G.FRAMEBUFFER,G.DEPTH_ATTACHMENT,G.TEXTURE_2D,C,0)}else if(E)for(C.__webglDepthbuffer=[],E=0;6>E;E++)G.bindFramebuffer(G.FRAMEBUFFER,C.__webglFramebuffer[E]),C.__webglDepthbuffer[E]=G.createRenderbuffer(),K(C.__webglDepthbuffer[E],z);else G.bindFramebuffer(G.FRAMEBUFFER,C.__webglFramebuffer),C.__webglDepthbuffer=
G.createRenderbuffer(),K(C.__webglDepthbuffer,z);G.bindFramebuffer(G.FRAMEBUFFER,null)}}C=z instanceof f.WebGLRenderTargetCube;z?(E=ua.get(z),E=C?E.__webglFramebuffer[z.activeCubeFace]:E.__webglFramebuffer,Ja.copy(z.scissor),Pb=z.scissorTest,nb.copy(z.viewport)):(E=null,Ja.copy(Mb).multiplyScalar(Oa),Pb=ic,nb.copy(ob).multiplyScalar(Oa));pa!==E&&(G.bindFramebuffer(G.FRAMEBUFFER,E),pa=E);ea.scissor(Ja);ea.setScissorTest(Pb);ea.viewport(nb);C&&(C=ua.get(z.texture),G.framebufferTexture2D(G.FRAMEBUFFER,
G.COLOR_ATTACHMENT0,G.TEXTURE_CUBE_MAP_POSITIVE_X+z.activeCubeFace,C.__webglTexture,z.activeMipMapLevel))};this.readRenderTargetPixels=function(z,C,E,Z,aa,ba){if(!1===z instanceof f.WebGLRenderTarget)console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");else{var T=ua.get(z).__webglFramebuffer;if(T){var da=!1;T!==pa&&(G.bindFramebuffer(G.FRAMEBUFFER,T),da=!0);try{var V=z.texture;V.format!==f.RGBAFormat&&N(V.format)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_FORMAT)?
console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):V.type===f.UnsignedByteType||N(V.type)===G.getParameter(G.IMPLEMENTATION_COLOR_READ_TYPE)||V.type===f.FloatType&&ya.get("WEBGL_color_buffer_float")||V.type===f.HalfFloatType&&ya.get("EXT_color_buffer_half_float")?G.checkFramebufferStatus(G.FRAMEBUFFER)===G.FRAMEBUFFER_COMPLETE?0<=C&&C<=z.width-Z&&0<=E&&E<=z.height-aa&&G.readPixels(C,E,Z,aa,N(V.format),N(V.type),ba):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):
console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{da&&G.bindFramebuffer(G.FRAMEBUFFER,pa)}}}}};
f.WebGLRenderTarget=function(a,b,c){this.uuid=f.Math.generateUUID();this.width=a;this.height=b;this.scissor=new f.Vector4(0,0,a,b);this.scissorTest=!1;this.viewport=new f.Vector4(0,0,a,b);c=c||{};void 0===c.minFilter&&(c.minFilter=f.LinearFilter);this.texture=new f.Texture(void 0,void 0,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding);this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:!0;this.depthTexture=
null};
Object.assign(f.WebGLRenderTarget.prototype,f.EventDispatcher.prototype,{setSize:function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.width=a.width;this.height=a.height;this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;this.depthTexture=a.depthTexture;return this},
dispose:function(){this.dispatchEvent({type:"dispose"})}});f.WebGLRenderTargetCube=function(a,b,c){f.WebGLRenderTarget.call(this,a,b,c);this.activeMipMapLevel=this.activeCubeFace=0};f.WebGLRenderTargetCube.prototype=Object.create(f.WebGLRenderTarget.prototype);f.WebGLRenderTargetCube.prototype.constructor=f.WebGLRenderTargetCube;
f.WebGLBufferRenderer=function(a,b,c){var d;this.setMode=function(e){d=e};this.render=function(e,g){a.drawArrays(d,e,g);c.calls++;c.vertices+=g;d===a.TRIANGLES&&(c.faces+=g/3)};this.renderInstances=function(e){var g=b.get("ANGLE_instanced_arrays");if(null===g)console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{var h=e.attributes.position;h=h instanceof f.InterleavedBufferAttribute?h.data.count:h.count;
g.drawArraysInstancedANGLE(d,0,h,e.maxInstancedCount);c.calls++;c.vertices+=h*e.maxInstancedCount;d===a.TRIANGLES&&(c.faces+=e.maxInstancedCount*h/3)}}};
f.WebGLClipping=function(){function a(){m.value!==d&&(m.value=d,m.needsUpdate=0<e);c.numPlanes=e}function b(n,q,p,t){var r=null!==n?n.length:0,v=null;if(0!==r){v=m.value;if(!0!==t||null===v){t=p+4*r;q=q.matrixWorldInverse;Gb(l,q);if(null===v||v.length<t)v=new Float32Array(t);for(t=0;t!==r;++t,p+=4)k.copy(n[t]).applyMatrix4(q,l),k.normal.toArray(v,p),v[p+3]=k.constant}m.value=v;m.needsUpdate=!0}c.numPlanes=r;return v}var c=this,d=null,e=0,g=!1,h=!1,k=new f.Plane,l=new f.Matrix3,m={value:null,needsUpdate:!1};
this.uniform=m;this.numPlanes=0;this.init=function(n,q,p){var t=0!==n.length||q||0!==e||g;g=q;d=b(n,p,0);e=n.length;return t};this.beginShadows=function(){h=!0;b(null)};this.endShadows=function(){h=!1;a()};this.setState=function(n,q,p,t,r){if(!g||null===n||0===n.length||h&&!q)h?b(null):a();else{q=h?0:e;var v=4*q,u=t.clippingState||null;m.value=u;u=b(n,p,v,r);for(n=0;n!==v;++n)u[n]=d[n];t.clippingState=u;this.numPlanes+=q}}};
f.WebGLIndexedBufferRenderer=function(a,b,c){var d,e,g;this.setMode=function(h){d=h};this.setIndex=function(h){h.array instanceof Uint32Array&&b.get("OES_element_index_uint")?(e=a.UNSIGNED_INT,g=4):(e=a.UNSIGNED_SHORT,g=2)};this.render=function(h,k){a.drawElements(d,k,e,h*g);c.calls++;c.vertices+=k;d===a.TRIANGLES&&(c.faces+=k/3)};this.renderInstances=function(h,k,l){var m=b.get("ANGLE_instanced_arrays");null===m?console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):
(m.drawElementsInstancedANGLE(d,l,e,k*g,h.maxInstancedCount),c.calls++,c.vertices+=l*h.maxInstancedCount,d===a.TRIANGLES&&(c.faces+=h.maxInstancedCount*l/3))}};
f.WebGLExtensions=function(a){var b={};this.get=function(c){if(void 0!==b[c])return b[c];switch(c){case "WEBGL_depth_texture":var d=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case "EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":d=
a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case "WEBGL_compressed_texture_etc1":d=a.getExtension("WEBGL_compressed_texture_etc1");break;default:d=a.getExtension(c)}null===d&&console.warn("THREE.WebGLRenderer: "+c+" extension not supported.");
return b[c]=d}};
f.WebGLCapabilities=function(a,b,c){function d(e){if("highp"===e){if(0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision)return"highp";e="mediump"}return"mediump"===e&&0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision?"mediump":"lowp"}this.getMaxPrecision=d;this.precision=void 0!==c.precision?c.precision:"highp";this.logarithmicDepthBuffer=
void 0!==c.logarithmicDepthBuffer?c.logarithmicDepthBuffer:!1;this.maxTextures=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this.maxVertexTextures=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS);this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE);this.maxCubemapSize=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE);this.maxAttributes=a.getParameter(a.MAX_VERTEX_ATTRIBS);this.maxVertexUniforms=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS);this.maxVaryings=a.getParameter(a.MAX_VARYING_VECTORS);this.maxFragmentUniforms=
a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS);this.vertexTextures=0<this.maxVertexTextures;this.floatFragmentTextures=!!b.get("OES_texture_float");this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;c=d(this.precision);c!==this.precision&&(console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",c,"instead."),this.precision=c);this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!b.get("EXT_frag_depth"))};
f.WebGLGeometries=function(a,b,c){function d(h){var k=h.target;h=g[k.id];null!==h.index&&e(h.index);var l=h.attributes;for(m in l)e(l[m]);k.removeEventListener("dispose",d);delete g[k.id];var m=b.get(k);m.wireframe&&e(m.wireframe);b.delete(k);k=b.get(h);k.wireframe&&e(k.wireframe);b.delete(h);c.memory.geometries--}function e(h){var k=h instanceof f.InterleavedBufferAttribute?b.get(h.data).__webglBuffer:b.get(h).__webglBuffer;void 0!==k&&(a.deleteBuffer(k),h instanceof f.InterleavedBufferAttribute?
b.delete(h.data):b.delete(h))}var g={};this.get=function(h){var k=h.geometry;if(void 0!==g[k.id])return g[k.id];k.addEventListener("dispose",d);if(k instanceof f.BufferGeometry)var l=k;else k instanceof f.Geometry&&(void 0===k._bufferGeometry&&(k._bufferGeometry=(new f.BufferGeometry).setFromObject(h)),l=k._bufferGeometry);g[k.id]=l;c.memory.geometries++;return l}};
f.WebGLLights=function(){var a={};this.get=function(b){if(void 0!==a[b.id])return a[b.id];switch(b.type){case "DirectionalLight":var c={direction:new f.Vector3,color:new f.Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new f.Vector2};break;case "SpotLight":c={position:new f.Vector3,direction:new f.Vector3,color:new f.Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new f.Vector2};break;case "PointLight":c={position:new f.Vector3,color:new f.Color,
distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new f.Vector2};break;case "HemisphereLight":c={direction:new f.Vector3,skyColor:new f.Color,groundColor:new f.Color}}return a[b.id]=c}};
f.WebGLObjects=function(a,b,c){function d(h,k){h=h instanceof f.InterleavedBufferAttribute?h.data:h;var l=b.get(h);void 0===l.__webglBuffer?(l.__webglBuffer=a.createBuffer(),a.bindBuffer(k,l.__webglBuffer),a.bufferData(k,h.array,h.dynamic?a.DYNAMIC_DRAW:a.STATIC_DRAW),l.version=h.version):l.version!==h.version&&(a.bindBuffer(k,l.__webglBuffer),!1===h.dynamic||-1===h.updateRange.count?a.bufferSubData(k,0,h.array):0===h.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):
(a.bufferSubData(k,h.updateRange.offset*h.array.BYTES_PER_ELEMENT,h.array.subarray(h.updateRange.offset,h.updateRange.offset+h.updateRange.count)),h.updateRange.count=0),l.version=h.version)}function e(h,k,l){if(k>l){var m=k;k=l;l=m}m=h[k];return void 0===m?(h[k]=[l],!0):-1===m.indexOf(l)?(m.push(l),!0):!1}var g=new f.WebGLGeometries(a,b,c);this.getAttributeBuffer=function(h){return h instanceof f.InterleavedBufferAttribute?b.get(h.data).__webglBuffer:b.get(h).__webglBuffer};this.getWireframeAttribute=
function(h){var k=b.get(h);if(void 0!==k.wireframe)return k.wireframe;var l=[],m=h.index,n=h.attributes;h=n.position;if(null!==m){n={};m=m.array;for(var q=0,p=m.length;q<p;q+=3){var t=m[q+0],r=m[q+1],v=m[q+2];e(n,t,r)&&l.push(t,r);e(n,r,v)&&l.push(r,v);e(n,v,t)&&l.push(v,t)}}else for(m=n.position.array,q=0,p=m.length/3-1;q<p;q+=3)t=q+0,r=q+1,v=q+2,l.push(t,r,r,v,v,t);l=new f.BufferAttribute(new (65535<h.count?Uint32Array:Uint16Array)(l),1);d(l,a.ELEMENT_ARRAY_BUFFER);return k.wireframe=l};this.update=
function(h){var k=g.get(h);h.geometry instanceof f.Geometry&&k.updateFromObject(h);h=k.index;var l=k.attributes;null!==h&&d(h,a.ELEMENT_ARRAY_BUFFER);for(var m in l)d(l[m],a.ARRAY_BUFFER);h=k.morphAttributes;for(m in h){l=h[m];for(var n=0,q=l.length;n<q;n++)d(l[n],a.ARRAY_BUFFER)}return k}};
f.WebGLProgram=function(){function a(q){switch(q){case f.LinearEncoding:return["Linear","( value )"];case f.sRGBEncoding:return["sRGB","( value )"];case f.RGBEEncoding:return["RGBE","( value )"];case f.RGBM7Encoding:return["RGBM","( value, 7.0 )"];case f.RGBM16Encoding:return["RGBM","( value, 16.0 )"];case f.RGBDEncoding:return["RGBD","( value, 256.0 )"];case f.GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+q);}}function b(q,p){p=a(p);
return"vec4 "+q+"( vec4 value ) { return "+p[0]+"ToLinear"+p[1]+"; }"}function c(q,p){p=a(p);return"vec4 "+q+"( vec4 value ) { return LinearTo"+p[0]+p[1]+"; }"}function d(q,p){switch(p){case f.LinearToneMapping:p="Linear";break;case f.ReinhardToneMapping:p="Reinhard";break;case f.Uncharted2ToneMapping:p="Uncharted2";break;case f.CineonToneMapping:p="OptimizedCineon";break;default:throw Error("unsupported toneMapping: "+p);}return"vec3 "+q+"( vec3 color ) { return "+p+"ToneMapping( color ); }"}function e(q,
p,t){q=q||{};return[q.derivatives||p.envMapCubeUV||p.bumpMap||p.normalMap||p.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(q.fragDepth||p.logarithmicDepthBuffer)&&t.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",q.drawBuffers&&t.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(q.shaderTextureLOD||p.envMap)&&t.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(h).join("\n")}function g(q){var p=[],t;
for(t in q){var r=q[t];!1!==r&&p.push("#define "+t+" "+r)}return p.join("\n")}function h(q){return""!==q}function k(q,p){return q.replace(/NUM_DIR_LIGHTS/g,p.numDirLights).replace(/NUM_SPOT_LIGHTS/g,p.numSpotLights).replace(/NUM_POINT_LIGHTS/g,p.numPointLights).replace(/NUM_HEMI_LIGHTS/g,p.numHemiLights)}function l(q){return q.replace(/#include +<([\w\d.]+)>/g,function(p,t){p=f.ShaderChunk[t];if(void 0===p)throw Error("Can not resolve #include \x3c"+t+"\x3e");return l(p)})}function m(q){return q.replace(/for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,
function(p,t,r,v){p="";for(t=parseInt(t);t<parseInt(r);t++)p+=v.replace(/\[ i \]/g,"[ "+t+" ]");return p})}var n=0;return function(q,p,t,r){var v=q.context,u=t.extensions,w=t.defines,x=t.__webglShader.vertexShader,A=t.__webglShader.fragmentShader,y="SHADOWMAP_TYPE_BASIC";r.shadowMapType===f.PCFShadowMap?y="SHADOWMAP_TYPE_PCF":r.shadowMapType===f.PCFSoftShadowMap&&(y="SHADOWMAP_TYPE_PCF_SOFT");var B="ENVMAP_TYPE_CUBE",F="ENVMAP_MODE_REFLECTION",K="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(t.envMap.mapping){case f.CubeReflectionMapping:case f.CubeRefractionMapping:B=
"ENVMAP_TYPE_CUBE";break;case f.CubeUVReflectionMapping:case f.CubeUVRefractionMapping:B="ENVMAP_TYPE_CUBE_UV";break;case f.EquirectangularReflectionMapping:case f.EquirectangularRefractionMapping:B="ENVMAP_TYPE_EQUIREC";break;case f.SphericalReflectionMapping:B="ENVMAP_TYPE_SPHERE"}switch(t.envMap.mapping){case f.CubeRefractionMapping:case f.EquirectangularRefractionMapping:F="ENVMAP_MODE_REFRACTION"}switch(t.combine){case f.MultiplyOperation:K="ENVMAP_BLENDING_MULTIPLY";break;case f.MixOperation:K=
"ENVMAP_BLENDING_MIX";break;case f.AddOperation:K="ENVMAP_BLENDING_ADD"}}var L=0<q.gammaFactor?q.gammaFactor:1;u=e(u,r,q.extensions);var N=g(w),Q=v.createProgram();t instanceof f.RawShaderMaterial?y=w="":(w=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+t.__webglShader.name,N,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+L,"#define MAX_BONES "+r.maxBones,r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?
"#define "+F:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":
"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+y:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":
"",r.logarithmicDepthBuffer&&q.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;",
"\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(h).join("\n"),y=[u,"precision "+
r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+t.__webglShader.name,N,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+L,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+B:"",r.envMap?"#define "+F:"",r.envMap?"#define "+K:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?
"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?
"#define "+y:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&q.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&q.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",r.toneMapping!==f.NoToneMapping?"#define TONE_MAPPING":"",r.toneMapping!==f.NoToneMapping?
f.ShaderChunk.tonemapping_pars_fragment:"",r.toneMapping!==f.NoToneMapping?d("toneMapping",r.toneMapping):"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?f.ShaderChunk.encodings_pars_fragment:"",r.mapEncoding?b("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?b("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?b("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?c("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+
t.depthPacking:"","\n"].filter(h).join("\n"));x=l(x,r);x=k(x,r);A=l(A,r);A=k(A,r);!1===t instanceof f.ShaderMaterial&&(x=m(x),A=m(A));A=y+A;x=f.WebGLShader(v,v.VERTEX_SHADER,w+x);A=f.WebGLShader(v,v.FRAGMENT_SHADER,A);v.attachShader(Q,x);v.attachShader(Q,A);void 0!==t.index0AttributeName?v.bindAttribLocation(Q,0,t.index0AttributeName):!0===r.morphTargets&&v.bindAttribLocation(Q,0,"position");v.linkProgram(Q);r=v.getProgramInfoLog(Q);B=v.getShaderInfoLog(x);F=v.getShaderInfoLog(A);L=K=!0;if(!1===v.getProgramParameter(Q,
v.LINK_STATUS))K=!1,console.error("THREE.WebGLProgram: shader error: ",v.getError(),"gl.VALIDATE_STATUS",v.getProgramParameter(Q,v.VALIDATE_STATUS),"gl.getProgramInfoLog",r,B,F);else if(""!==r)console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",r);else if(""===B||""===F)L=!1;L&&(this.diagnostics={runnable:K,material:t,programLog:r,vertexShader:{log:B,prefix:w},fragmentShader:{log:F,prefix:y}});v.deleteShader(x);v.deleteShader(A);var W;this.getUniforms=function(){void 0===W&&(W=new f.WebGLUniforms(v,
Q,q));return W};var H;this.getAttributes=function(){if(void 0===H){for(var O={},P=v.getProgramParameter(Q,v.ACTIVE_ATTRIBUTES),D=0;D<P;D++){var R=v.getActiveAttrib(Q,D).name;O[R]=v.getAttribLocation(Q,R)}H=O}return H};this.destroy=function(){v.deleteProgram(Q);this.program=void 0};Object.defineProperties(this,{uniforms:{get:function(){console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms().");return this.getUniforms()}},attributes:{get:function(){console.warn("THREE.WebGLProgram: .attributes is now .getAttributes().");
return this.getAttributes()}}});this.id=n++;this.code=p;this.usedTimes=1;this.program=Q;this.vertexShader=x;this.fragmentShader=A;return this}}();
f.WebGLPrograms=function(a,b){function c(h,k){if(h)h instanceof f.Texture?l=h.encoding:h instanceof f.WebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),l=h.texture.encoding);else var l=f.LinearEncoding;l===f.LinearEncoding&&k&&(l=f.GammaEncoding);return l}var d=[],e={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",
MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},g="precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes depthPacking".split(" ");
this.getParameters=function(h,k,l,m,n){var q=e[h.type];if(b.floatVertexTextures&&n&&n.skeleton&&n.skeleton.useVertexTexture)var p=1024;else p=Math.floor((b.maxVertexUniforms-20)/4),void 0!==n&&n instanceof f.SkinnedMesh&&(p=Math.min(n.skeleton.bones.length,p),p<n.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+n.skeleton.bones.length+", this GPU supports just "+p+" (try OpenGL instead of ANGLE)"));var t=a.getPrecision();null!==h.precision&&(t=b.getMaxPrecision(h.precision),
t!==h.precision&&console.warn("THREE.WebGLProgram.getParameters:",h.precision,"not supported, using",t,"instead."));var r=a.getCurrentRenderTarget();return{shaderID:q,precision:t,supportsVertexTextures:b.vertexTextures,outputEncoding:c(r?r.texture:null,a.gammaOutput),map:!!h.map,mapEncoding:c(h.map,a.gammaInput),envMap:!!h.envMap,envMapMode:h.envMap&&h.envMap.mapping,envMapEncoding:c(h.envMap,a.gammaInput),envMapCubeUV:!!h.envMap&&(h.envMap.mapping===f.CubeUVReflectionMapping||h.envMap.mapping===
f.CubeUVRefractionMapping),lightMap:!!h.lightMap,aoMap:!!h.aoMap,emissiveMap:!!h.emissiveMap,emissiveMapEncoding:c(h.emissiveMap,a.gammaInput),bumpMap:!!h.bumpMap,normalMap:!!h.normalMap,displacementMap:!!h.displacementMap,roughnessMap:!!h.roughnessMap,metalnessMap:!!h.metalnessMap,specularMap:!!h.specularMap,alphaMap:!!h.alphaMap,combine:h.combine,vertexColors:h.vertexColors,fog:l,useFog:h.fog,fogExp:l instanceof f.FogExp2,flatShading:h.shading===f.FlatShading,sizeAttenuation:h.sizeAttenuation,logarithmicDepthBuffer:b.logarithmicDepthBuffer,
skinning:h.skinning,maxBones:p,useVertexTexture:b.floatVertexTextures&&n&&n.skeleton&&n.skeleton.useVertexTexture,morphTargets:h.morphTargets,morphNormals:h.morphNormals,maxMorphTargets:a.maxMorphTargets,maxMorphNormals:a.maxMorphNormals,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numHemiLights:k.hemi.length,numClippingPlanes:m,shadowMapEnabled:a.shadowMap.enabled&&n.receiveShadow&&0<k.shadows.length,shadowMapType:a.shadowMap.type,toneMapping:a.toneMapping,
physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:h.premultipliedAlpha,alphaTest:h.alphaTest,doubleSided:h.side===f.DoubleSide,flipSided:h.side===f.BackSide,depthPacking:void 0!==h.depthPacking?h.depthPacking:!1}};this.getProgramCode=function(h,k){var l=[];k.shaderID?l.push(k.shaderID):(l.push(h.fragmentShader),l.push(h.vertexShader));if(void 0!==h.defines)for(var m in h.defines)l.push(m),l.push(h.defines[m]);for(h=0;h<g.length;h++)l.push(k[g[h]]);return l.join()};this.acquireProgram=
function(h,k,l){for(var m,n=0,q=d.length;n<q;n++){var p=d[n];if(p.code===l){m=p;++m.usedTimes;break}}void 0===m&&(m=new f.WebGLProgram(a,l,h,k),d.push(m));return m};this.releaseProgram=function(h){0===--h.usedTimes&&(d[d.indexOf(h)]=d[d.length-1],d.pop(),h.destroy())};this.programs=d};f.WebGLProperties=function(){var a={};this.get=function(b){b=b.uuid;var c=a[b];void 0===c&&(c={},a[b]=c);return c};this.delete=function(b){delete a[b.uuid]};this.clear=function(){a={}}};
f.WebGLShader=function(){function a(b){b=b.split("\n");for(var c=0;c<b.length;c++)b[c]=c+1+": "+b[c];return b.join("\n")}return function(b,c,d){var e=b.createShader(c);b.shaderSource(e,d);b.compileShader(e);!1===b.getShaderParameter(e,b.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile.");""!==b.getShaderInfoLog(e)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",c===b.VERTEX_SHADER?"vertex":"fragment",b.getShaderInfoLog(e),a(d));return e}}();
f.WebGLShadowMap=function(a,b,c){function d(W,H,O,P){var D=W.geometry,R=r,U=W.customDepthMaterial;O&&(R=v,U=W.customDistanceMaterial);U?D=U:(W=W instanceof f.SkinnedMesh&&H.skinning,U=0,void 0!==D.morphTargets&&0<D.morphTargets.length&&H.morphTargets&&(U|=1),W&&(U|=2),D=R[U]);a.localClippingEnabled&&!0===H.clipShadows&&0!==H.clippingPlanes.length&&(U=D.uuid,R=H.uuid,W=u[U],void 0===W&&(W={},u[U]=W),U=W[R],void 0===U&&(U=D.clone(),W[R]=U),D=U);D.visible=H.visible;D.wireframe=H.wireframe;R=H.side;Q.renderSingleSided&&
R==f.DoubleSide&&(R=f.FrontSide);Q.renderReverseSided&&(R===f.FrontSide?R=f.BackSide:R===f.BackSide&&(R=f.FrontSide));D.side=R;D.clipShadows=H.clipShadows;D.clippingPlanes=H.clippingPlanes;D.wireframeLinewidth=H.wireframeLinewidth;D.linewidth=H.linewidth;O&&void 0!==D.uniforms.lightPos&&D.uniforms.lightPos.value.copy(P);return D}function e(W,H,O){if(!1!==W.visible){W.layers.test(H.layers)&&(W instanceof f.Mesh||W instanceof f.Line||W instanceof f.Points)&&W.castShadow&&(!1===W.frustumCulled||!0===
k.intersectsObject(W))&&!0===W.material.visible&&(Cb(W.modelViewMatrix,O.matrixWorldInverse,W.matrixWorld),t.push(W));W=W.children;for(var P=0,D=W.length;P<D;P++)e(W[P],H,O)}}var g=a.context,h=a.state,k=new f.Frustum,l=new f.Matrix4,m=b.shadows,n=new f.Vector2,q=new f.Vector3,p=new f.Vector3,t=[],r=Array(4),v=Array(4),u={},w=[new f.Vector3(1,0,0),new f.Vector3(-1,0,0),new f.Vector3(0,0,1),new f.Vector3(0,0,-1),new f.Vector3(0,1,0),new f.Vector3(0,-1,0)],x=[new f.Vector3(0,1,0),new f.Vector3(0,1,0),
new f.Vector3(0,1,0),new f.Vector3(0,1,0),new f.Vector3(0,0,1),new f.Vector3(0,0,-1)],A=[new f.Vector4,new f.Vector4,new f.Vector4,new f.Vector4,new f.Vector4,new f.Vector4];b=new f.MeshDepthMaterial;b.depthPacking=f.RGBADepthPacking;b.clipping=!0;for(var y=f.ShaderLib.distanceRGBA,B=f.UniformsUtils.clone(y.uniforms),F=0;4!==F;++F){var K=0!==(F&1),L=0!==(F&2),N=b.clone();N.morphTargets=K;N.skinning=L;r[F]=N;K=new f.ShaderMaterial({defines:{USE_SHADOWMAP:""},uniforms:B,vertexShader:y.vertexShader,
fragmentShader:y.fragmentShader,morphTargets:K,skinning:L,clipping:!0});v[F]=K}var Q=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=f.PCFShadowMap;this.renderSingleSided=this.renderReverseSided=!0;this.render=function(W,H){if(!1!==Q.enabled&&(!1!==Q.autoUpdate||!1!==Q.needsUpdate)&&0!==m.length){h.clearColor(1,1,1,1);h.disable(g.BLEND);h.setDepthTest(!0);h.setScissorTest(!1);for(var O,P,D=0,R=m.length;D<R;D++){var U=m[D],I=U.shadow;if(void 0===I)console.warn("THREE.WebGLShadowMap:",
U,"has no shadow.");else{var J=I.camera;n.copy(I.mapSize);if(U instanceof f.PointLight){O=6;P=!0;var S=n.x,X=n.y;A[0].set(2*S,X,S,X);A[1].set(0,X,S,X);A[2].set(3*S,X,S,X);A[3].set(S,X,S,X);A[4].set(3*S,0,S,X);A[5].set(S,0,S,X);n.x*=4;n.y*=2}else O=1,P=!1;null===I.map&&(I.map=new f.WebGLRenderTarget(n.x,n.y,{minFilter:f.NearestFilter,magFilter:f.NearestFilter,format:f.RGBAFormat}),J.updateProjectionMatrix());I instanceof f.SpotLightShadow&&I.update(U);S=I.map;I=I.matrix;Bb(p,U.matrixWorld);J.position.copy(p);
a.setRenderTarget(S);a.clear();for(S=0;S<O;S++){P?(q.copy(J.position),q.add(w[S]),J.up.copy(x[S]),J.lookAt(q),h.viewport(A[S])):(Bb(q,U.target.matrixWorld),J.lookAt(q));J.updateMatrixWorld();J.matrixWorldInverse.getInverse(J.matrixWorld);I.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);I.multiply(J.projectionMatrix);I.multiply(J.matrixWorldInverse);Cb(l,J.projectionMatrix,J.matrixWorldInverse);Qb(k,l);t.length=0;e(W,H,J);X=0;for(var M=t.length;X<M;X++){var Y=t[X],ca=c.update(Y),ha=Y.material;if(ha instanceof
f.MultiMaterial){var ia=ca.groups;ha=ha.materials;for(var ja=0,ka=ia.length;ja<ka;ja++){var pa=ia[ja],la=ha[pa.materialIndex];!0===la.visible&&(la=d(Y,la,P,p),a.renderBufferDirect(J,null,ca,la,Y,pa))}}else la=d(Y,ha,P,p),a.renderBufferDirect(J,null,ca,la,Y,null)}}}}a.setClearColor(a.getClearColor(),a.getClearAlpha());Q.needsUpdate=!1}}};
f.WebGLState=function(a,b,c){function d(D,R,U){var I=new Uint8Array(3),J=a.createTexture();a.bindTexture(D,J);a.texParameteri(D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(D,a.TEXTURE_MAG_FILTER,a.NEAREST);for(D=0;D<U;D++)a.texImage2D(R+D,0,a.RGB,1,1,0,a.RGB,a.UNSIGNED_BYTE,I);return J}var e=this;this.buffers={color:new f.WebGLColorBuffer(a),depth:new f.WebGLDepthBuffer(a,this),stencil:new f.WebGLStencilBuffer(a,this)};var g=a.getParameter(a.MAX_VERTEX_ATTRIBS),h=new Uint8Array(g),k=new Uint8Array(g),
l=new Uint8Array(g),m={},n=null,q=null,p=null,t=null,r=null,v=null,u=null,w=null,x=!1,A=null,y=null,B=null,F=null,K=null,L=null,N=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),Q=null,W={},H=new f.Vector4,O=new f.Vector4,P={};P[a.TEXTURE_2D]=d(a.TEXTURE_2D,a.TEXTURE_2D,1);P[a.TEXTURE_CUBE_MAP]=d(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6);this.init=function(){this.clearColor(0,0,0,1);this.clearDepth(1);this.clearStencil(0);this.enable(a.DEPTH_TEST);this.setDepthFunc(f.LessEqualDepth);this.setFlipSided(!1);
this.setCullFace(f.CullFaceBack);this.enable(a.CULL_FACE);this.enable(a.BLEND);this.setBlending(f.NormalBlending)};this.initAttributes=function(){for(var D=0,R=h.length;D<R;D++)h[D]=0};this.enableAttribute=function(D){h[D]=1;0===k[D]&&(a.enableVertexAttribArray(D),k[D]=1);0!==l[D]&&(b.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(D,0),l[D]=0)};this.enableAttributeAndDivisor=function(D,R,U){h[D]=1;0===k[D]&&(a.enableVertexAttribArray(D),k[D]=1);l[D]!==R&&(U.vertexAttribDivisorANGLE(D,R),l[D]=
R)};this.disableUnusedAttributes=function(){for(var D=0,R=k.length;D!==R;++D)k[D]!==h[D]&&(a.disableVertexAttribArray(D),k[D]=0)};this.enable=function(D){!0!==m[D]&&(a.enable(D),m[D]=!0)};this.disable=function(D){!1!==m[D]&&(a.disable(D),m[D]=!1)};this.getCompressedTextureFormats=function(){if(null===n&&(n=[],b.get("WEBGL_compressed_texture_pvrtc")||b.get("WEBGL_compressed_texture_s3tc")||b.get("WEBGL_compressed_texture_etc1")))for(var D=a.getParameter(a.COMPRESSED_TEXTURE_FORMATS),R=0;R<D.length;R++)n.push(D[R]);
return n};this.setBlending=function(D,R,U,I,J,S,X,M){if(D!==f.NoBlending){this.enable(a.BLEND);if(D!==q||M!==x)D===f.AdditiveBlending?M?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.SRC_ALPHA,a.ONE)):D===f.SubtractiveBlending?M?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.ONE_MINUS_SRC_COLOR)):
D===f.MultiplyBlending?M?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.SRC_COLOR)):M?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)),q=D,x=M;if(D===f.CustomBlending){J=J||R;S=S||U;
X=X||I;if(R!==p||J!==v)a.blendEquationSeparate(c(R),c(J)),p=R,v=J;if(U!==t||I!==r||S!==u||X!==w)a.blendFuncSeparate(c(U),c(I),c(S),c(X)),t=U,r=I,u=S,w=X}else w=u=v=r=t=p=null}else this.disable(a.BLEND),q=D};this.setColorWrite=function(D){this.buffers.color.setMask(D)};this.setDepthTest=function(D){this.buffers.depth.setTest(D)};this.setDepthWrite=function(D){this.buffers.depth.setMask(D)};this.setDepthFunc=function(D){this.buffers.depth.setFunc(D)};this.setStencilTest=function(D){this.buffers.stencil.setTest(D)};
this.setStencilWrite=function(D){this.buffers.stencil.setMask(D)};this.setStencilFunc=function(D,R,U){this.buffers.stencil.setFunc(D,R,U)};this.setStencilOp=function(D,R,U){this.buffers.stencil.setOp(D,R,U)};this.setFlipSided=function(D){A!==D&&(D?a.frontFace(a.CW):a.frontFace(a.CCW),A=D)};this.setCullFace=function(D){D!==f.CullFaceNone?(this.enable(a.CULL_FACE),D!==y&&(D===f.CullFaceBack?a.cullFace(a.BACK):D===f.CullFaceFront?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):this.disable(a.CULL_FACE);
y=D};this.setLineWidth=function(D){D!==B&&(a.lineWidth(D),B=D)};this.setPolygonOffset=function(D,R,U){if(D){if(this.enable(a.POLYGON_OFFSET_FILL),F!==R||K!==U)a.polygonOffset(R,U),F=R,K=U}else this.disable(a.POLYGON_OFFSET_FILL)};this.getScissorTest=function(){return L};this.setScissorTest=function(D){(L=D)?this.enable(a.SCISSOR_TEST):this.disable(a.SCISSOR_TEST)};this.activeTexture=function(D){void 0===D&&(D=a.TEXTURE0+N-1);Q!==D&&(a.activeTexture(D),Q=D)};this.bindTexture=function(D,R){null===Q&&
e.activeTexture();var U=W[Q];void 0===U&&(U={type:void 0,texture:void 0},W[Q]=U);if(U.type!==D||U.texture!==R)a.bindTexture(D,R||P[D]),U.type=D,U.texture=R};this.compressedTexImage2D=function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(D){console.error(D)}};this.texImage2D=function(){try{a.texImage2D.apply(a,arguments)}catch(D){console.error(D)}};this.clearColor=function(D,R,U,I){this.buffers.color.setClear(D,R,U,I)};this.clearDepth=function(D){this.buffers.depth.setClear(D)};this.clearStencil=
function(D){this.buffers.stencil.setClear(D)};this.scissor=function(D){!1===H.equals(D)&&(a.scissor(D.x,D.y,D.z,D.w),H.copy(D))};this.viewport=function(D){!1===O.equals(D)&&(a.viewport(D.x,D.y,D.z,D.w),O.copy(D))};this.reset=function(){for(var D=0;D<k.length;D++)1===k[D]&&(a.disableVertexAttribArray(D),k[D]=0);m={};Q=n=null;W={};y=A=q=null;this.buffers.color.reset();this.buffers.depth.reset();this.buffers.stencil.reset()}};
f.WebGLColorBuffer=function(a){var b=!1,c=new f.Vector4,d=null,e=new f.Vector4;this.setMask=function(g){d===g||b||(a.colorMask(g,g,g,g),d=g)};this.setLocked=function(g){b=g};this.setClear=function(g,h,k,l){c.set(g,h,k,l);!1===e.equals(c)&&(a.clearColor(g,h,k,l),e.copy(c))};this.reset=function(){b=!1;d=null;e=new f.Vector4}};
f.WebGLDepthBuffer=function(a,b){var c=!1,d=null,e=null,g=null;this.setTest=function(h){h?b.enable(a.DEPTH_TEST):b.disable(a.DEPTH_TEST)};this.setMask=function(h){d===h||c||(a.depthMask(h),d=h)};this.setFunc=function(h){if(e!==h){if(h)switch(h){case f.NeverDepth:a.depthFunc(a.NEVER);break;case f.AlwaysDepth:a.depthFunc(a.ALWAYS);break;case f.LessDepth:a.depthFunc(a.LESS);break;case f.LessEqualDepth:a.depthFunc(a.LEQUAL);break;case f.EqualDepth:a.depthFunc(a.EQUAL);break;case f.GreaterEqualDepth:a.depthFunc(a.GEQUAL);
break;case f.GreaterDepth:a.depthFunc(a.GREATER);break;case f.NotEqualDepth:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}else a.depthFunc(a.LEQUAL);e=h}};this.setLocked=function(h){c=h};this.setClear=function(h){g!==h&&(a.clearDepth(h),g=h)};this.reset=function(){c=!1;g=e=d=null}};
f.WebGLStencilBuffer=function(a,b){var c=!1,d=null,e=null,g=null,h=null,k=null,l=null,m=null,n=null;this.setTest=function(q){q?b.enable(a.STENCIL_TEST):b.disable(a.STENCIL_TEST)};this.setMask=function(q){d===q||c||(a.stencilMask(q),d=q)};this.setFunc=function(q,p,t){if(e!==q||g!==p||h!==t)a.stencilFunc(q,p,t),e=q,g=p,h=t};this.setOp=function(q,p,t){if(k!==q||l!==p||m!==t)a.stencilOp(q,p,t),k=q,l=p,m=t};this.setLocked=function(q){c=q};this.setClear=function(q){n!==q&&(a.clearStencil(q),n=q)};this.reset=
function(){c=!1;n=m=l=k=h=g=e=d=null}};
f.WebGLUniforms=function(){function a(I,J,S){this.seq=[];this.map={};this.renderer=S;S=I.getProgramParameter(J,I.ACTIVE_UNIFORMS);for(var X=0;X!==S;++X){var M=I.getActiveUniform(J,X),Y=M;M=I.getUniformLocation(J,M.name);var ca=this,ha=Y.name,ia=ha.length;for(U.lastIndex=0;;){var ja=U.exec(ha),ka=U.lastIndex,pa=ja[1],la=ja[3];"]"===ja[2]&&(pa|=0);if(void 0===la||"["===la&&ka+2===ia){ha=ca;Y=void 0===la?new d(pa,Y,M):new c(pa,Y,M);ha.seq.push(Y);ha.map[Y.id]=Y;break}else la=ca.map[pa],void 0===la&&
(la=new b(pa),pa=ca,ca=la,pa.seq.push(ca),pa.map[ca.id]=ca),ca=la}}}function b(I){this.id=I;this.seq=[];this.map={}}function c(I,J,S){this.id=I;this.addr=S;this.size=J.size;this.setValue=e(J.type)}function d(I,J,S){this.id=I;this.addr=S;this.setValue=v(J.type)}function e(I){switch(I){case 5126:return r;case 35664:return p;case 35665:return q;case 35666:return n;case 35674:return m;case 35675:return l;case 35676:return k;case 35678:return h;case 35680:return g;case 5124:case 35670:return t;case 35667:case 35671:return x;
case 35668:case 35672:return w;case 35669:case 35673:return u}}function g(I,J,S){var X=J.length,M=O(S,X);I.uniform1iv(this.addr,M);for(I=0;I!==X;++I){var Y=J[I];Y&&S.setTextureCube(Y,M[I])}}function h(I,J,S){var X=J.length,M=O(S,X);I.uniform1iv(this.addr,M);for(I=0;I!==X;++I){var Y=J[I];Y&&S.setTexture2D(Y,M[I])}}function k(I,J){I.uniformMatrix4fv(this.addr,!1,P(J,this.size,16))}function l(I,J){I.uniformMatrix3fv(this.addr,!1,P(J,this.size,9))}function m(I,J){I.uniformMatrix2fv(this.addr,!1,P(J,this.size,
4))}function n(I,J){I.uniform4fv(this.addr,P(J,this.size,4))}function q(I,J){I.uniform3fv(this.addr,P(J,this.size,3))}function p(I,J){I.uniform2fv(this.addr,P(J,this.size,2))}function t(I,J){I.uniform1iv(this.addr,J)}function r(I,J){I.uniform1fv(this.addr,J)}function v(I){switch(I){case 5126:return H;case 35664:return Q;case 35665:return N;case 35666:return L;case 35674:return K;case 35675:return F;case 35676:return B;case 35678:return y;case 35680:return A;case 5124:case 35670:return W;case 35667:case 35671:return x;
case 35668:case 35672:return w;case 35669:case 35673:return u}}function u(I,J){I.uniform4iv(this.addr,J)}function w(I,J){I.uniform3iv(this.addr,J)}function x(I,J){I.uniform2iv(this.addr,J)}function A(I,J,S){var X=S.allocTextureUnit();I.uniform1i(this.addr,X);J&&S.setTextureCube(J,X)}function y(I,J,S){var X=S.allocTextureUnit();I.uniform1i(this.addr,X);J&&S.setTexture2D(J,X)}function B(I,J){I.uniformMatrix4fv(this.addr,!1,J.elements||J)}function F(I,J){I.uniformMatrix3fv(this.addr,!1,J.elements||J)}
function K(I,J){I.uniformMatrix2fv(this.addr,!1,J.elements||J)}function L(I,J){void 0===J.x?I.uniform4fv(this.addr,J):I.uniform4f(this.addr,J.x,J.y,J.z,J.w)}function N(I,J){void 0!==J.x?I.uniform3f(this.addr,J.x,J.y,J.z):void 0!==J.r?I.uniform3f(this.addr,J.r,J.g,J.b):I.uniform3fv(this.addr,J)}function Q(I,J){void 0===J.x?I.uniform2fv(this.addr,J):I.uniform2f(this.addr,J.x,J.y)}function W(I,J){I.uniform1i(this.addr,J)}function H(I,J){I.uniform1f(this.addr,J)}function O(I,J){var S=R[J];void 0===S&&
(S=new Int32Array(J),R[J]=S);for(var X=0;X!==J;++X)S[X]=I.allocTextureUnit();return S}function P(I,J,S){var X=I[0];if(0>=X||0<X)return I;var M=J*S,Y=D[M];void 0===Y&&(Y=new Float32Array(M),D[M]=Y);if(0!==J)for(X.toArray(Y,0),X=1,M=0;X!==J;++X)M+=S,I[X].toArray(Y,M);return Y}var D=[],R=[];b.prototype.setValue=function(I,J){for(var S=this.seq,X=0,M=S.length;X!==M;++X){var Y=S[X];Y.setValue(I,J[Y.id])}};var U=/([\w\d_]+)(\])?(\[|\.)?/g;a.prototype.setValue=function(I,J,S){J=this.map[J];void 0!==J&&J.setValue(I,
S,this.renderer)};a.prototype.set=function(I,J,S){var X=this.map[S];void 0!==X&&X.setValue(I,J[S],this.renderer)};a.prototype.setOptional=function(I,J,S){J=J[S];void 0!==J&&this.setValue(I,S,J)};a.upload=function(I,J,S,X){for(var M=0,Y=J.length;M!==Y;++M){var ca=J[M],ha=S[ca.id];!1!==ha.needsUpdate&&ca.setValue(I,ha.value,X)}};a.seqWithValue=function(I,J){for(var S=[],X=0,M=I.length;X!==M;++X){var Y=I[X];Y.id in J&&S.push(Y)}return S};a.splitDynamic=function(I,J){for(var S=null,X=I.length,M=0,Y=0;Y!==
X;++Y){var ca=I[Y],ha=J[ca.id];ha&&!0===ha.dynamic?(null===S&&(S=[]),S.push(ca)):(M<Y&&(I[M]=ca),++M)}M<X&&(I.length=M);return S};a.evalDynamic=function(I,J,S,X){for(var M=0,Y=I.length;M!==Y;++M){var ca=J[I[M].id],ha=ca.onUpdateCallback;void 0!==ha&&ha.call(ca,S,X)}};return a}();
f.LensFlarePlugin=function(a,b){var c,d,e,g,h,k,l,m,n,q,p=a.context,t=a.state,r,v,u,w,x,A;this.render=function(y,B,F){if(0!==b.length){y=new f.Vector3;var K=F.w/F.z,L=.5*F.z,N=.5*F.w,Q=16/F.w,W=new f.Vector2(Q*K,Q),H=new f.Vector3(1,1,0),O=new f.Vector2(1,1),P=new f.Box2;P.min.set(0,0);P.max.set(F.z-16,F.w-16);if(void 0===w){Q=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]);var D=new Uint16Array([0,1,2,0,2,3]);r=p.createBuffer();v=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,r);p.bufferData(p.ARRAY_BUFFER,
Q,p.STATIC_DRAW);p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,v);p.bufferData(p.ELEMENT_ARRAY_BUFFER,D,p.STATIC_DRAW);x=p.createTexture();A=p.createTexture();t.bindTexture(p.TEXTURE_2D,x);p.texImage2D(p.TEXTURE_2D,0,p.RGB,16,16,0,p.RGB,p.UNSIGNED_BYTE,null);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST);t.bindTexture(p.TEXTURE_2D,
A);p.texImage2D(p.TEXTURE_2D,0,p.RGBA,16,16,0,p.RGBA,p.UNSIGNED_BYTE,null);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST);Q=u={vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV \x3d uv;\nvec2 pos \x3d position;\nif ( renderType \x3d\x3d 2 ) {\nvec4 visibility \x3d texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility \x3d        visibility.r / 9.0;\nvVisibility *\x3d 1.0 - visibility.g / 9.0;\nvVisibility *\x3d       visibility.b / 9.0;\nvVisibility *\x3d 1.0 - visibility.a / 9.0;\npos.x \x3d cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y \x3d sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position \x3d vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif ( renderType \x3d\x3d 0 ) {\ngl_FragColor \x3d vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if ( renderType \x3d\x3d 1 ) {\ngl_FragColor \x3d texture2D( map, vUV );\n} else {\nvec4 texture \x3d texture2D( map, vUV );\ntexture.a *\x3d opacity * vVisibility;\ngl_FragColor \x3d texture;\ngl_FragColor.rgb *\x3d color;\n}\n}"};D=p.createProgram();
var R=p.createShader(p.FRAGMENT_SHADER),U=p.createShader(p.VERTEX_SHADER),I="precision "+a.getPrecision()+" float;\n";p.shaderSource(R,I+Q.fragmentShader);p.shaderSource(U,I+Q.vertexShader);p.compileShader(R);p.compileShader(U);p.attachShader(D,R);p.attachShader(D,U);p.linkProgram(D);w=D;n=p.getAttribLocation(w,"position");q=p.getAttribLocation(w,"uv");c=p.getUniformLocation(w,"renderType");d=p.getUniformLocation(w,"map");e=p.getUniformLocation(w,"occlusionMap");g=p.getUniformLocation(w,"opacity");
h=p.getUniformLocation(w,"color");k=p.getUniformLocation(w,"scale");l=p.getUniformLocation(w,"rotation");m=p.getUniformLocation(w,"screenPosition")}p.useProgram(w);t.initAttributes();t.enableAttribute(n);t.enableAttribute(q);t.disableUnusedAttributes();p.uniform1i(e,0);p.uniform1i(d,1);p.bindBuffer(p.ARRAY_BUFFER,r);p.vertexAttribPointer(n,2,p.FLOAT,!1,16,0);p.vertexAttribPointer(q,2,p.FLOAT,!1,16,8);p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,v);t.disable(p.CULL_FACE);t.setDepthWrite(!1);D=0;for(R=b.length;D<
R;D++)if(Q=16/F.w,W.set(Q*K,Q),U=b[D],y.set(U.matrixWorld.elements[12],U.matrixWorld.elements[13],U.matrixWorld.elements[14]),y.applyMatrix4(B.matrixWorldInverse),sb(y,B.projectionMatrix),H.copy(y),O.x=F.x+H.x*L+L-8,O.y=F.y+H.y*N+N-8,!0===P.containsPoint(O)){t.activeTexture(p.TEXTURE0);t.bindTexture(p.TEXTURE_2D,null);t.activeTexture(p.TEXTURE1);t.bindTexture(p.TEXTURE_2D,x);p.copyTexImage2D(p.TEXTURE_2D,0,p.RGB,O.x,O.y,16,16,0);p.uniform1i(c,0);p.uniform2f(k,W.x,W.y);p.uniform3f(m,H.x,H.y,H.z);t.disable(p.BLEND);
t.enable(p.DEPTH_TEST);p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0);t.activeTexture(p.TEXTURE0);t.bindTexture(p.TEXTURE_2D,A);p.copyTexImage2D(p.TEXTURE_2D,0,p.RGBA,O.x,O.y,16,16,0);p.uniform1i(c,1);t.disable(p.DEPTH_TEST);t.activeTexture(p.TEXTURE1);t.bindTexture(p.TEXTURE_2D,x);p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0);U.positionScreen.copy(H);U.customUpdateCallback?U.customUpdateCallback(U):U.updateLensFlares();p.uniform1i(c,2);t.enable(p.BLEND);I=0;for(var J=U.lensFlares.length;I<J;I++){var S=
U.lensFlares[I];.001<S.opacity&&.001<S.scale&&(H.x=S.x,H.y=S.y,H.z=S.z,Q=S.size*S.scale/F.w,W.x=Q*K,W.y=Q,p.uniform3f(m,H.x,H.y,H.z),p.uniform2f(k,W.x,W.y),p.uniform1f(l,S.rotation),p.uniform1f(g,S.opacity),p.uniform3f(h,S.color.r,S.color.g,S.color.b),t.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst),a.setTexture2D(S.texture,1),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0))}}t.enable(p.CULL_FACE);t.enable(p.DEPTH_TEST);t.setDepthWrite(!0);a.resetGLState()}}};
f.SpritePlugin=function(a,b){var c,d,e,g,h,k,l,m,n,q,p,t,r,v,u,w,x;function A(O,P){return O.renderOrder!==P.renderOrder?O.renderOrder-P.renderOrder:O.z!==P.z?P.z-O.z:P.id-O.id}var y=a.context,B=a.state,F,K,L,N,Q=new f.Vector3,W=new f.Quaternion,H=new f.Vector3;this.render=function(O,P){if(0!==b.length){if(void 0===L){var D=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),R=new Uint16Array([0,1,2,0,2,3]);F=y.createBuffer();K=y.createBuffer();y.bindBuffer(y.ARRAY_BUFFER,F);y.bufferData(y.ARRAY_BUFFER,
D,y.STATIC_DRAW);y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,K);y.bufferData(y.ELEMENT_ARRAY_BUFFER,R,y.STATIC_DRAW);D=y.createProgram();R=y.createShader(y.VERTEX_SHADER);var U=y.createShader(y.FRAGMENT_SHADER);y.shaderSource(R,["precision "+a.getPrecision()+" float;","uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV \x3d uvOffset + uv * uvScale;\nvec2 alignedPosition \x3d position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x \x3d cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y \x3d sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition \x3d modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy +\x3d rotatedPosition;\nfinalPosition \x3d projectionMatrix * finalPosition;\ngl_Position \x3d finalPosition;\n}"].join("\n"));
y.shaderSource(U,["precision "+a.getPrecision()+" float;","uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture \x3d texture2D( map, vUV );\nif ( texture.a \x3c alphaTest ) discard;\ngl_FragColor \x3d vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType \x3e 0 ) {\nfloat depth \x3d gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor \x3d 0.0;\nif ( fogType \x3d\x3d 1 ) {\nfogFactor \x3d smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 \x3d 1.442695;\nfogFactor \x3d exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor \x3d 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor \x3d mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n"));
y.compileShader(R);y.compileShader(U);y.attachShader(D,R);y.attachShader(D,U);y.linkProgram(D);L=D;w=y.getAttribLocation(L,"position");x=y.getAttribLocation(L,"uv");c=y.getUniformLocation(L,"uvOffset");d=y.getUniformLocation(L,"uvScale");e=y.getUniformLocation(L,"rotation");g=y.getUniformLocation(L,"scale");h=y.getUniformLocation(L,"color");k=y.getUniformLocation(L,"map");l=y.getUniformLocation(L,"opacity");m=y.getUniformLocation(L,"modelViewMatrix");n=y.getUniformLocation(L,"projectionMatrix");q=
y.getUniformLocation(L,"fogType");p=y.getUniformLocation(L,"fogDensity");t=y.getUniformLocation(L,"fogNear");r=y.getUniformLocation(L,"fogFar");v=y.getUniformLocation(L,"fogColor");u=y.getUniformLocation(L,"alphaTest");D=document.createElement("canvas");D.width=8;D.height=8;R=D.getContext("2d");R.fillStyle="white";R.fillRect(0,0,8,8);N=new f.Texture(D);N.needsUpdate=!0}y.useProgram(L);B.initAttributes();B.enableAttribute(w);B.enableAttribute(x);B.disableUnusedAttributes();B.disable(y.CULL_FACE);B.enable(y.BLEND);
y.bindBuffer(y.ARRAY_BUFFER,F);y.vertexAttribPointer(w,2,y.FLOAT,!1,16,0);y.vertexAttribPointer(x,2,y.FLOAT,!1,16,8);y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,K);y.uniformMatrix4fv(n,!1,P.projectionMatrix.elements);B.activeTexture(y.TEXTURE0);y.uniform1i(k,0);R=D=0;(U=O.fog)?(y.uniform3f(v,U.color.r,U.color.g,U.color.b),U instanceof f.Fog?(y.uniform1f(t,U.near),y.uniform1f(r,U.far),y.uniform1i(q,1),R=D=1):U instanceof f.FogExp2&&(y.uniform1f(p,U.density),y.uniform1i(q,2),R=D=2)):(y.uniform1i(q,0),R=D=0);
U=0;for(var I=b.length;U<I;U++){var J=b[U];Cb(J.modelViewMatrix,P.matrixWorldInverse,J.matrixWorld);J.z=-J.modelViewMatrix.elements[14]}b.sort(A);P=[];U=0;for(I=b.length;U<I;U++){J=b[U];var S=J.material;y.uniform1f(u,S.alphaTest);y.uniformMatrix4fv(m,!1,J.modelViewMatrix.elements);J.matrixWorld.decompose(Q,W,H);P[0]=H.x;P[1]=H.y;J=0;O.fog&&S.fog&&(J=R);D!==J&&(y.uniform1i(q,J),D=J);null!==S.map?(y.uniform2f(c,S.map.offset.x,S.map.offset.y),y.uniform2f(d,S.map.repeat.x,S.map.repeat.y)):(y.uniform2f(c,
0,0),y.uniform2f(d,1,1));y.uniform1f(l,S.opacity);y.uniform3f(h,S.color.r,S.color.g,S.color.b);y.uniform1f(e,S.rotation);y.uniform2fv(g,P);B.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst);B.setDepthTest(S.depthTest);B.setDepthWrite(S.depthWrite);S.map?a.setTexture2D(S.map,0):a.setTexture2D(N,0);y.drawElements(y.TRIANGLES,6,y.UNSIGNED_SHORT,0)}B.enable(y.CULL_FACE);a.resetGLState()}}};
Object.assign(f,{Face4:function(a,b,c,d,e,g,h){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new f.Face3(a,b,c,e,g,h)},LineStrip:0,LinePieces:1,MeshFaceMaterial:f.MultiMaterial,PointCloud:function(a,b){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new f.Points(a,b)},Particle:f.Sprite,ParticleSystem:function(a,b){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");return new f.Points(a,b)},PointCloudMaterial:function(a){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");
return new f.PointsMaterial(a)},ParticleBasicMaterial:function(a){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new f.PointsMaterial(a)},ParticleSystemMaterial:function(a){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");return new f.PointsMaterial(a)},Vertex:function(a,b,c){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");return new f.Vector3(a,b,c)}});
Object.assign(f.Box2.prototype,{empty:function(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)}});
Object.assign(f.Box3.prototype,{empty:function(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionSphere:function(a){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});
Object.assign(f.Matrix3.prototype,{multiplyVector3:function(a){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return rb(a,this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)}});
Object.assign(f.Matrix4.prototype,{extractPosition:function(a){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");var b=this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this},setRotationFromQuaternion:function(a){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return Db(this,a)},multiplyVector3:function(a){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.");
return sb(a,this)},multiplyVector4:function(a){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)},rotateAxis:function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");
tb(a,this)},crossVector:function(a){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")}});
Object.assign(f.Plane.prototype,{isIntersectionLine:function(a){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");var b=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b}});Object.assign(f.Quaternion.prototype,{multiplyVector3:function(a){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return mb(a,this)}});
Object.assign(f.Ray.prototype,{isIntersectionBox:function(a){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionPlane:function(a){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(a)},isIntersectionSphere:function(a){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});
Object.assign(f.Vector3.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(a){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");return Bb(this,a)},
getScaleFromMatrix:function(a){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");var b=Ab(this,a,0).length(),c=Ab(this,a,1).length();a=Ab(this,a,2).length();this.x=b;this.y=c;this.z=a;return this},getColumnFromMatrix:function(a,b){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return Ab(this,b,a)}});
Object.assign(f.Object3D.prototype,{getChildByName:function(a){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(a)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(a,b){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,a)}});
Object.defineProperties(f.Object3D.prototype,{eulerOrder:{get:function(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});
Object.defineProperties(f.LOD.prototype,{objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});f.PerspectiveCamera.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");void 0!==b&&(this.filmGauge=b);this.setFocalLength(a)};
Object.defineProperties(f.Light.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");
this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");
this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=a}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");
this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=a}}});Object.defineProperties(f.BufferAttribute.prototype,{length:{get:function(){console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count.");return this.array.length}}});
Object.assign(f.BufferGeometry.prototype,{addIndex:function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(a)},addDrawCall:function(a,b,c){void 0!==c&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(a,b)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()},
computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});Object.defineProperties(f.BufferGeometry.prototype,{drawcalls:{get:function(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups}},offsets:{get:function(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});
Object.defineProperties(f.Material.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){console.warn("THREE."+this.type+": .wrapRGB has been removed.");return new f.Color}}});
Object.defineProperties(f.MeshPhongMaterial.prototype,{metal:{get:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");return!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});
Object.defineProperties(f.ShaderMaterial.prototype,{derivatives:{get:function(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=a}}});
f.EventDispatcher.prototype=Object.assign(Object.create({constructor:f.EventDispatcher,apply:function(a){console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in.");Object.assign(a,this)}}),f.EventDispatcher.prototype);
Object.assign(f.WebGLRenderer.prototype,{supportsFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");
return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},
supportsBlendMinMax:function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");
this.setScissorTest(a)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}});
Object.defineProperties(f.WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=a}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.");
this.shadowMap.cullFace=a}}});Object.defineProperties(f.WebGLShadowMap.prototype,{cullFace:{get:function(){return this.renderReverseSided?f.CullFaceFront:f.CullFaceBack},set:function(a){a=a!==f.CullFaceBack;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+a+".");this.renderReverseSided=a}}});
Object.defineProperties(f.WebGLRenderTarget.prototype,{wrapS:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=a}},wrapT:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");this.texture.wrapT=
a}},magFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=a}},minFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");this.texture.minFilter=
a}},anisotropy:{get:function(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=a}},offset:{get:function(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");this.texture.offset=
a}},repeat:{get:function(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=a}},format:{get:function(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");return this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=a}},type:{get:function(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");
return this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=a}},generateMipmaps:{get:function(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=a}}});
Object.assign(f.Audio.prototype,{load:function(a){console.warn("THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.");var b=this;(new f.AudioLoader).load(a,function(c){b.setBuffer(c)});return this}});Object.assign(f.AudioAnalyser.prototype,{getData:function(){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()}});
f.GeometryUtils={merge:function(a,b,c){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");if(b instanceof f.Mesh){b.matrixAutoUpdate&&b.updateMatrix();var d=b.matrix;b=b.geometry}a.merge(b,d,c)},center:function(a){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return a.center()}};
f.ImageUtils={crossOrigin:void 0,loadTexture:function(a,b,c,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var e=new f.TextureLoader;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a},loadTextureCube:function(a,b,c,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var e=new f.CubeTextureLoader;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,
d);b&&(a.mapping=b);return a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};
f.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");this.projectVector=function(a,b){console.warn("THREE.Projector: .projectVector() is now vector.project().");a.project(b)};this.unprojectVector=function(a,b){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");a.unproject(b)};this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}};
f.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");this.domElement=document.createElement("canvas");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}};
f.CurveUtils={tangentQuadraticBezier:function(a,b,c,d){return 2*(1-a)*(c-b)+2*a*(d-c)},tangentCubicBezier:function(a,b,c,d,e){return-3*b*(1-a)*(1-a)+3*c*(1-a)*(1-a)-6*a*c*(1-a)+6*a*d*(1-a)-3*a*a*d+3*a*a*e},tangentSpline:function(a){return 6*a*a-6*a+(3*a*a-4*a+1)+(-6*a*a+6*a)+(3*a*a-2*a)},interpolate:function(a,b,c,d,e){a=.5*(c-a);d=.5*(d-b);var g=e*e;return(2*b-2*c+a+d)*e*g+(-3*b+3*c-2*a-d)*g+a*e+b}};
f.SceneUtils={createMultiMaterialObject:function(a,b){for(var c=new f.Group,d=0,e=b.length;d<e;d++)c.add(new f.Mesh(a,b[d]));return c},detach:function(a,b,c){a.applyMatrix(b.matrixWorld);b.remove(a);c.add(a)},attach:function(a,b,c){var d=new f.Matrix4;d.getInverse(c.matrixWorld);a.applyMatrix(d);b.remove(a);c.add(a)}};
f.ShapeUtils={area:function(a){for(var b=a.length,c=0,d=b-1,e=0;e<b;d=e++)c+=a[d].x*a[e].y-a[e].x*a[d].y;return.5*c},triangulate:function(a,b){var c=a.length;if(3>c)return null;var d=[],e=[],g=[],h;if(0<f.ShapeUtils.area(a))for(h=0;h<c;h++)e[h]=h;else for(h=0;h<c;h++)e[h]=c-1-h;var k=2*c;for(h=c-1;2<c;){if(0>=k--){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");break}var l=h;c<=l&&(l=0);h=l+1;c<=h&&(h=0);var m=h+1;c<=m&&(m=0);a:{var n;var q=a[e[l]].x;var p=a[e[l]].y;
var t=a[e[h]].x;var r=a[e[h]].y;var v=a[e[m]].x;var u=a[e[m]].y;if(Number.EPSILON>(t-q)*(u-p)-(r-p)*(v-q))var w=!1;else{var x=v-t;var A=u-r;var y=q-v;var B=p-u;var F=t-q;w=r-p;for(n=0;n<c;n++){var K=a[e[n]].x;var L=a[e[n]].y;if(!(K===q&&L===p||K===t&&L===r||K===v&&L===u)){var N=K-q;var Q=L-p;var W=K-t;var H=L-r;K-=v;L-=u;H=x*H-A*W;Q=F*Q-w*N;K=y*L-B*K;if(H>=-Number.EPSILON&&K>=-Number.EPSILON&&Q>=-Number.EPSILON){w=!1;break a}}}w=!0}}if(w){d.push([a[e[l]],a[e[h]],a[e[m]]]);g.push([e[l],e[h],e[m]]);
l=h;for(m=h+1;m<c;l++,m++)e[l]=e[m];c--;k=2*c}}return b?g:d},triangulateShape:function(a,b){function c(n,q,p){return n.x!==q.x?n.x<q.x?n.x<=p.x&&p.x<=q.x:q.x<=p.x&&p.x<=n.x:n.y<q.y?n.y<=p.y&&p.y<=q.y:q.y<=p.y&&p.y<=n.y}function d(n,q,p,t,r){var v=q.x-n.x,u=q.y-n.y,w=t.x-p.x,x=t.y-p.y,A=n.x-p.x,y=n.y-p.y,B=u*w-v*x,F=u*A-v*y;if(Math.abs(B)>Number.EPSILON){if(0<B){if(0>F||F>B)return[];w=x*A-w*y;if(0>w||w>B)return[]}else{if(0<F||F<B)return[];w=x*A-w*y;if(0<w||w<B)return[]}if(0===w)return!r||0!==F&&F!==
B?[n]:[];if(w===B)return!r||0!==F&&F!==B?[q]:[];if(0===F)return[p];if(F===B)return[t];r=w/B;return[{x:n.x+r*v,y:n.y+r*u}]}if(0!==F||x*A!==w*y)return[];u=0===v&&0===u;w=0===w&&0===x;if(u&&w)return n.x!==p.x||n.y!==p.y?[]:[n];if(u)return c(p,t,n)?[n]:[];if(w)return c(n,q,p)?[p]:[];0!==v?(n.x<q.x?(v=n,w=n.x,u=q,n=q.x):(v=q,w=q.x,u=n,n=n.x),p.x<t.x?(q=p,B=p.x,x=t,p=t.x):(q=t,B=t.x,x=p,p=p.x)):(n.y<q.y?(v=n,w=n.y,u=q,n=q.y):(v=q,w=q.y,u=n,n=n.y),p.y<t.y?(q=p,B=p.y,x=t,p=t.y):(q=t,B=t.y,x=p,p=p.y));return w<=
B?n<B?[]:n===B?r?[]:[q]:n<=p?[q,u]:[q,x]:w>p?[]:w===p?r?[]:[v]:n<=p?[v,u]:[v,x]}function e(n,q,p,t){var r=q.x-n.x,v=q.y-n.y;q=p.x-n.x;p=p.y-n.y;var u=t.x-n.x;t=t.y-n.y;n=r*p-v*q;r=r*t-v*u;return Math.abs(n)>Number.EPSILON?(q=u*p-t*q,0<n?0<=r&&0<=q:0<=r||0<=q):0<r}var g,h={},k=a.concat();var l=0;for(g=b.length;l<g;l++)Array.prototype.push.apply(k,b[l]);l=0;for(g=k.length;l<g;l++){var m=k[l].x+":"+k[l].y;void 0!==h[m]&&console.warn("THREE.Shape: Duplicate point",m);h[m]=l}l=function(n,q){function p(H,
O){var P=v.length-1,D=H-1;0>D&&(D=P);var R=H+1;R>P&&(R=0);P=e(v[H],v[D],v[R],Q[O]);if(!P)return!1;P=Q.length-1;D=O-1;0>D&&(D=P);R=O+1;R>P&&(R=0);return(P=e(Q[O],Q[D],Q[R],v[H]))?!0:!1}function t(H,O){var P;for(P=0;P<v.length;P++){var D=P+1;D%=v.length;D=d(H,O,v[P],v[D],!0);if(0<D.length)return!0}return!1}function r(H,O){var P,D;for(P=0;P<u.length;P++){var R=q[u[P]];for(D=0;D<R.length;D++){var U=D+1;U%=R.length;U=d(H,O,R[D],R[U],!0);if(0<U.length)return!0}}return!1}var v=n.concat(),u=[],w,x;n=[];var A,
y=0;for(w=q.length;y<w;y++)u.push(y);var B=0;for(var F=2*u.length;0<u.length;){F--;if(0>F){console.log("Infinite Loop! Holes left:"+u.length+", Probably Hole outside Shape!");break}for(x=B;x<v.length;x++){var K=v[x];w=-1;for(y=0;y<u.length;y++){var L=u[y];var N=K.x+":"+K.y+":"+L;if(void 0===n[N]){var Q=q[L];for(A=0;A<Q.length;A++)if(L=Q[A],p(x,A)&&!t(K,L)&&!r(K,L)){w=A;u.splice(y,1);B=v.slice(0,x+1);L=v.slice(x);A=Q.slice(w);var W=Q.slice(0,w+1);v=B.concat(A).concat(W).concat(L);B=x;break}if(0<=w)break;
n[N]=!0}}if(0<=w)break}}return v}(a,b);k=f.ShapeUtils.triangulate(l,!1);l=0;for(g=k.length;l<g;l++)for(b=k[l],a=0;3>a;a++)m=b[a].x+":"+b[a].y,m=h[m],void 0!==m&&(b[a]=m);return k.concat()},isClockWise:function(a){return 0>f.ShapeUtils.area(a)},b2:function(a,b,c,d){var e=1-a;return e*e*b+2*(1-a)*a*c+a*a*d},b3:function(a,b,c,d,e){var g=1-a,h=1-a;return g*g*g*b+3*h*h*a*c+3*(1-a)*a*a*d+a*a*a*e}};f.Curve=function(){};
function sc(a,b){a=tc(a);var c=a.length;var d=b*a[c-1];for(var e=0,g=c-1,h;e<=g;)if(b=Math.floor(e+(g-e)/2),h=a[b]-d,0>h)e=b+1;else if(0<h)g=b-1;else{g=b;break}b=g;if(a[b]===d)return b/(c-1);e=a[b];return a=(b+(d-e)/(a[b+1]-e))/(c-1)}
function tc(a){var b;b||(b=a.__arcLengthDivisions?a.__arcLengthDivisions:200);if(a.cacheArcLengths&&a.cacheArcLengths.length===b+1&&!a.needsUpdate)return a.cacheArcLengths;a.needsUpdate=!1;var c=[],d=a.getPoint(0),e,g=0;c.push(0);for(e=1;e<=b;e++){var h=a.getPoint(e/b);g+=h.distanceTo(d);c.push(g);d=h}return a.cacheArcLengths=c}
f.Curve.prototype={constructor:f.Curve,getPoint:function(){console.warn("THREE.Curve: Warning, getPoint() not implemented!");return null},getPointAt:function(a){a=sc(this,a);return this.getPoint(a)},getPoints:function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPoint(b/a));return c},getSpacedPoints:function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPointAt(b/a));return c},getLength:function(){var a=tc(this);return a[a.length-1]},updateArcLengths:function(){this.needsUpdate=
!0;tc(this)},getTangent:function(a){var b=a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&(a=1);b=this.getPoint(b);return this.getPoint(a).clone().sub(b).normalize()}};f.Curve.create=function(a,b){a.prototype=Object.create(f.Curve.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};f.CurvePath=function(){this.curves=[];this.autoClose=!1};
f.CurvePath.prototype=Object.assign(Object.create(f.Curve.prototype),{constructor:f.CurvePath,add:function(a){this.curves.push(a)},closePath:function(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new f.LineCurve(b,a))},getPoint:function(a){for(var b=a*this.getLength(),c=this.getCurveLengths(),d=0;d<c.length;){if(c[d]>=b)return a=this.curves[d],b=1-(c[d]-b)/a.getLength(),a.getPointAt(b);d++}return null},getLength:function(){var a=this.getCurveLengths();
return a[a.length-1]},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var a=[],b=0,c=0,d=this.curves.length;c<d;c++)b+=this.curves[c].getLength(),a.push(b);return this.cacheLengths=a},createPointsGeometry:function(a){a=this.getPoints(a);return this.createGeometry(a)},createSpacedPointsGeometry:function(a){a=this.getSpacedPoints(a);return this.createGeometry(a)},createGeometry:function(a){for(var b=new f.Geometry,c=0,d=a.length;c<
d;c++){var e=a[c];b.vertices.push(new f.Vector3(e.x,e.y,e.z||0))}return b}});f.Font=function(a){this.data=a};
Object.assign(f.Font.prototype,{generateShapes:function(a,b,c){void 0===b&&(b=100);void 0===c&&(c=4);var d=this.data;a=String(a).split("");var e=b/d.resolution,g=0;b=[];for(var h=0;h<a.length;h++){var k;var l=e;var m=g,n=d.glyphs[a[h]]||d.glyphs["?"];if(n){var q=new f.Path,p=[],t=f.ShapeUtils.b2,r=f.ShapeUtils.b3;if(n.o)for(var v=n._cachedOutline||(n._cachedOutline=n.o.split(" ")),u=0,w=v.length;u<w;)switch(v[u++]){case "m":var x=v[u++]*l+m;var A=v[u++]*l;q.moveTo(x,A);break;case "l":x=v[u++]*l+m;
A=v[u++]*l;q.lineTo(x,A);break;case "q":var y=v[u++]*l+m;var B=v[u++]*l;var F=v[u++]*l+m;var K=v[u++]*l;q.quadraticCurveTo(F,K,y,B);if(k=p[p.length-1]){var L=k.x;k=k.y;for(var N=1;N<=c;N++){var Q=N/c;t(Q,L,F,y);t(Q,k,K,B)}}break;case "b":if(y=v[u++]*l+m,B=v[u++]*l,F=v[u++]*l+m,K=v[u++]*l,x=v[u++]*l+m,A=v[u++]*l,q.bezierCurveTo(F,K,x,A,y,B),k=p[p.length-1])for(L=k.x,k=k.y,N=1;N<=c;N++)Q=N/c,r(Q,L,F,x,y),r(Q,k,K,A,B)}l={offset:n.ha*l,path:q}}else l=void 0;g+=l.offset;b.push(l.path)}c=[];d=0;for(a=b.length;d<
a;d++)Array.prototype.push.apply(c,b[d].toShapes());return c}});f.Path=function(a){f.CurvePath.call(this);this.actions=[];a&&this.fromPoints(a)};
f.Path.prototype=Object.assign(Object.create(f.CurvePath.prototype),{constructor:f.Path,fromPoints:function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y)},moveTo:function(a,b){this.actions.push({action:"moveTo",args:[a,b]})},lineTo:function(a,b){var c=this.actions[this.actions.length-1].args;this.curves.push(new f.LineCurve(new f.Vector2(c[c.length-2],c[c.length-1]),new f.Vector2(a,b)));this.actions.push({action:"lineTo",args:[a,b]})},quadraticCurveTo:function(a,
b,c,d){var e=this.actions[this.actions.length-1].args;this.curves.push(new f.QuadraticBezierCurve(new f.Vector2(e[e.length-2],e[e.length-1]),new f.Vector2(a,b),new f.Vector2(c,d)));this.actions.push({action:"quadraticCurveTo",args:[a,b,c,d]})},bezierCurveTo:function(a,b,c,d,e,g){var h=this.actions[this.actions.length-1].args;this.curves.push(new f.CubicBezierCurve(new f.Vector2(h[h.length-2],h[h.length-1]),new f.Vector2(a,b),new f.Vector2(c,d),new f.Vector2(e,g)));this.actions.push({action:"bezierCurveTo",
args:[a,b,c,d,e,g]})},splineThru:function(a){var b=Array.prototype.slice.call(arguments),c=this.actions[this.actions.length-1].args;c=[new f.Vector2(c[c.length-2],c[c.length-1])];Array.prototype.push.apply(c,a);this.curves.push(new f.SplineCurve(c));this.actions.push({action:"splineThru",args:b})},arc:function(a,b,c,d,e,g){var h=this.actions[this.actions.length-1].args;this.absarc(a+h[h.length-2],b+h[h.length-1],c,d,e,g)},absarc:function(a,b,c,d,e,g){this.absellipse(a,b,c,c,d,e,g)},ellipse:function(a,
b,c,d,e,g,h,k){var l=this.actions[this.actions.length-1].args;this.absellipse(a+l[l.length-2],b+l[l.length-1],c,d,e,g,h,k)},absellipse:function(a,b,c,d,e,g,h,k){var l=[a,b,c,d,e,g,h,k||0];a=new f.EllipseCurve(a,b,c,d,e,g,h,k);this.curves.push(a);a=a.getPoint(1);l.push(a.x);l.push(a.y);this.actions.push({action:"ellipse",args:l})},getSpacedPoints:function(a){a||(a=40);for(var b=[],c=0;c<a;c++)b.push(this.getPoint(c/a));this.autoClose&&b.push(b[0]);return b},getPoints:function(a){a=a||12;for(var b=
f.ShapeUtils.b2,c=f.ShapeUtils.b3,d=[],e,g,h,k,l,m,n,q,p,t,r=0,v=this.actions.length;r<v;r++){p=this.actions[r];var u=p.args;switch(p.action){case "moveTo":d.push(new f.Vector2(u[0],u[1]));break;case "lineTo":d.push(new f.Vector2(u[0],u[1]));break;case "quadraticCurveTo":e=u[2];g=u[3];l=u[0];m=u[1];0<d.length?(p=d[d.length-1],n=p.x,q=p.y):(p=this.actions[r-1].args,n=p[p.length-2],q=p[p.length-1]);for(u=1;u<=a;u++)t=u/a,p=b(t,n,l,e),t=b(t,q,m,g),d.push(new f.Vector2(p,t));break;case "bezierCurveTo":e=
u[4];g=u[5];l=u[0];m=u[1];h=u[2];k=u[3];0<d.length?(p=d[d.length-1],n=p.x,q=p.y):(p=this.actions[r-1].args,n=p[p.length-2],q=p[p.length-1]);for(u=1;u<=a;u++)t=u/a,p=c(t,n,l,h,e),t=c(t,q,m,k,g),d.push(new f.Vector2(p,t));break;case "splineThru":p=this.actions[r-1].args;t=[new f.Vector2(p[p.length-2],p[p.length-1])];p=a*u[0].length;t=t.concat(u[0]);t=new f.SplineCurve(t);for(u=1;u<=p;u++)d.push(t.getPointAt(u/p));break;case "arc":e=u[0];g=u[1];m=u[2];h=u[3];p=u[4];l=!!u[5];n=p-h;q=2*a;for(u=1;u<=q;u++)t=
u/q,l||(t=1-t),t=h+t*n,p=e+m*Math.cos(t),t=g+m*Math.sin(t),d.push(new f.Vector2(p,t));break;case "ellipse":e=u[0];g=u[1];m=u[2];k=u[3];h=u[4];p=u[5];l=!!u[6];var w=u[7];n=p-h;q=2*a;if(0!==w){var x=Math.cos(w);var A=Math.sin(w)}for(u=1;u<=q;u++){t=u/q;l||(t=1-t);t=h+t*n;p=e+m*Math.cos(t);t=g+k*Math.sin(t);if(0!==w){var y=p;p=(y-e)*x-(t-g)*A+e;t=(y-e)*A+(t-g)*x+g}d.push(new f.Vector2(p,t))}}}a=d[d.length-1];Math.abs(a.x-d[0].x)<Number.EPSILON&&Math.abs(a.y-d[0].y)<Number.EPSILON&&d.splice(d.length-
1,1);this.autoClose&&d.push(d[0]);return d},toShapes:function(a,b){function c(u){for(var w=[],x=0,A=u.length;x<A;x++){var y=u[x],B=new f.Shape;B.actions=y.actions;B.curves=y.curves;w.push(B)}return w}function d(u,w){for(var x=w.length,A=!1,y=x-1,B=0;B<x;y=B++){var F=w[y],K=w[B],L=K.x-F.x,N=K.y-F.y;if(Math.abs(N)>Number.EPSILON){if(0>N&&(F=w[B],L=-L,K=w[y],N=-N),!(u.y<F.y||u.y>K.y))if(u.y===F.y){if(u.x===F.x)return!0}else{y=N*(u.x-F.x)-L*(u.y-F.y);if(0===y)return!0;0>y||(A=!A)}}else if(u.y===F.y&&
(K.x<=u.x&&u.x<=F.x||F.x<=u.x&&u.x<=K.x))return!0}return A}var e=f.ShapeUtils.isClockWise,g=function(u){for(var w=[],x=new f.Path,A=0,y=u.length;A<y;A++){var B=u[A],F=B.args;B=B.action;"moveTo"===B&&0!==x.actions.length&&(w.push(x),x=new f.Path);x[B].apply(x,F)}0!==x.actions.length&&w.push(x);return w}(this.actions);if(0===g.length)return[];if(!0===b)return c(g);b=[];if(1===g.length){var h=g[0];var k=new f.Shape;k.actions=h.actions;k.curves=h.curves;b.push(k);return b}var l=!e(g[0].getPoints());l=
a?!l:l;k=[];var m=[],n=[],q=0;m[q]=void 0;n[q]=[];for(var p=0,t=g.length;p<t;p++){h=g[p];var r=h.getPoints();var v=e(r);(v=a?!v:v)?(!l&&m[q]&&q++,m[q]={s:new f.Shape,p:r},m[q].s.actions=h.actions,m[q].s.curves=h.curves,l&&q++,n[q]=[]):n[q].push({h:h,p:r[0]})}if(!m[0])return c(g);if(1<m.length){p=!1;a=[];e=0;for(g=m.length;e<g;e++)k[e]=[];e=0;for(g=m.length;e<g;e++)for(h=n[e],v=0;v<h.length;v++){l=h[v];q=!0;for(r=0;r<m.length;r++)d(l.p,m[r].p)&&(e!==r&&a.push({froms:e,tos:r,hole:v}),q?(q=!1,k[r].push(l)):
p=!0);q&&k[e].push(l)}0<a.length&&(p||(n=k))}p=0;for(e=m.length;p<e;p++)for(k=m[p].s,b.push(k),a=n[p],g=0,h=a.length;g<h;g++)k.holes.push(a[g].h);return b}});f.Shape=function(){f.Path.apply(this,arguments);this.holes=[]};
f.Shape.prototype=Object.assign(Object.create(f.Path.prototype),{constructor:f.Shape,extrude:function(a){return new f.ExtrudeGeometry(this,a)},makeGeometry:function(a){return new f.ShapeGeometry(this,a)},getPointsHoles:function(a){for(var b=[],c=0,d=this.holes.length;c<d;c++)b[c]=this.holes[c].getPoints(a);return b},extractAllPoints:function(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}},extractPoints:function(a){return this.extractAllPoints(a)}});
f.LineCurve=function(a,b){this.v1=a;this.v2=b};f.LineCurve.prototype=Object.create(f.Curve.prototype);f.LineCurve.prototype.constructor=f.LineCurve;f.LineCurve.prototype.getPoint=function(a){var b=this.v2.clone().sub(this.v1);b.multiplyScalar(a).add(this.v1);return b};f.LineCurve.prototype.getPointAt=function(a){return this.getPoint(a)};f.LineCurve.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()};f.QuadraticBezierCurve=function(a,b,c){this.v0=a;this.v1=b;this.v2=c};
f.QuadraticBezierCurve.prototype=Object.create(f.Curve.prototype);f.QuadraticBezierCurve.prototype.constructor=f.QuadraticBezierCurve;f.QuadraticBezierCurve.prototype.getPoint=function(a){var b=f.ShapeUtils.b2;return new f.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y))};f.QuadraticBezierCurve.prototype.getTangent=function(a){var b=f.CurveUtils.tangentQuadraticBezier;return(new f.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y))).normalize()};
f.CubicBezierCurve=function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d};f.CubicBezierCurve.prototype=Object.create(f.Curve.prototype);f.CubicBezierCurve.prototype.constructor=f.CubicBezierCurve;f.CubicBezierCurve.prototype.getPoint=function(a){var b=f.ShapeUtils.b3;return new f.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y))};
f.CubicBezierCurve.prototype.getTangent=function(a){var b=f.CurveUtils.tangentCubicBezier;return(new f.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y))).normalize()};f.SplineCurve=function(a){this.points=void 0==a?[]:a};f.SplineCurve.prototype=Object.create(f.Curve.prototype);f.SplineCurve.prototype.constructor=f.SplineCurve;
f.SplineCurve.prototype.getPoint=function(a){var b=this.points;a*=b.length-1;var c=Math.floor(a);a-=c;var d=b[0===c?c:c-1],e=b[c],g=b[c>b.length-2?b.length-1:c+1];b=b[c>b.length-3?b.length-1:c+2];c=f.CurveUtils.interpolate;return new f.Vector2(c(d.x,e.x,g.x,b.x,a),c(d.y,e.y,g.y,b.y,a))};f.EllipseCurve=function(a,b,c,d,e,g,h,k){this.aX=a;this.aY=b;this.xRadius=c;this.yRadius=d;this.aStartAngle=e;this.aEndAngle=g;this.aClockwise=h;this.aRotation=k||0};f.EllipseCurve.prototype=Object.create(f.Curve.prototype);
f.EllipseCurve.prototype.constructor=f.EllipseCurve;
f.EllipseCurve.prototype.getPoint=function(a){var b=this.aEndAngle-this.aStartAngle;0>b&&(b+=2*Math.PI);b>2*Math.PI&&(b-=2*Math.PI);b=!0===this.aClockwise?this.aEndAngle+(1-a)*(2*Math.PI-b):this.aStartAngle+a*b;a=this.aX+this.xRadius*Math.cos(b);var c=this.aY+this.yRadius*Math.sin(b);if(0!==this.aRotation){b=Math.cos(this.aRotation);var d=Math.sin(this.aRotation),e=a;a=(e-this.aX)*b-(c-this.aY)*d+this.aX;c=(e-this.aX)*d+(c-this.aY)*b+this.aY}return new f.Vector2(a,c)};
f.ArcCurve=function(a,b,c,d,e,g){f.EllipseCurve.call(this,a,b,c,c,d,e,g)};f.ArcCurve.prototype=Object.create(f.EllipseCurve.prototype);f.ArcCurve.prototype.constructor=f.ArcCurve;f.LineCurve3=f.Curve.create(function(a,b){this.v1=a;this.v2=b},function(a){var b=new f.Vector3;b.subVectors(this.v2,this.v1);b.multiplyScalar(a);b.add(this.v1);return b});
f.QuadraticBezierCurve3=f.Curve.create(function(a,b,c){this.v0=a;this.v1=b;this.v2=c},function(a){var b=f.ShapeUtils.b2;return new f.Vector3(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y),b(a,this.v0.z,this.v1.z,this.v2.z))});
f.CubicBezierCurve3=f.Curve.create(function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d},function(a){var b=f.ShapeUtils.b3;return new f.Vector3(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y),b(a,this.v0.z,this.v1.z,this.v2.z,this.v3.z))});
f.SplineCurve3=f.Curve.create(function(a){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3");this.points=void 0==a?[]:a},function(a){var b=this.points;a*=b.length-1;var c=Math.floor(a);a-=c;var d=b[0==c?c:c-1],e=b[c],g=b[c>b.length-2?b.length-1:c+1];b=b[c>b.length-3?b.length-1:c+2];c=f.CurveUtils.interpolate;return new f.Vector3(c(d.x,e.x,g.x,b.x,a),c(d.y,e.y,g.y,b.y,a),c(d.z,e.z,g.z,b.z,a))});
f.CatmullRomCurve3=function(){function a(){}var b=new f.Vector3,c=new a,d=new a,e=new a;a.prototype.init=function(g,h,k,l){this.c0=g;this.c1=k;this.c2=-3*g+3*h-2*k-l;this.c3=2*g-2*h+k+l};a.prototype.initNonuniformCatmullRom=function(g,h,k,l,m,n,q){this.init(h,k,((h-g)/m-(k-g)/(m+n)+(k-h)/n)*n,((k-h)/n-(l-h)/(n+q)+(l-k)/q)*n)};a.prototype.initCatmullRom=function(g,h,k,l,m){this.init(h,k,m*(k-g),m*(l-h))};a.prototype.calc=function(g){var h=g*g;return this.c0+this.c1*g+this.c2*h+this.c3*h*g};return f.Curve.create(function(g){this.points=
g||[];this.closed=!1},function(g){var h=this.points;var k=h.length;2>k&&console.log("duh, you need at least 2 points");g*=k-(this.closed?0:1);var l=Math.floor(g);g-=l;this.closed?l+=0<l?0:(Math.floor(Math.abs(l)/h.length)+1)*h.length:0===g&&l===k-1&&(l=k-2,g=1);if(this.closed||0<l)var m=h[(l-1)%k];else b.subVectors(h[0],h[1]).add(h[0]),m=b;var n=h[l%k];var q=h[(l+1)%k];this.closed||l+2<k?h=h[(l+2)%k]:(b.subVectors(h[k-1],h[k-2]).add(h[k-1]),h=b);if(void 0===this.type||"centripetal"===this.type||"chordal"===
this.type){var p="chordal"===this.type?.5:.25;k=Math.pow(m.distanceToSquared(n),p);l=Math.pow(n.distanceToSquared(q),p);p=Math.pow(q.distanceToSquared(h),p);1E-4>l&&(l=1);1E-4>k&&(k=l);1E-4>p&&(p=l);c.initNonuniformCatmullRom(m.x,n.x,q.x,h.x,k,l,p);d.initNonuniformCatmullRom(m.y,n.y,q.y,h.y,k,l,p);e.initNonuniformCatmullRom(m.z,n.z,q.z,h.z,k,l,p)}else"catmullrom"===this.type&&(k=void 0!==this.tension?this.tension:.5,c.initCatmullRom(m.x,n.x,q.x,h.x,k),d.initCatmullRom(m.y,n.y,q.y,h.y,k),e.initCatmullRom(m.z,
n.z,q.z,h.z,k));return new f.Vector3(c.calc(g),d.calc(g),e.calc(g))})}();f.ClosedSplineCurve3=function(a){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3.");f.CatmullRomCurve3.call(this,a);this.type="catmullrom";this.closed=!0};f.ClosedSplineCurve3.prototype=Object.create(f.CatmullRomCurve3.prototype);
f.BoxGeometry=function(a,b,c,d,e,g){f.Geometry.call(this);this.type="BoxGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:g};this.fromBufferGeometry(new f.BoxBufferGeometry(a,b,c,d,e,g));this.mergeVertices()};f.BoxGeometry.prototype=Object.create(f.Geometry.prototype);f.BoxGeometry.prototype.constructor=f.BoxGeometry;f.CubeGeometry=f.BoxGeometry;
f.BoxBufferGeometry=function(a,b,c,d,e,g){function h(A,y,B,F,K,L,N,Q,W,H,O){var P=L/W,D=N/H,R=L/2,U=N/2,I=Q/2;N=W+1;for(var J=H+1,S=L=0,X=new f.Vector3,M=0;M<J;M++)for(var Y=M*D-U,ca=0;ca<N;ca++)X[A]=(ca*P-R)*F,X[y]=Y*K,X[B]=I,q[r]=X.x,q[r+1]=X.y,q[r+2]=X.z,X[A]=0,X[y]=0,X[B]=0<Q?1:-1,p[r]=X.x,p[r+1]=X.y,p[r+2]=X.z,t[v]=ca/W,t[v+1]=1-M/H,r+=3,v+=2,L+=1;for(M=0;M<H;M++)for(ca=0;ca<W;ca++)A=w+ca+N*(M+1),y=w+(ca+1)+N*(M+1),B=w+(ca+1)+N*M,n[u]=w+ca+N*M,n[u+1]=A,n[u+2]=B,n[u+3]=A,n[u+4]=y,n[u+5]=B,u+=
6,S+=6;k.addGroup(x,S,O);x+=S;w+=L}f.BufferGeometry.call(this);this.type="BoxBufferGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:g};var k=this;d=Math.floor(d)||1;e=Math.floor(e)||1;g=Math.floor(g)||1;var l=function(A,y,B){return A=(A+1)*(y+1)*2+(A+1)*(B+1)*2+(B+1)*(y+1)*2}(d,e,g),m=function(A,y,B){A=A*y*2+A*B*2+B*y*2;return 6*A}(d,e,g),n=new (65535<m?Uint32Array:Uint16Array)(m),q=new Float32Array(3*l),p=new Float32Array(3*l),t=new Float32Array(2*
l),r=0,v=0,u=0,w=0,x=0;h("z","y","x",-1,-1,c,b,a,g,e,0);h("z","y","x",1,-1,c,b,-a,g,e,1);h("x","z","y",1,1,a,c,b,d,g,2);h("x","z","y",1,-1,a,c,-b,d,g,3);h("x","y","z",1,-1,a,b,c,d,e,4);h("x","y","z",-1,-1,a,b,-c,d,e,5);this.setIndex(new f.BufferAttribute(n,1));this.addAttribute("position",new f.BufferAttribute(q,3));this.addAttribute("normal",new f.BufferAttribute(p,3));this.addAttribute("uv",new f.BufferAttribute(t,2))};f.BoxBufferGeometry.prototype=Object.create(f.BufferGeometry.prototype);
f.BoxBufferGeometry.prototype.constructor=f.BoxBufferGeometry;f.CircleGeometry=function(a,b,c,d){f.Geometry.call(this);this.type="CircleGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};this.fromBufferGeometry(new f.CircleBufferGeometry(a,b,c,d))};f.CircleGeometry.prototype=Object.create(f.Geometry.prototype);f.CircleGeometry.prototype.constructor=f.CircleGeometry;
f.CircleBufferGeometry=function(a,b,c,d){f.BufferGeometry.call(this);this.type="CircleBufferGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};a=a||50;b=void 0!==b?Math.max(3,b):8;c=void 0!==c?c:0;d=void 0!==d?d:2*Math.PI;var e=b+2,g=new Float32Array(3*e),h=new Float32Array(3*e);e=new Float32Array(2*e);h[2]=1;e[0]=.5;e[1]=.5;for(var k=0,l=3,m=2;k<=b;k++,l+=3,m+=2){var n=c+k/b*d;g[l]=a*Math.cos(n);g[l+1]=a*Math.sin(n);h[l+2]=1;e[m]=(g[l]/a+1)/2;e[m+1]=(g[l+1]/a+1)/2}c=[];for(l=
1;l<=b;l++)c.push(l,l+1,0);this.setIndex(new f.BufferAttribute(new Uint16Array(c),1));this.addAttribute("position",new f.BufferAttribute(g,3));this.addAttribute("normal",new f.BufferAttribute(h,3));this.addAttribute("uv",new f.BufferAttribute(e,2));this.boundingSphere=new f.Sphere(new f.Vector3,a)};f.CircleBufferGeometry.prototype=Object.create(f.BufferGeometry.prototype);f.CircleBufferGeometry.prototype.constructor=f.CircleBufferGeometry;
f.CylinderBufferGeometry=function(a,b,c,d,e,g,h,k){function l(F){var K,L=new f.Vector2,N=new f.Vector3,Q=0,W=!0===F?a:b,H=!0===F?1:-1;var O=w;for(K=1;K<=d;K++)r.setXYZ(w,0,y*H,0),v.setXYZ(w,0,H,0),L.x=.5,L.y=.5,u.setXY(w,L.x,L.y),w++;var P=w;for(K=0;K<=d;K++){var D=K/d*k+h,R=Math.cos(D);D=Math.sin(D);N.x=W*D;N.y=y*H;N.z=W*R;r.setXYZ(w,N.x,N.y,N.z);v.setXYZ(w,0,H,0);L.x=.5*R+.5;L.y=.5*D*H+.5;u.setXY(w,L.x,L.y);w++}for(K=0;K<d;K++)L=O+K,N=P+K,!0===F?(t.setX(x,N),x++,t.setX(x,N+1)):(t.setX(x,N+1),x++,
t.setX(x,N)),x++,t.setX(x,L),x++,Q+=3;m.addGroup(B,Q,!0===F?1:2);B+=Q}f.BufferGeometry.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:g,thetaStart:h,thetaLength:k};var m=this;a=void 0!==a?a:20;b=void 0!==b?b:20;c=void 0!==c?c:100;d=Math.floor(d)||8;e=Math.floor(e)||1;g=void 0!==g?g:!1;h=void 0!==h?h:0;k=void 0!==k?k:2*Math.PI;var n=0;!1===g&&(0<a&&n++,0<b&&n++);var q=function(){var F=(d+1)*(e+1);!1===g&&
(F+=(d+1)*n+d*n);return F}(),p=function(){var F=d*e*6;!1===g&&(F+=d*n*3);return F}(),t=new f.BufferAttribute(new (65535<p?Uint32Array:Uint16Array)(p),1),r=new f.BufferAttribute(new Float32Array(3*q),3),v=new f.BufferAttribute(new Float32Array(3*q),3),u=new f.BufferAttribute(new Float32Array(2*q),2),w=0,x=0,A=[],y=c/2,B=0;(function(){var F,K,L=new f.Vector3,N=new f.Vector3,Q=0,W=(b-a)/c;for(K=0;K<=e;K++){var H=[],O=K/e,P=O*(b-a)+a;for(F=0;F<=d;F++){var D=F/d;N.x=P*Math.sin(D*k+h);N.y=-O*c+y;N.z=P*
Math.cos(D*k+h);r.setXYZ(w,N.x,N.y,N.z);L.copy(N);if(0===a&&0===K||0===b&&K===e)L.x=Math.sin(D*k+h),L.z=Math.cos(D*k+h);L.setY(Math.sqrt(L.x*L.x+L.z*L.z)*W).normalize();v.setXYZ(w,L.x,L.y,L.z);u.setXY(w,D,1-O);H.push(w);w++}A.push(H)}for(F=0;F<d;F++)for(K=0;K<e;K++)L=A[K+1][F],N=A[K+1][F+1],W=A[K][F+1],t.setX(x,A[K][F]),x++,t.setX(x,L),x++,t.setX(x,W),x++,t.setX(x,L),x++,t.setX(x,N),x++,t.setX(x,W),x++,Q+=6;m.addGroup(B,Q,0);B+=Q})();!1===g&&(0<a&&l(!0),0<b&&l(!1));this.setIndex(t);this.addAttribute("position",
r);this.addAttribute("normal",v);this.addAttribute("uv",u)};f.CylinderBufferGeometry.prototype=Object.create(f.BufferGeometry.prototype);f.CylinderBufferGeometry.prototype.constructor=f.CylinderBufferGeometry;
f.CylinderGeometry=function(a,b,c,d,e,g,h,k){f.Geometry.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:g,thetaStart:h,thetaLength:k};this.fromBufferGeometry(new f.CylinderBufferGeometry(a,b,c,d,e,g,h,k));this.mergeVertices()};f.CylinderGeometry.prototype=Object.create(f.Geometry.prototype);f.CylinderGeometry.prototype.constructor=f.CylinderGeometry;
f.ConeBufferGeometry=function(a,b,c,d,e,g,h){f.CylinderBufferGeometry.call(this,0,a,b,c,d,e,g,h);this.type="ConeBufferGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,thetaStart:g,thetaLength:h}};f.ConeBufferGeometry.prototype=Object.create(f.BufferGeometry.prototype);f.ConeBufferGeometry.prototype.constructor=f.ConeBufferGeometry;
f.ConeGeometry=function(a,b,c,d,e,g,h){f.CylinderGeometry.call(this,0,a,b,c,d,e,g,h);this.type="ConeGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:g,thetaLength:h}};f.ConeGeometry.prototype=Object.create(f.CylinderGeometry.prototype);f.ConeGeometry.prototype.constructor=f.ConeGeometry;
f.EdgesGeometry=function(a,b){function c(p,t){return p-t}f.BufferGeometry.call(this);b=Math.cos(f.Math.DEG2RAD*(void 0!==b?b:1));var d=[0,0],e={},g=["a","b","c"];if(a instanceof f.BufferGeometry){var h=new f.Geometry;h.fromBufferGeometry(a)}else h=a.clone();h.mergeVertices();h.computeFaceNormals();a=h.vertices;h=h.faces;for(var k=0,l=h.length;k<l;k++)for(var m=h[k],n=0;3>n;n++){d[0]=m[g[n]];d[1]=m[g[(n+1)%3]];d.sort(c);var q=d.toString();void 0===e[q]?e[q]={vert1:d[0],vert2:d[1],face1:k,face2:void 0}:
e[q].face2=k}d=[];for(q in e)if(g=e[q],void 0===g.face2||h[g.face1].normal.dot(h[g.face2].normal)<=b)k=a[g.vert1],d.push(k.x),d.push(k.y),d.push(k.z),k=a[g.vert2],d.push(k.x),d.push(k.y),d.push(k.z);this.addAttribute("position",new f.BufferAttribute(new Float32Array(d),3))};f.EdgesGeometry.prototype=Object.create(f.BufferGeometry.prototype);f.EdgesGeometry.prototype.constructor=f.EdgesGeometry;
f.ExtrudeGeometry=function(a,b){"undefined"!==typeof a&&(f.Geometry.call(this),this.type="ExtrudeGeometry",a=Array.isArray(a)?a:[a],this.addShapeList(a,b),this.computeFaceNormals())};f.ExtrudeGeometry.prototype=Object.create(f.Geometry.prototype);f.ExtrudeGeometry.prototype.constructor=f.ExtrudeGeometry;f.ExtrudeGeometry.prototype.addShapeList=function(a,b){for(var c=a.length,d=0;d<c;d++)this.addShape(a[d],b)};
f.ExtrudeGeometry.prototype.addShape=function(a,b){function c(ca,ha,ia){ha||console.error("THREE.ExtrudeGeometry: vec does not exist");return ha.clone().multiplyScalar(ia).add(ca)}function d(ca,ha,ia){var ja=ca.x-ha.x;var ka=ca.y-ha.y;var pa=ia.x-ca.x;var la=ia.y-ca.y,xa=ja*ja+ka*ka;if(Math.abs(ja*la-ka*pa)>Number.EPSILON){var sa=Math.sqrt(xa),Ja=Math.sqrt(pa*pa+la*la);xa=ha.x-ka/sa;ha=ha.y+ja/sa;la=((ia.x-la/Ja-xa)*la-(ia.y+pa/Ja-ha)*pa)/(ja*la-ka*pa);pa=xa+ja*la-ca.x;ja=ha+ka*la-ca.y;ka=pa*pa+ja*
ja;if(2>=ka)return new f.Vector2(pa,ja);ka=Math.sqrt(ka/2)}else ca=!1,ja>Number.EPSILON?pa>Number.EPSILON&&(ca=!0):ja<-Number.EPSILON?pa<-Number.EPSILON&&(ca=!0):Math.sign(ka)===Math.sign(la)&&(ca=!0),ca?(pa=-ka,ka=Math.sqrt(xa)):(pa=ja,ja=ka,ka=Math.sqrt(xa/2));return new f.Vector2(pa/ka,ja/ka)}function e(ca,ha){for(I=ca.length;0<=--I;){var ia=I;var ja=I-1;0>ja&&(ja=ca.length-1);var ka,pa=t+2*n;for(ka=0;ka<pa;ka++){var la=D*ka,xa=D*(ka+1),sa=ha+ia+la;la=ha+ja+la;var Ja=ha+ja+xa;xa=ha+ia+xa;sa+=L;
la+=L;Ja+=L;xa+=L;K.faces.push(new f.Face3(sa,la,xa,null,null,1));K.faces.push(new f.Face3(la,Ja,xa,null,null,1));sa=u.generateSideWallUV(K,sa,la,Ja,xa);K.faceVertexUvs[0].push([sa[0],sa[1],sa[3]]);K.faceVertexUvs[0].push([sa[1],sa[2],sa[3]])}}}function g(ca,ha,ia){K.vertices.push(new f.Vector3(ca,ha,ia))}function h(ca,ha,ia){ca+=L;ha+=L;ia+=L;K.faces.push(new f.Face3(ca,ha,ia,null,null,0));K.faceVertexUvs[0].push(u.generateTopUV(K,ca,ha,ia))}var k=void 0!==b.amount?b.amount:100,l=void 0!==b.bevelThickness?
b.bevelThickness:6,m=void 0!==b.bevelSize?b.bevelSize:l-2,n=void 0!==b.bevelSegments?b.bevelSegments:3,q=void 0!==b.bevelEnabled?b.bevelEnabled:!0,p=void 0!==b.curveSegments?b.curveSegments:12,t=void 0!==b.steps?b.steps:1,r=b.extrudePath,v=!1,u=void 0!==b.UVGenerator?b.UVGenerator:f.ExtrudeGeometry.WorldUVGenerator;if(r){var w=r.getSpacedPoints(t);v=!0;q=!1;var x=void 0!==b.frames?b.frames:new f.TubeGeometry.FrenetFrames(r,t,!1);var A=new f.Vector3;var y=new f.Vector3;var B=new f.Vector3}q||(m=l=
n=0);var F,K=this,L=this.vertices.length;b=a.extractPoints(p);a=b.shape;var N=b.holes;if(b=!f.ShapeUtils.isClockWise(a)){a=a.reverse();var Q=0;for(F=N.length;Q<F;Q++){var W=N[Q];f.ShapeUtils.isClockWise(W)&&(N[Q]=W.reverse())}b=!1}var H=f.ShapeUtils.triangulateShape(a,N),O=a;Q=0;for(F=N.length;Q<F;Q++)W=N[Q],a=a.concat(W);var P,D=a.length,R,U=H.length;b=[];var I=0;var J=O.length;var S=J-1;for(P=I+1;I<J;I++,S++,P++)S===J&&(S=0),P===J&&(P=0),b[I]=d(O[I],O[S],O[P]);p=[];r=b.concat();Q=0;for(F=N.length;Q<
F;Q++){W=N[Q];var X=[];I=0;J=W.length;S=J-1;for(P=I+1;I<J;I++,S++,P++)S===J&&(S=0),P===J&&(P=0),X[I]=d(W[I],W[S],W[P]);p.push(X);r=r.concat(X)}for(S=0;S<n;S++){J=S/n;var M=l*(1-J);P=m*Math.sin(J*Math.PI/2);I=0;for(J=O.length;I<J;I++){var Y=c(O[I],b[I],P);g(Y.x,Y.y,-M)}Q=0;for(F=N.length;Q<F;Q++)for(W=N[Q],X=p[Q],I=0,J=W.length;I<J;I++)Y=c(W[I],X[I],P),g(Y.x,Y.y,-M)}P=m;for(I=0;I<D;I++)Y=q?c(a[I],r[I],P):a[I],v?(y.copy(x.normals[0]).multiplyScalar(Y.x),A.copy(x.binormals[0]).multiplyScalar(Y.y),B.copy(w[0]).add(y).add(A),
g(B.x,B.y,B.z)):g(Y.x,Y.y,0);for(J=1;J<=t;J++)for(I=0;I<D;I++)Y=q?c(a[I],r[I],P):a[I],v?(y.copy(x.normals[J]).multiplyScalar(Y.x),A.copy(x.binormals[J]).multiplyScalar(Y.y),B.copy(w[J]).add(y).add(A),g(B.x,B.y,B.z)):g(Y.x,Y.y,k/t*J);for(S=n-1;0<=S;S--){J=S/n;M=l*(1-J);P=m*Math.sin(J*Math.PI/2);I=0;for(J=O.length;I<J;I++)Y=c(O[I],b[I],P),g(Y.x,Y.y,k+M);Q=0;for(F=N.length;Q<F;Q++)for(W=N[Q],X=p[Q],I=0,J=W.length;I<J;I++)Y=c(W[I],X[I],P),v?g(Y.x,Y.y+w[t-1].y,w[t-1].x+M):g(Y.x,Y.y,k+M)}(function(){if(q){var ca=
0*D;for(I=0;I<U;I++)R=H[I],h(R[2]+ca,R[1]+ca,R[0]+ca);ca=D*(t+2*n);for(I=0;I<U;I++)R=H[I],h(R[0]+ca,R[1]+ca,R[2]+ca)}else{for(I=0;I<U;I++)R=H[I],h(R[2],R[1],R[0]);for(I=0;I<U;I++)R=H[I],h(R[0]+D*t,R[1]+D*t,R[2]+D*t)}})();(function(){var ca=0;e(O,ca);ca+=O.length;Q=0;for(F=N.length;Q<F;Q++)W=N[Q],e(W,ca),ca+=W.length})()};
f.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(a,b,c,d){a=a.vertices;b=a[b];c=a[c];d=a[d];return[new f.Vector2(b.x,b.y),new f.Vector2(c.x,c.y),new f.Vector2(d.x,d.y)]},generateSideWallUV:function(a,b,c,d,e){a=a.vertices;b=a[b];c=a[c];d=a[d];e=a[e];return.01>Math.abs(b.y-c.y)?[new f.Vector2(b.x,1-b.z),new f.Vector2(c.x,1-c.z),new f.Vector2(d.x,1-d.z),new f.Vector2(e.x,1-e.z)]:[new f.Vector2(b.y,1-b.z),new f.Vector2(c.y,1-c.z),new f.Vector2(d.y,1-d.z),new f.Vector2(e.y,1-e.z)]}};
f.ShapeGeometry=function(a,b){f.Geometry.call(this);this.type="ShapeGeometry";!1===Array.isArray(a)&&(a=[a]);this.addShapeList(a,b);this.computeFaceNormals()};f.ShapeGeometry.prototype=Object.create(f.Geometry.prototype);f.ShapeGeometry.prototype.constructor=f.ShapeGeometry;f.ShapeGeometry.prototype.addShapeList=function(a,b){for(var c=0,d=a.length;c<d;c++)this.addShape(a[c],b)};
f.ShapeGeometry.prototype.addShape=function(a,b){void 0===b&&(b={});var c=b.material,d=void 0===b.UVGenerator?f.ExtrudeGeometry.WorldUVGenerator:b.UVGenerator,e,g=this.vertices.length;a=a.extractPoints(void 0!==b.curveSegments?b.curveSegments:12);var h=a.shape,k=a.holes;if(!f.ShapeUtils.isClockWise(h))for(h=h.reverse(),a=0,e=k.length;a<e;a++){var l=k[a];f.ShapeUtils.isClockWise(l)&&(k[a]=l.reverse())}b=f.ShapeUtils.triangulateShape(h,k);a=0;for(e=k.length;a<e;a++)l=k[a],h=h.concat(l);k=h.length;e=
b.length;for(a=0;a<k;a++)l=h[a],this.vertices.push(new f.Vector3(l.x,l.y,0));for(a=0;a<e;a++)k=b[a],h=k[0]+g,l=k[1]+g,k=k[2]+g,this.faces.push(new f.Face3(h,l,k,null,null,c)),this.faceVertexUvs[0].push(d.generateTopUV(this,h,l,k))};
f.LatheBufferGeometry=function(a,b,c,d){f.BufferGeometry.call(this);this.type="LatheBufferGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};b=Math.floor(b)||12;c=c||0;d=d||2*Math.PI;d=f.Math.clamp(d,0,2*Math.PI);var e=(b+1)*a.length,g=b*a.length*6,h=new f.BufferAttribute(new (65535<g?Uint32Array:Uint16Array)(g),1),k=new f.BufferAttribute(new Float32Array(3*e),3),l=new f.BufferAttribute(new Float32Array(2*e),2),m=0,n=0,q=1/b,p=new f.Vector3,t=new f.Vector2;for(e=0;e<=b;e++){g=
c+e*q*d;var r=Math.sin(g),v=Math.cos(g);for(g=0;g<=a.length-1;g++)p.x=a[g].x*r,p.y=a[g].y,p.z=a[g].x*v,k.setXYZ(m,p.x,p.y,p.z),t.x=e/b,t.y=g/(a.length-1),l.setXY(m,t.x,t.y),m++}for(e=0;e<b;e++)for(g=0;g<a.length-1;g++)c=g+e*a.length,m=c+a.length,q=c+a.length+1,p=c+1,h.setX(n,c),n++,h.setX(n,m),n++,h.setX(n,p),n++,h.setX(n,m),n++,h.setX(n,q),n++,h.setX(n,p),n++;this.setIndex(h);this.addAttribute("position",k);this.addAttribute("uv",l);this.computeVertexNormals();if(d===2*Math.PI)for(d=this.attributes.normal.array,
h=new f.Vector3,k=new f.Vector3,l=new f.Vector3,c=b*a.length*3,g=e=0;e<a.length;e++,g+=3)h.x=d[g+0],h.y=d[g+1],h.z=d[g+2],k.x=d[c+g+0],k.y=d[c+g+1],k.z=d[c+g+2],l.addVectors(h,k).normalize(),d[g+0]=d[c+g+0]=l.x,d[g+1]=d[c+g+1]=l.y,d[g+2]=d[c+g+2]=l.z};f.LatheBufferGeometry.prototype=Object.create(f.BufferGeometry.prototype);f.LatheBufferGeometry.prototype.constructor=f.LatheBufferGeometry;
f.LatheGeometry=function(a,b,c,d){f.Geometry.call(this);this.type="LatheGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};this.fromBufferGeometry(new f.LatheBufferGeometry(a,b,c,d));this.mergeVertices()};f.LatheGeometry.prototype=Object.create(f.Geometry.prototype);f.LatheGeometry.prototype.constructor=f.LatheGeometry;
f.PlaneGeometry=function(a,b,c,d){f.Geometry.call(this);this.type="PlaneGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};this.fromBufferGeometry(new f.PlaneBufferGeometry(a,b,c,d))};f.PlaneGeometry.prototype=Object.create(f.Geometry.prototype);f.PlaneGeometry.prototype.constructor=f.PlaneGeometry;
f.PlaneBufferGeometry=function(a,b,c,d){f.BufferGeometry.call(this);this.type="PlaneBufferGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};var e=a/2,g=b/2;c=Math.floor(c)||1;d=Math.floor(d)||1;var h=c+1,k=d+1,l=a/c,m=b/d;b=new Float32Array(h*k*3);a=new Float32Array(h*k*3);for(var n=new Float32Array(h*k*2),q=0,p=0,t=0;t<k;t++)for(var r=t*m-g,v=0;v<h;v++)b[q]=v*l-e,b[q+1]=-r,a[q+2]=1,n[p]=v/c,n[p+1]=1-t/d,q+=3,p+=2;q=0;e=new (65535<b.length/3?Uint32Array:Uint16Array)(c*
d*6);for(t=0;t<d;t++)for(v=0;v<c;v++)g=v+h*(t+1),k=v+1+h*(t+1),l=v+1+h*t,e[q]=v+h*t,e[q+1]=g,e[q+2]=l,e[q+3]=g,e[q+4]=k,e[q+5]=l,q+=6;this.setIndex(new f.BufferAttribute(e,1));this.addAttribute("position",new f.BufferAttribute(b,3));this.addAttribute("normal",new f.BufferAttribute(a,3));this.addAttribute("uv",new f.BufferAttribute(n,2))};f.PlaneBufferGeometry.prototype=Object.create(f.BufferGeometry.prototype);f.PlaneBufferGeometry.prototype.constructor=f.PlaneBufferGeometry;
f.RingBufferGeometry=function(a,b,c,d,e,g){f.BufferGeometry.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:g};a=a||20;b=b||50;e=void 0!==e?e:0;g=void 0!==g?g:2*Math.PI;c=void 0!==c?Math.max(3,c):8;d=void 0!==d?Math.max(1,d):1;var h=(c+1)*(d+1),k=c*d*6;k=new f.BufferAttribute(new (65535<k?Uint32Array:Uint16Array)(k),1);var l=new f.BufferAttribute(new Float32Array(3*h),3),m=new f.BufferAttribute(new Float32Array(3*
h),3);h=new f.BufferAttribute(new Float32Array(2*h),2);var n=0,q=0,p=a,t=(b-a)/d,r=new f.Vector3,v=new f.Vector2,u;for(a=0;a<=d;a++){for(u=0;u<=c;u++){var w=e+u/c*g;r.x=p*Math.cos(w);r.y=p*Math.sin(w);l.setXYZ(n,r.x,r.y,r.z);m.setXYZ(n,0,0,1);v.x=(r.x/b+1)/2;v.y=(r.y/b+1)/2;h.setXY(n,v.x,v.y);n++}p+=t}for(a=0;a<d;a++)for(b=a*(c+1),u=0;u<c;u++)e=w=u+b,g=w+c+1,n=w+c+2,w+=1,k.setX(q,e),q++,k.setX(q,g),q++,k.setX(q,n),q++,k.setX(q,e),q++,k.setX(q,n),q++,k.setX(q,w),q++;this.setIndex(k);this.addAttribute("position",
l);this.addAttribute("normal",m);this.addAttribute("uv",h)};f.RingBufferGeometry.prototype=Object.create(f.BufferGeometry.prototype);f.RingBufferGeometry.prototype.constructor=f.RingBufferGeometry;f.RingGeometry=function(a,b,c,d,e,g){f.Geometry.call(this);this.type="RingGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:g};this.fromBufferGeometry(new f.RingBufferGeometry(a,b,c,d,e,g))};f.RingGeometry.prototype=Object.create(f.Geometry.prototype);
f.RingGeometry.prototype.constructor=f.RingGeometry;f.SphereGeometry=function(a,b,c,d,e,g,h){f.Geometry.call(this);this.type="SphereGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:g,thetaLength:h};this.fromBufferGeometry(new f.SphereBufferGeometry(a,b,c,d,e,g,h))};f.SphereGeometry.prototype=Object.create(f.Geometry.prototype);f.SphereGeometry.prototype.constructor=f.SphereGeometry;
f.SphereBufferGeometry=function(a,b,c,d,e,g,h){f.BufferGeometry.call(this);this.type="SphereBufferGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:g,thetaLength:h};a=a||50;b=Math.max(3,Math.floor(b)||8);c=Math.max(2,Math.floor(c)||6);d=void 0!==d?d:0;e=void 0!==e?e:2*Math.PI;g=void 0!==g?g:0;h=void 0!==h?h:Math.PI;var k=g+h,l=(b+1)*(c+1),m=new f.BufferAttribute(new Float32Array(3*l),3),n=new f.BufferAttribute(new Float32Array(3*l),3);l=new f.BufferAttribute(new Float32Array(2*
l),2);for(var q=0,p=[],t=new f.Vector3,r=0;r<=c;r++){for(var v=[],u=r/c,w=0;w<=b;w++){var x=w/b,A=-a*Math.cos(d+x*e)*Math.sin(g+u*h),y=a*Math.cos(g+u*h),B=a*Math.sin(d+x*e)*Math.sin(g+u*h);t.set(A,y,B).normalize();m.setXYZ(q,A,y,B);n.setXYZ(q,t.x,t.y,t.z);l.setXY(q,x,1-u);v.push(q);q++}p.push(v)}d=[];for(r=0;r<c;r++)for(w=0;w<b;w++)e=p[r][w+1],h=p[r][w],q=p[r+1][w],t=p[r+1][w+1],(0!==r||0<g)&&d.push(e,h,t),(r!==c-1||k<Math.PI)&&d.push(h,q,t);this.setIndex(new (65535<m.count?f.Uint32Attribute:f.Uint16Attribute)(d,
1));this.addAttribute("position",m);this.addAttribute("normal",n);this.addAttribute("uv",l);this.boundingSphere=new f.Sphere(new f.Vector3,a)};f.SphereBufferGeometry.prototype=Object.create(f.BufferGeometry.prototype);f.SphereBufferGeometry.prototype.constructor=f.SphereBufferGeometry;
f.TextGeometry=function(a,b){b=b||{};var c=b.font;if(!1===c instanceof f.Font)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new f.Geometry;a=c.generateShapes(a,b.size,b.curveSegments);b.amount=void 0!==b.height?b.height:50;void 0===b.bevelThickness&&(b.bevelThickness=10);void 0===b.bevelSize&&(b.bevelSize=8);void 0===b.bevelEnabled&&(b.bevelEnabled=!1);f.ExtrudeGeometry.call(this,a,b);this.type="TextGeometry"};f.TextGeometry.prototype=Object.create(f.ExtrudeGeometry.prototype);
f.TextGeometry.prototype.constructor=f.TextGeometry;
f.TorusBufferGeometry=function(a,b,c,d,e){f.BufferGeometry.call(this);this.type="TorusBufferGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};a=a||100;b=b||40;c=Math.floor(c)||8;d=Math.floor(d)||6;e=e||2*Math.PI;var g=(c+1)*(d+1),h=c*d*6;h=new (65535<h?Uint32Array:Uint16Array)(h);var k=new Float32Array(3*g),l=new Float32Array(3*g);g=new Float32Array(2*g);var m=0,n=0,q=0,p=new f.Vector3,t=new f.Vector3,r=new f.Vector3,v,u;for(v=0;v<=c;v++)for(u=0;u<=d;u++){var w=
u/d*e,x=v/c*Math.PI*2;t.x=(a+b*Math.cos(x))*Math.cos(w);t.y=(a+b*Math.cos(x))*Math.sin(w);t.z=b*Math.sin(x);k[m]=t.x;k[m+1]=t.y;k[m+2]=t.z;p.x=a*Math.cos(w);p.y=a*Math.sin(w);r.subVectors(t,p).normalize();l[m]=r.x;l[m+1]=r.y;l[m+2]=r.z;g[n]=u/d;g[n+1]=v/c;m+=3;n+=2}for(v=1;v<=c;v++)for(u=1;u<=d;u++)a=(d+1)*(v-1)+u-1,b=(d+1)*(v-1)+u,e=(d+1)*v+u,h[q]=(d+1)*v+u-1,h[q+1]=a,h[q+2]=e,h[q+3]=a,h[q+4]=b,h[q+5]=e,q+=6;this.setIndex(new f.BufferAttribute(h,1));this.addAttribute("position",new f.BufferAttribute(k,
3));this.addAttribute("normal",new f.BufferAttribute(l,3));this.addAttribute("uv",new f.BufferAttribute(g,2))};f.TorusBufferGeometry.prototype=Object.create(f.BufferGeometry.prototype);f.TorusBufferGeometry.prototype.constructor=f.TorusBufferGeometry;f.TorusGeometry=function(a,b,c,d,e){f.Geometry.call(this);this.type="TorusGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};this.fromBufferGeometry(new f.TorusBufferGeometry(a,b,c,d,e))};f.TorusGeometry.prototype=Object.create(f.Geometry.prototype);
f.TorusGeometry.prototype.constructor=f.TorusGeometry;
f.TorusKnotBufferGeometry=function(a,b,c,d,e,g){function h(N,Q,W,H,O){var P=Math.sin(N);Q=W/Q*N;W=Math.cos(Q);O.x=H*(2+W)*.5*Math.cos(N);O.y=H*(2+W)*P*.5;O.z=H*Math.sin(Q)*.5}f.BufferGeometry.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:g};a=a||100;b=b||40;c=Math.floor(c)||64;d=Math.floor(d)||8;e=e||2;g=g||3;var k=(d+1)*(c+1),l=d*c*6;l=new f.BufferAttribute(new (65535<l?Uint32Array:Uint16Array)(l),1);var m=new f.BufferAttribute(new Float32Array(3*
k),3),n=new f.BufferAttribute(new Float32Array(3*k),3);k=new f.BufferAttribute(new Float32Array(2*k),2);var q,p=0,t=0,r=new f.Vector3,v=new f.Vector3,u=new f.Vector2,w=new f.Vector3,x=new f.Vector3,A=new f.Vector3,y=new f.Vector3,B=new f.Vector3;for(q=0;q<=c;++q){var F=q/c*e*Math.PI*2;h(F,e,g,a,w);h(F+.01,e,g,a,x);y.subVectors(x,w);B.addVectors(x,w);lb(A,y,B);lb(B,A,y);A.normalize();B.normalize();for(F=0;F<=d;++F){var K=F/d*Math.PI*2,L=-b*Math.cos(K);K=b*Math.sin(K);r.x=w.x+(L*B.x+K*A.x);r.y=w.y+
(L*B.y+K*A.y);r.z=w.z+(L*B.z+K*A.z);m.setXYZ(p,r.x,r.y,r.z);v.subVectors(r,w).normalize();n.setXYZ(p,v.x,v.y,v.z);u.x=q/c;u.y=F/d;k.setXY(p,u.x,u.y);p++}}for(F=1;F<=c;F++)for(q=1;q<=d;q++)a=(d+1)*F+(q-1),b=(d+1)*F+q,e=(d+1)*(F-1)+q,l.setX(t,(d+1)*(F-1)+(q-1)),t++,l.setX(t,a),t++,l.setX(t,e),t++,l.setX(t,a),t++,l.setX(t,b),t++,l.setX(t,e),t++;this.setIndex(l);this.addAttribute("position",m);this.addAttribute("normal",n);this.addAttribute("uv",k)};f.TorusKnotBufferGeometry.prototype=Object.create(f.BufferGeometry.prototype);
f.TorusKnotBufferGeometry.prototype.constructor=f.TorusKnotBufferGeometry;f.TorusKnotGeometry=function(a,b,c,d,e,g,h){f.Geometry.call(this);this.type="TorusKnotGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:g};void 0!==h&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new f.TorusKnotBufferGeometry(a,b,c,d,e,g));this.mergeVertices()};f.TorusKnotGeometry.prototype=Object.create(f.Geometry.prototype);
f.TorusKnotGeometry.prototype.constructor=f.TorusKnotGeometry;
f.TubeGeometry=function(a,b,c,d,e,g){f.Geometry.call(this);this.type="TubeGeometry";this.parameters={path:a,segments:b,radius:c,radialSegments:d,closed:e,taper:g};b=b||64;c=c||1;d=d||8;e=e||!1;g=g||f.TubeGeometry.NoTaper;var h=[],k=b+1,l=new f.Vector3;var m=new f.TubeGeometry.FrenetFrames(a,b,e);var n=m.normals;var q=m.binormals;this.tangents=m.tangents;this.normals=n;this.binormals=q;for(m=0;m<k;m++){h[m]=[];var p=m/(k-1);var t=a.getPointAt(p);var r=n[m];var v=q[m];var u=c*g(p);for(p=0;p<d;p++){var w=
p/d*2*Math.PI;var x=-u*Math.cos(w);w=u*Math.sin(w);l.copy(t);l.x+=x*r.x+w*v.x;l.y+=x*r.y+w*v.y;l.z+=x*r.z+w*v.z;h[m][p]=this.vertices.push(new f.Vector3(l.x,l.y,l.z))-1}}for(m=0;m<b;m++)for(p=0;p<d;p++)g=e?(m+1)%b:m+1,k=(p+1)%d,a=h[m][p],c=h[g][p],g=h[g][k],k=h[m][k],l=new f.Vector2(m/b,p/d),n=new f.Vector2((m+1)/b,p/d),q=new f.Vector2((m+1)/b,(p+1)/d),r=new f.Vector2(m/b,(p+1)/d),this.faces.push(new f.Face3(a,c,k)),this.faceVertexUvs[0].push([l,n,r]),this.faces.push(new f.Face3(c,g,k)),this.faceVertexUvs[0].push([n.clone(),
q,r.clone()]);this.computeFaceNormals();this.computeVertexNormals()};f.TubeGeometry.prototype=Object.create(f.Geometry.prototype);f.TubeGeometry.prototype.constructor=f.TubeGeometry;f.TubeGeometry.NoTaper=function(){return 1};f.TubeGeometry.SinusoidalTaper=function(a){return Math.sin(Math.PI*a)};
f.TubeGeometry.FrenetFrames=function(a,b,c){var d=new f.Vector3,e=[],g=[],h=[],k=new f.Vector3,l=new f.Matrix4;b+=1;var m;this.tangents=e;this.normals=g;this.binormals=h;for(m=0;m<b;m++){var n=m/(b-1);var q=m;var p=a;n=sc(p,n);p=p.getTangent(n);e[q]=p;e[m].normalize()}g[0]=new f.Vector3;h[0]=new f.Vector3;a=Number.MAX_VALUE;m=Math.abs(e[0].x);q=Math.abs(e[0].y);p=Math.abs(e[0].z);m<=a&&(a=m,d.set(1,0,0));q<=a&&(a=q,d.set(0,1,0));p<=a&&d.set(0,0,1);lb(k,e[0],d).normalize();lb(g[0],e[0],k);lb(h[0],
e[0],g[0]);for(m=1;m<b;m++)g[m]=g[m-1].clone(),h[m]=h[m-1].clone(),lb(k,e[m-1],e[m]),k.length()>Number.EPSILON&&(k.normalize(),d=Math.acos(f.Math.clamp(e[m-1].dot(e[m]),-1,1)),g[m].applyMatrix4(Kb(l,k,d))),lb(h[m],e[m],g[m]);if(c)for(d=Math.acos(f.Math.clamp(g[0].dot(g[b-1]),-1,1)),d/=b-1,0<e[0].dot(lb(k,g[0],g[b-1]))&&(d=-d),m=1;m<b;m++)g[m].applyMatrix4(Kb(l,e[m],d*m)),lb(h[m],e[m],g[m])};
f.PolyhedronGeometry=function(a,b,c,d){function e(w){var x=w.normalize().clone();x.index=l.vertices.push(x)-1;x.uv=new f.Vector2(Math.atan2(w.z,-w.x)/2/Math.PI+.5,1-(Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))/Math.PI+.5));return x}function g(w,x,A,y){y=new f.Face3(w.index,x.index,A.index,[w.clone(),x.clone(),A.clone()],void 0,y);l.faces.push(y);u.copy(w).add(x).add(A).divideScalar(3);y=Math.atan2(u.z,-u.x);l.faceVertexUvs[0].push([k(w.uv,w,y),k(x.uv,x,y),k(A.uv,A,y)])}function h(w,x){x=Math.pow(2,
x);var A=e(l.vertices[w.a]),y=e(l.vertices[w.b]),B=e(l.vertices[w.c]),F=[];w=w.materialIndex;for(var K=0;K<=x;K++){F[K]=[];for(var L=e(A.clone().lerp(B,K/x)),N=e(y.clone().lerp(B,K/x)),Q=x-K,W=0;W<=Q;W++)F[K][W]=0===W&&K===x?L:e(L.clone().lerp(N,W/Q))}for(K=0;K<x;K++)for(W=0;W<2*(x-K)-1;W++)A=Math.floor(W/2),0===W%2?g(F[K][A+1],F[K+1][A],F[K][A],w):g(F[K][A+1],F[K+1][A+1],F[K+1][A],w)}function k(w,x,A){0>A&&1===w.x&&(w=new f.Vector2(w.x-1,w.y));0===x.x&&0===x.z&&(w=new f.Vector2(A/2/Math.PI+.5,w.y));
return w.clone()}f.Geometry.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};c=c||1;d=d||0;for(var l=this,m=0,n=a.length;m<n;m+=3)e(new f.Vector3(a[m],a[m+1],a[m+2]));a=this.vertices;var q=[],p=m=0;for(n=b.length;m<n;m+=3,p++){var t=a[b[m]],r=a[b[m+1]],v=a[b[m+2]];q[p]=new f.Face3(t.index,r.index,v.index,[t.clone(),r.clone(),v.clone()],void 0,p)}var u=new f.Vector3;m=0;for(n=q.length;m<n;m++)h(q[m],d);m=0;for(n=this.faceVertexUvs[0].length;m<n;m++)b=
this.faceVertexUvs[0][m],d=b[0].x,a=b[1].x,q=b[2].x,p=Math.min(d,a,q),.9<Math.max(d,a,q)&&.1>p&&(.2>d&&(b[0].x+=1),.2>a&&(b[1].x+=1),.2>q&&(b[2].x+=1));m=0;for(n=this.vertices.length;m<n;m++)this.vertices[m].multiplyScalar(c);this.mergeVertices();this.computeFaceNormals();this.boundingSphere=new f.Sphere(new f.Vector3,c)};f.PolyhedronGeometry.prototype=Object.create(f.Geometry.prototype);f.PolyhedronGeometry.prototype.constructor=f.PolyhedronGeometry;
f.DodecahedronGeometry=function(a,b){var c=(1+Math.sqrt(5))/2,d=1/c;f.PolyhedronGeometry.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,
14,5,1,5,9],a,b);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:b}};f.DodecahedronGeometry.prototype=Object.create(f.PolyhedronGeometry.prototype);f.DodecahedronGeometry.prototype.constructor=f.DodecahedronGeometry;
f.IcosahedronGeometry=function(a,b){var c=(1+Math.sqrt(5))/2;f.PolyhedronGeometry.call(this,[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b}};f.IcosahedronGeometry.prototype=Object.create(f.PolyhedronGeometry.prototype);
f.IcosahedronGeometry.prototype.constructor=f.IcosahedronGeometry;f.OctahedronGeometry=function(a,b){f.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronGeometry";this.parameters={radius:a,detail:b}};f.OctahedronGeometry.prototype=Object.create(f.PolyhedronGeometry.prototype);f.OctahedronGeometry.prototype.constructor=f.OctahedronGeometry;
f.TetrahedronGeometry=function(a,b){f.PolyhedronGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:b}};f.TetrahedronGeometry.prototype=Object.create(f.PolyhedronGeometry.prototype);f.TetrahedronGeometry.prototype.constructor=f.TetrahedronGeometry;
f.ParametricGeometry=function(a,b,c){f.Geometry.call(this);this.type="ParametricGeometry";this.parameters={func:a,slices:b,stacks:c};var d=this.vertices,e=this.faces,g=this.faceVertexUvs[0],h,k,l=b+1;for(h=0;h<=c;h++){var m=h/c;for(k=0;k<=b;k++){var n=k/b;n=a(n,m);d.push(n)}}for(h=0;h<c;h++)for(k=0;k<b;k++){a=h*l+k;d=h*l+k+1;m=(h+1)*l+k+1;n=(h+1)*l+k;var q=new f.Vector2(k/b,h/c);var p=new f.Vector2((k+1)/b,h/c);var t=new f.Vector2((k+1)/b,(h+1)/c);var r=new f.Vector2(k/b,(h+1)/c);e.push(new f.Face3(a,
d,n));g.push([q,p,r]);e.push(new f.Face3(d,m,n));g.push([p.clone(),t,r.clone()])}this.computeFaceNormals();this.computeVertexNormals()};f.ParametricGeometry.prototype=Object.create(f.Geometry.prototype);f.ParametricGeometry.prototype.constructor=f.ParametricGeometry;
f.WireframeGeometry=function(a){function b(r,v){return r-v}f.BufferGeometry.call(this);var c=[0,0],d={},e=["a","b","c"];if(a instanceof f.Geometry){var g=a.vertices,h=a.faces,k=0;a=new Uint32Array(6*h.length);for(var l=0,m=h.length;l<m;l++)for(var n=h[l],q=0;3>q;q++){c[0]=n[e[q]];c[1]=n[e[(q+1)%3]];c.sort(b);var p=c.toString();void 0===d[p]&&(a[2*k]=c[0],a[2*k+1]=c[1],d[p]=!0,k++)}c=new Float32Array(6*k);l=0;for(m=k;l<m;l++)for(q=0;2>q;q++)d=g[a[2*l+q]],k=6*l+3*q,c[k+0]=d.x,c[k+1]=d.y,c[k+2]=d.z;
this.addAttribute("position",new f.BufferAttribute(c,3))}else if(a instanceof f.BufferGeometry){if(null!==a.index){m=a.index.array;g=a.attributes.position;e=a.groups;k=0;0===e.length&&a.addGroup(0,m.length);a=new Uint32Array(2*m.length);h=0;for(n=e.length;h<n;++h){l=e[h];q=l.start;p=l.count;l=q;for(var t=q+p;l<t;l+=3)for(q=0;3>q;q++)c[0]=m[l+q],c[1]=m[l+(q+1)%3],c.sort(b),p=c.toString(),void 0===d[p]&&(a[2*k]=c[0],a[2*k+1]=c[1],d[p]=!0,k++)}c=new Float32Array(6*k);l=0;for(m=k;l<m;l++)for(q=0;2>q;q++)k=
6*l+3*q,d=a[2*l+q],c[k+0]=g.getX(d),c[k+1]=g.getY(d),c[k+2]=g.getZ(d)}else for(g=a.attributes.position.array,k=g.length/3,c=new Float32Array(6*k),l=0,m=k/3;l<m;l++)for(q=0;3>q;q++)k=18*l+6*q,a=9*l+3*q,c[k+0]=g[a],c[k+1]=g[a+1],c[k+2]=g[a+2],d=9*l+(q+1)%3*3,c[k+3]=g[d],c[k+4]=g[d+1],c[k+5]=g[d+2];this.addAttribute("position",new f.BufferAttribute(c,3))}};f.WireframeGeometry.prototype=Object.create(f.BufferGeometry.prototype);f.WireframeGeometry.prototype.constructor=f.WireframeGeometry;
f.AxisHelper=function(a){a=a||1;var b=new Float32Array([0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a]),c=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]);a=new f.BufferGeometry;a.addAttribute("position",new f.BufferAttribute(b,3));a.addAttribute("color",new f.BufferAttribute(c,3));b=new f.LineBasicMaterial({vertexColors:f.VertexColors});f.LineSegments.call(this,a,b)};f.AxisHelper.prototype=Object.create(f.LineSegments.prototype);f.AxisHelper.prototype.constructor=f.AxisHelper;
f.ArrowHelper=function(){var a=new f.BufferGeometry;a.addAttribute("position",new f.Float32Attribute([0,0,0,0,1,0],3));var b=new f.CylinderBufferGeometry(0,.5,1,5,1);b.translate(0,-.5,0);return function(c,d,e,g,h,k){f.Object3D.call(this);void 0===g&&(g=16776960);void 0===e&&(e=1);void 0===h&&(h=.2*e);void 0===k&&(k=.2*h);this.position.copy(d);this.line=new f.Line(a,new f.LineBasicMaterial({color:g}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new f.Mesh(b,new f.MeshBasicMaterial({color:g}));
this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(c);this.setLength(e,h,k)}}();f.ArrowHelper.prototype=Object.create(f.Object3D.prototype);f.ArrowHelper.prototype.constructor=f.ArrowHelper;f.ArrowHelper.prototype.setDirection=function(){var a=new f.Vector3,b;return function(c){.99999<c.y?this.quaternion.set(0,0,0,1):-.99999>c.y?this.quaternion.set(1,0,0,0):(a.set(c.z,0,-c.x).normalize(),b=Math.acos(c.y),jb(this.quaternion,a,b))}}();
f.ArrowHelper.prototype.setLength=function(a,b,c){void 0===b&&(b=.2*a);void 0===c&&(c=.2*b);this.line.scale.set(1,Math.max(0,a-b),1);this.line.updateMatrix();this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()};f.ArrowHelper.prototype.setColor=function(a){this.line.material.color.copy(a);this.cone.material.color.copy(a)};
f.BoxHelper=function(a){var b=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),c=new Float32Array(24),d=new f.BufferGeometry;d.setIndex(new f.BufferAttribute(b,1));d.addAttribute("position",new f.BufferAttribute(c,3));f.LineSegments.call(this,d,new f.LineBasicMaterial({color:16776960}));void 0!==a&&this.update(a)};f.BoxHelper.prototype=Object.create(f.LineSegments.prototype);f.BoxHelper.prototype.constructor=f.BoxHelper;
f.BoxHelper.prototype.update=function(){var a=new f.Box3;return function(b){b instanceof f.Box3?a.copy(b):a.setFromObject(b);if(!a.isEmpty()){b=a.min;var c=a.max,d=this.geometry.attributes.position,e=d.array;e[0]=c.x;e[1]=c.y;e[2]=c.z;e[3]=b.x;e[4]=c.y;e[5]=c.z;e[6]=b.x;e[7]=b.y;e[8]=c.z;e[9]=c.x;e[10]=b.y;e[11]=c.z;e[12]=c.x;e[13]=c.y;e[14]=b.z;e[15]=b.x;e[16]=c.y;e[17]=b.z;e[18]=b.x;e[19]=b.y;e[20]=b.z;e[21]=c.x;e[22]=b.y;e[23]=b.z;d.needsUpdate=!0;this.geometry.computeBoundingSphere()}}}();
f.BoundingBoxHelper=function(a,b){b=void 0!==b?b:8947848;this.object=a;this.box=new f.Box3;f.Mesh.call(this,new f.BoxGeometry(1,1,1),new f.MeshBasicMaterial({color:b,wireframe:!0}))};f.BoundingBoxHelper.prototype=Object.create(f.Mesh.prototype);f.BoundingBoxHelper.prototype.constructor=f.BoundingBoxHelper;f.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object);this.box.size(this.scale);this.box.center(this.position)};
f.CameraHelper=function(a){function b(h,k,l){c(h,l);c(k,l)}function c(h,k){d.vertices.push(new f.Vector3);d.colors.push(new f.Color(k));void 0===g[h]&&(g[h]=[]);g[h].push(d.vertices.length-1)}var d=new f.Geometry,e=new f.LineBasicMaterial({color:16777215,vertexColors:f.FaceColors}),g={};b("n1","n2",16755200);b("n2","n4",16755200);b("n4","n3",16755200);b("n3","n1",16755200);b("f1","f2",16755200);b("f2","f4",16755200);b("f4","f3",16755200);b("f3","f1",16755200);b("n1","f1",16755200);b("n2","f2",16755200);
b("n3","f3",16755200);b("n4","f4",16755200);b("p","n1",16711680);b("p","n2",16711680);b("p","n3",16711680);b("p","n4",16711680);b("u1","u2",43775);b("u2","u3",43775);b("u3","u1",43775);b("c","t",16777215);b("p","c",3355443);b("cn1","cn2",3355443);b("cn3","cn4",3355443);b("cf1","cf2",3355443);b("cf3","cf4",3355443);f.LineSegments.call(this,d,e);this.camera=a;this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=g;this.update()};
f.CameraHelper.prototype=Object.create(f.LineSegments.prototype);f.CameraHelper.prototype.constructor=f.CameraHelper;
f.CameraHelper.prototype.update=function(){function a(g,h,k,l){d.set(h,k,l).unproject(e);g=c[g];if(void 0!==g)for(h=0,k=g.length;h<k;h++)b.vertices[g[h]].copy(d)}var b,c,d=new f.Vector3,e=new f.Camera;return function(){b=this.geometry;c=this.pointMap;e.projectionMatrix.copy(this.camera.projectionMatrix);a("c",0,0,-1);a("t",0,0,1);a("n1",-1,-1,-1);a("n2",1,-1,-1);a("n3",-1,1,-1);a("n4",1,1,-1);a("f1",-1,-1,1);a("f2",1,-1,1);a("f3",-1,1,1);a("f4",1,1,1);a("u1",.7,1.1,-1);a("u2",-.7,1.1,-1);a("u3",0,
2,-1);a("cf1",-1,0,1);a("cf2",1,0,1);a("cf3",0,-1,1);a("cf4",0,1,1);a("cn1",-1,0,-1);a("cn2",1,0,-1);a("cn3",0,-1,-1);a("cn4",0,1,-1);b.verticesNeedUpdate=!0}}();
f.DirectionalLightHelper=function(a,b){f.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;void 0===b&&(b=1);a=new f.BufferGeometry;a.addAttribute("position",new f.Float32Attribute([-b,b,0,b,b,0,b,-b,0,-b,-b,0,-b,b,0],3));b=new f.LineBasicMaterial({fog:!1});this.add(new f.Line(a,b));a=new f.BufferGeometry;a.addAttribute("position",new f.Float32Attribute([0,0,0,0,0,1],3));this.add(new f.Line(a,b));this.update()};
f.DirectionalLightHelper.prototype=Object.create(f.Object3D.prototype);f.DirectionalLightHelper.prototype.constructor=f.DirectionalLightHelper;f.DirectionalLightHelper.prototype.dispose=function(){var a=this.children[0],b=this.children[1];a.geometry.dispose();a.material.dispose();b.geometry.dispose();b.material.dispose()};
f.DirectionalLightHelper.prototype.update=function(){var a=new f.Vector3,b=new f.Vector3,c=new f.Vector3;return function(){Bb(a,this.light.matrixWorld);Bb(b,this.light.target.matrixWorld);c.subVectors(b,a);var d=this.children[0],e=this.children[1];d.lookAt(c);d.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);e.lookAt(c);e.scale.z=c.length()}}();
f.EdgesHelper=function(a,b,c){b=void 0!==b?b:16777215;f.LineSegments.call(this,new f.EdgesGeometry(a.geometry,c),new f.LineBasicMaterial({color:b}));this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};f.EdgesHelper.prototype=Object.create(f.LineSegments.prototype);f.EdgesHelper.prototype.constructor=f.EdgesHelper;
f.FaceNormalsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16776960;d=void 0!==d?d:1;b=0;c=this.object.geometry;c instanceof f.Geometry?b=c.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");c=new f.BufferGeometry;b=new f.Float32Attribute(6*b,3);c.addAttribute("position",b);f.LineSegments.call(this,c,new f.LineBasicMaterial({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()};
f.FaceNormalsHelper.prototype=Object.create(f.LineSegments.prototype);f.FaceNormalsHelper.prototype.constructor=f.FaceNormalsHelper;
f.FaceNormalsHelper.prototype.update=function(){var a=new f.Vector3,b=new f.Vector3,c=new f.Matrix3;return function(){this.object.updateMatrixWorld(!0);Gb(c,this.object.matrixWorld);var d=this.object.matrixWorld,e=this.geometry.attributes.position,g=this.object.geometry,h=g.vertices;g=g.faces;for(var k=0,l=0,m=g.length;l<m;l++){var n=g[l],q=n.normal;a.copy(h[n.a]).add(h[n.b]).add(h[n.c]).divideScalar(3).applyMatrix4(d);rb(b.copy(q),c).normalize().multiplyScalar(this.size).add(a);e.setXYZ(k,a.x,a.y,
a.z);k+=1;e.setXYZ(k,b.x,b.y,b.z);k+=1}e.needsUpdate=!0;return this}}();
f.GridHelper=function(a,b,c,d){c=new f.Color(void 0!==c?c:4473924);d=new f.Color(void 0!==d?d:8947848);for(var e=[],g=[],h=-a,k=0;h<=a;h+=b){e.push(-a,0,h,a,0,h);e.push(h,0,-a,h,0,a);var l=0===h?c:d;l.toArray(g,k);k+=3;l.toArray(g,k);k+=3;l.toArray(g,k);k+=3;l.toArray(g,k);k+=3}a=new f.BufferGeometry;a.addAttribute("position",new f.Float32Attribute(e,3));a.addAttribute("color",new f.Float32Attribute(g,3));e=new f.LineBasicMaterial({vertexColors:f.VertexColors});f.LineSegments.call(this,a,e)};
f.GridHelper.prototype=Object.create(f.LineSegments.prototype);f.GridHelper.prototype.constructor=f.GridHelper;f.GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};
f.HemisphereLightHelper=function(a,b){f.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.colors=[new f.Color,new f.Color];a=new f.SphereGeometry(b,4,2);a.rotateX(-Math.PI/2);for(b=0;8>b;b++)a.faces[b].color=this.colors[4>b?0:1];b=new f.MeshBasicMaterial({vertexColors:f.FaceColors,wireframe:!0});this.lightSphere=new f.Mesh(a,b);this.add(this.lightSphere);this.update()};f.HemisphereLightHelper.prototype=Object.create(f.Object3D.prototype);
f.HemisphereLightHelper.prototype.constructor=f.HemisphereLightHelper;f.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose();this.lightSphere.material.dispose()};
f.HemisphereLightHelper.prototype.update=function(){var a=new f.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity);this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity);this.lightSphere.lookAt(Bb(a,this.light.matrixWorld).negate());this.lightSphere.geometry.colorsNeedUpdate=!0}}();
f.PointLightHelper=function(a,b){this.light=a;this.light.updateMatrixWorld();a=new f.SphereBufferGeometry(b,4,2);b=new f.MeshBasicMaterial({wireframe:!0,fog:!1});b.color.copy(this.light.color).multiplyScalar(this.light.intensity);f.Mesh.call(this,a,b);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1};f.PointLightHelper.prototype=Object.create(f.Mesh.prototype);f.PointLightHelper.prototype.constructor=f.PointLightHelper;
f.PointLightHelper.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};f.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)};
f.SkeletonHelper=function(a){this.bones=uc(this,a);for(var b=new f.Geometry,c=0;c<this.bones.length;c++)this.bones[c].parent instanceof f.Bone&&(b.vertices.push(new f.Vector3),b.vertices.push(new f.Vector3),b.colors.push(new f.Color(0,0,1)),b.colors.push(new f.Color(0,1,0)));b.dynamic=!0;c=new f.LineBasicMaterial({vertexColors:f.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});f.LineSegments.call(this,b,c);this.root=a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.update()};
f.SkeletonHelper.prototype=Object.create(f.LineSegments.prototype);f.SkeletonHelper.prototype.constructor=f.SkeletonHelper;function uc(a,b){var c=[];b instanceof f.Bone&&c.push(b);for(var d=0;d<b.children.length;d++)c.push.apply(c,uc(a,b.children[d]));return c}
f.SkeletonHelper.prototype.update=function(){for(var a=this.geometry,b=(new f.Matrix4).getInverse(this.root.matrixWorld),c=new f.Matrix4,d=0,e=0;e<this.bones.length;e++){var g=this.bones[e];g.parent instanceof f.Bone&&(Cb(c,b,g.matrixWorld),Bb(a.vertices[d],c),Cb(c,b,g.parent.matrixWorld),Bb(a.vertices[d+1],c),d+=2)}a.verticesNeedUpdate=!0;a.computeBoundingSphere()};
f.SpotLightHelper=function(a){f.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;a=new f.BufferGeometry;for(var b=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],c=0,d=1;32>c;c++,d++){var e=c/32*Math.PI*2,g=d/32*Math.PI*2;b.push(Math.cos(e),Math.sin(e),1,Math.cos(g),Math.sin(g),1)}a.addAttribute("position",new f.Float32Attribute(b,3));b=new f.LineBasicMaterial({fog:!1});this.cone=new f.LineSegments(a,b);this.add(this.cone);
this.update()};f.SpotLightHelper.prototype=Object.create(f.Object3D.prototype);f.SpotLightHelper.prototype.constructor=f.SpotLightHelper;f.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};
f.SpotLightHelper.prototype.update=function(){var a=new f.Vector3,b=new f.Vector3;return function(){var c=this.light.distance?this.light.distance:1E3,d=c*Math.tan(this.light.angle);this.cone.scale.set(d,d,c);Bb(a,this.light.matrixWorld);Bb(b,this.light.target.matrixWorld);this.cone.lookAt(b.sub(a));this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}();
f.VertexNormalsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16711680;d=void 0!==d?d:1;b=0;c=this.object.geometry;c instanceof f.Geometry?b=3*c.faces.length:c instanceof f.BufferGeometry&&(b=c.attributes.normal.count);c=new f.BufferGeometry;b=new f.Float32Attribute(6*b,3);c.addAttribute("position",b);f.LineSegments.call(this,c,new f.LineBasicMaterial({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()};f.VertexNormalsHelper.prototype=Object.create(f.LineSegments.prototype);
f.VertexNormalsHelper.prototype.constructor=f.VertexNormalsHelper;
f.VertexNormalsHelper.prototype.update=function(){var a=new f.Vector3,b=new f.Vector3,c=new f.Matrix3;return function(){var d=["a","b","c"];this.object.updateMatrixWorld(!0);Gb(c,this.object.matrixWorld);var e=this.object.matrixWorld,g=this.geometry.attributes.position,h=this.object.geometry;if(h instanceof f.Geometry)for(var k=h.vertices,l=h.faces,m=h=0,n=l.length;m<n;m++)for(var q=l[m],p=0,t=q.vertexNormals.length;p<t;p++){var r=q.vertexNormals[p];a.copy(k[q[d[p]]]).applyMatrix4(e);rb(b.copy(r),
c).normalize().multiplyScalar(this.size).add(a);g.setXYZ(h,a.x,a.y,a.z);h+=1;g.setXYZ(h,b.x,b.y,b.z);h+=1}else if(h instanceof f.BufferGeometry)for(d=h.attributes.position,k=h.attributes.normal,p=h=0,t=d.count;p<t;p++)a.set(d.getX(p),d.getY(p),d.getZ(p)).applyMatrix4(e),b.set(k.getX(p),k.getY(p),k.getZ(p)),rb(b,c).normalize().multiplyScalar(this.size).add(a),g.setXYZ(h,a.x,a.y,a.z),h+=1,g.setXYZ(h,b.x,b.y,b.z),h+=1;g.needsUpdate=!0;return this}}();
f.WireframeHelper=function(a,b){b=void 0!==b?b:16777215;f.LineSegments.call(this,new f.WireframeGeometry(a.geometry),new f.LineBasicMaterial({color:b}));this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};f.WireframeHelper.prototype=Object.create(f.LineSegments.prototype);f.WireframeHelper.prototype.constructor=f.WireframeHelper;f.ImmediateRenderObject=function(a){f.Object3D.call(this);this.material=a;this.render=function(){}};f.ImmediateRenderObject.prototype=Object.create(f.Object3D.prototype);
f.ImmediateRenderObject.prototype.constructor=f.ImmediateRenderObject;f.MorphBlendMesh=function(a,b){f.Mesh.call(this,a,b);this.animationsMap={};this.animationsList=[];a=this.geometry.morphTargets.length;vc(this,"__default",0,a-1,a/1);if(a=this.animationsMap.__default)a.weight=1};f.MorphBlendMesh.prototype=Object.create(f.Mesh.prototype);fa=f.MorphBlendMesh.prototype;fa.constructor=f.MorphBlendMesh;
function vc(a,b,c,d,e){c={start:c,end:d,length:d-c+1,fps:e,duration:(d-c)/e,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};a.animationsMap[b]=c;a.animationsList.push(c)}
fa.autoCreateAnimations=function(a){for(var b=/([a-z]+)_?(\d+)/i,c,d={},e=this.geometry,g=0,h=e.morphTargets.length;g<h;g++){var k=e.morphTargets[g].name.match(b);if(k&&1<k.length){var l=k[1];d[l]||(d[l]={start:Infinity,end:-Infinity});k=d[l];g<k.start&&(k.start=g);g>k.end&&(k.end=g);c||(c=l)}}for(l in d)k=d[l],vc(this,l,k.start,k.end,a);this.firstAnimation=c};fa.setAnimationDirectionForward=function(a){if(a=this.animationsMap[a])a.direction=1,a.directionBackwards=!1};
fa.setAnimationDirectionBackward=function(a){if(a=this.animationsMap[a])a.direction=-1,a.directionBackwards=!0};fa.setAnimationFPS=function(a,b){if(a=this.animationsMap[a])a.fps=b,a.duration=(a.end-a.start)/a.fps};fa.setAnimationDuration=function(a,b){if(a=this.animationsMap[a])a.duration=b,a.fps=(a.end-a.start)/a.duration};fa.setAnimationTime=function(a,b){if(a=this.animationsMap[a])a.time=b};fa.getAnimationTime=function(a){var b=0;if(a=this.animationsMap[a])b=a.time;return b};
fa.getAnimationDuration=function(a){var b=-1;if(a=this.animationsMap[a])b=a.duration;return b};fa.playAnimation=function(a){var b=this.animationsMap[a];b?(b.time=0,b.active=!0):console.warn("THREE.MorphBlendMesh: animation["+a+"] undefined in .playAnimation()")};fa.stopAnimation=function(a){if(a=this.animationsMap[a])a.active=!1};
fa.update=function(a){for(var b=0,c=this.animationsList.length;b<c;b++){var d=this.animationsList[b];if(d.active){var e=d.duration/d.length;d.time+=d.direction*a;if(d.mirroredLoop){if(d.time>d.duration||0>d.time)d.direction*=-1,d.time>d.duration&&(d.time=d.duration,d.directionBackwards=!0),0>d.time&&(d.time=0,d.directionBackwards=!1)}else d.time%=d.duration,0>d.time&&(d.time+=d.duration);var g=d.start+f.Math.clamp(Math.floor(d.time/e),0,d.length-1),h=d.weight;g!==d.currentFrame&&(this.morphTargetInfluences[d.lastFrame]=
0,this.morphTargetInfluences[d.currentFrame]=1*h,this.morphTargetInfluences[g]=0,d.lastFrame=d.currentFrame,d.currentFrame=g);e=d.time%e/e;d.directionBackwards&&(e=1-e);d.currentFrame!==d.lastFrame?(this.morphTargetInfluences[d.currentFrame]=e*h,this.morphTargetInfluences[d.lastFrame]=(1-e)*h):this.morphTargetInfluences[d.currentFrame]=h}}};
</script>












<script>//~~WEBPATH~~/tf-imports/OrbitControls.js
f.OrbitControls=function(a,b){function c(){return Math.pow(.95,r.zoomSpeed)}function d(M){r.object instanceof f.PerspectiveCamera?K/=M:r.object instanceof f.OrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*M)),r.object.updateProjectionMatrix(),N=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function e(M){r.object instanceof f.PerspectiveCamera?K*=M:r.object instanceof f.OrthographicCamera?
(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/M)),r.object.updateProjectionMatrix(),N=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function g(M){if(!1!==r.enabled){M.preventDefault();if(M.button===r.mouseButtons.ORBIT){if(!1===r.enableRotate)return;Q.set(M.clientX,M.clientY);A=x.ROTATE}else if(M.button===r.mouseButtons.ZOOM){if(!1===r.enableZoom)return;R.set(M.clientX,M.clientY);A=x.DOLLY}else if(M.button===
r.mouseButtons.PAN){if(!1===r.enablePan)return;O.set(M.clientX,M.clientY);A=x.PAN}A!==x.NONE&&(document.addEventListener("mousemove",h,!1),document.addEventListener("mouseup",k,!1),document.addEventListener("mouseout",k,!1),r.dispatchEvent(u))}}function h(M){!1!==r.enabled&&(M.preventDefault(),A===x.ROTATE?!1!==r.enableRotate&&(W.set(M.clientX,M.clientY),H.subVectors(W,Q),M=r.domElement===document?r.domElement.body:r.domElement,F.theta-=2*Math.PI*H.x/M.clientWidth*r.rotateSpeed,F.phi-=2*Math.PI*H.y/
M.clientHeight*r.rotateSpeed,Q.copy(W),r.update()):A===x.DOLLY?!1!==r.enableZoom&&(U.set(M.clientX,M.clientY),I.subVectors(U,R),0<I.y?d(c()):0>I.y&&e(c()),R.copy(U),r.update()):A===x.PAN&&!1!==r.enablePan&&(P.set(M.clientX,M.clientY),D.subVectors(P,O),X(D.x,D.y),O.copy(P),r.update()))}function k(){!1!==r.enabled&&(document.removeEventListener("mousemove",h,!1),document.removeEventListener("mouseup",k,!1),document.removeEventListener("mouseout",k,!1),r.dispatchEvent(w),A=x.NONE)}function l(M){if(!1!==
r.enabled&&!1!==r.enableZoom&&(A===x.NONE||A===x.ROTATE)){M.preventDefault();M.stopPropagation();var Y=0;void 0!==M.wheelDelta?Y=M.wheelDelta:void 0!==M.detail&&(Y=-M.detail);0<Y?e(c()):0>Y&&d(c());r.update();r.dispatchEvent(u);r.dispatchEvent(w)}}function m(M){if(!1!==r.enabled&&!1!==r.enableKeys&&!1!==r.enablePan)switch(M.keyCode){case r.keys.UP:X(0,r.keyPanSpeed);r.update();break;case r.keys.BOTTOM:X(0,-r.keyPanSpeed);r.update();break;case r.keys.LEFT:X(r.keyPanSpeed,0);r.update();break;case r.keys.RIGHT:X(-r.keyPanSpeed,
0),r.update()}}function n(M){if(!1!==r.enabled){switch(M.touches.length){case 1:if(!1===r.enableRotate)return;Q.set(M.touches[0].pageX,M.touches[0].pageY);A=x.TOUCH_ROTATE;break;case 2:if(!1===r.enableZoom)return;var Y=M.touches[0].pageX-M.touches[1].pageX;M=M.touches[0].pageY-M.touches[1].pageY;R.set(0,Math.sqrt(Y*Y+M*M));A=x.TOUCH_DOLLY;break;case 3:if(!1===r.enablePan)return;O.set(M.touches[0].pageX,M.touches[0].pageY);A=x.TOUCH_PAN;break;default:A=x.NONE}A!==x.NONE&&r.dispatchEvent(u)}}function q(M){if(!1!==
r.enabled)switch(M.preventDefault(),M.stopPropagation(),M.touches.length){case 1:if(!1===r.enableRotate)break;if(A!==x.TOUCH_ROTATE)break;W.set(M.touches[0].pageX,M.touches[0].pageY);H.subVectors(W,Q);var Y=r.domElement===document?r.domElement.body:r.domElement;F.theta-=2*Math.PI*H.x/Y.clientWidth*r.rotateSpeed;F.phi-=2*Math.PI*H.y/Y.clientHeight*r.rotateSpeed;Q.copy(W);r.update();break;case 2:if(!1===r.enableZoom)break;if(A!==x.TOUCH_DOLLY)break;Y=M.touches[0].pageX-M.touches[1].pageX;M=M.touches[0].pageY-
M.touches[1].pageY;U.set(0,Math.sqrt(Y*Y+M*M));I.subVectors(U,R);0<I.y?e(c()):0>I.y&&d(c());R.copy(U);r.update();break;case 3:if(!1===r.enablePan)break;if(A!==x.TOUCH_PAN)break;P.set(M.touches[0].pageX,M.touches[0].pageY);D.subVectors(P,O);X(D.x,D.y);O.copy(P);r.update();break;default:A=x.NONE}}function p(){!1!==r.enabled&&(r.dispatchEvent(w),A=x.NONE)}function t(M){M.preventDefault()}this.object=a;this.domElement=void 0!==b?b:document;this.enabled=!0;this.target=new f.Vector3;this.minDistance=0;
this.maxDistance=Infinity;this.minZoom=0;this.maxZoom=Infinity;this.minPolarAngle=0;this.maxPolarAngle=Math.PI;this.minAzimuthAngle=-Infinity;this.maxAzimuthAngle=Infinity;this.enableDamping=!1;this.dampingFactor=.25;this.enableZoom=!0;this.zoomSpeed=1;this.enableRotate=!0;this.rotateSpeed=1;this.enablePan=!0;this.keyPanSpeed=7;this.autoRotate=!1;this.autoRotateSpeed=2;this.enableKeys=!0;this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};this.mouseButtons={ORBIT:f.MOUSE.LEFT,ZOOM:f.MOUSE.MIDDLE,PAN:f.MOUSE.RIGHT};
this.target0=this.target.clone();this.position0=this.object.position.clone();this.zoom0=this.object.zoom;this.getPolarAngle=function(){return B.phi};this.getAzimuthalAngle=function(){return B.theta};this.reset=function(){r.target.copy(r.target0);r.object.position.copy(r.position0);r.object.zoom=r.zoom0;r.object.updateProjectionMatrix();r.dispatchEvent(v);r.update();A=x.NONE};this.update=function(){var M=new f.Vector3,Y=(new f.Quaternion).setFromUnitVectors(a.up,new f.Vector3(0,1,0)),ca=Y.clone().inverse(),
ha=new f.Vector3,ia=new f.Quaternion;return function(){var ja=r.object.position;M.copy(ja).sub(r.target);mb(M,Y);B.setFromVector3(M);r.autoRotate&&A===x.NONE&&(F.theta-=2*Math.PI/60/60*r.autoRotateSpeed);B.theta+=F.theta;B.phi+=F.phi;B.theta=Math.max(r.minAzimuthAngle,Math.min(r.maxAzimuthAngle,B.theta));B.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,B.phi));var ka=B;ka.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,ka.phi));B.radius*=K;B.radius=Math.max(r.minDistance,Math.min(r.maxDistance,B.radius));
r.target.add(L);ka=B;var pa=Math.sin(ka.phi)*ka.radius;M.x=pa*Math.sin(ka.theta);M.y=Math.cos(ka.phi)*ka.radius;M.z=pa*Math.cos(ka.theta);mb(M,ca);ja.copy(r.target).add(M);r.object.lookAt(r.target);!0===r.enableDamping?(F.theta*=1-r.dampingFactor,F.phi*=1-r.dampingFactor):F.set(0,0,0);K=1;L.set(0,0,0);return N||ha.distanceToSquared(r.object.position)>y||8*(1-ia.dot(r.object.quaternion))>y?(r.dispatchEvent(v),ha.copy(r.object.position),ia.copy(r.object.quaternion),N=!1,!0):!1}}();this.dispose=function(){r.domElement.removeEventListener("contextmenu",
t,!1);r.domElement.removeEventListener("mousedown",g,!1);r.domElement.removeEventListener("mousewheel",l,!1);r.domElement.removeEventListener("MozMousePixelScroll",l,!1);r.domElement.removeEventListener("touchstart",n,!1);r.domElement.removeEventListener("touchend",p,!1);r.domElement.removeEventListener("touchmove",q,!1);document.removeEventListener("mousemove",h,!1);document.removeEventListener("mouseup",k,!1);document.removeEventListener("mouseout",k,!1);window.removeEventListener("keydown",m,!1)};
var r=this,v={type:"change"},u={type:"start"},w={type:"end"},x={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},A=x.NONE,y=1E-6,B=new f.Spherical,F=new f.Spherical,K=1,L=new f.Vector3,N=!1,Q=new f.Vector2,W=new f.Vector2,H=new f.Vector2,O=new f.Vector2,P=new f.Vector2,D=new f.Vector2,R=new f.Vector2,U=new f.Vector2,I=new f.Vector2,J=function(){var M=new f.Vector3;return function(Y,ca){Ab(M,ca,0);M.multiplyScalar(-Y);L.add(M)}}(),S=function(){var M=new f.Vector3;return function(Y,
ca){Ab(M,ca,1);M.multiplyScalar(Y);L.add(M)}}(),X=function(){var M=new f.Vector3;return function(Y,ca){var ha=r.domElement===document?r.domElement.body:r.domElement;if(r.object instanceof f.PerspectiveCamera){M.copy(r.object.position).sub(r.target);var ia=M.length();ia*=Math.tan(r.object.fov/2*Math.PI/180);J(2*Y*ia/ha.clientHeight,r.object.matrix);S(2*ca*ia/ha.clientHeight,r.object.matrix)}else r.object instanceof f.OrthographicCamera?(J(Y*(r.object.right-r.object.left)/r.object.zoom/ha.clientWidth,
r.object.matrix),S(ca*(r.object.top-r.object.bottom)/r.object.zoom/ha.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();r.domElement.addEventListener("contextmenu",t,!1);r.domElement.addEventListener("mousedown",g,!1);r.domElement.addEventListener("mousewheel",l,!1);r.domElement.addEventListener("MozMousePixelScroll",l,!1);r.domElement.addEventListener("touchstart",n,!1);r.domElement.addEventListener("touchend",
p,!1);r.domElement.addEventListener("touchmove",q,!1);window.addEventListener("keydown",m,!1);this.update()};f.OrbitControls.prototype=Object.create(f.EventDispatcher.prototype);f.OrbitControls.prototype.constructor=f.OrbitControls;
Object.defineProperties(f.OrbitControls.prototype,{center:{get:function(){console.warn("THREE.OrbitControls: .center has been renamed to .target");return this.target}},noZoom:{get:function(){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");return!this.enableZoom},set:function(a){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");this.enableZoom=!a}},noRotate:{get:function(){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");
return!this.enableRotate},set:function(a){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");this.enableRotate=!a}},noPan:{get:function(){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");return!this.enablePan},set:function(a){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");this.enablePan=!a}},noKeys:{get:function(){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");
return!this.enableKeys},set:function(a){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");this.enableKeys=!a}},staticMoving:{get:function(){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");return!this.enableDamping},set:function(a){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");this.enableDamping=!a}},dynamicDampingFactor:{get:function(){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");
return this.dampingFactor},set:function(a){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");this.dampingFactor=a}}});
</script>











<script>//~~WEBPATH~~/vz-projector/heap.js
var wc;
(function(a){var b=function(){function d(){this.arr=[]}d.prototype.push=function(e,g){this.arr.push({key:e,value:g});this.bubbleUp(this.arr.length-1)};d.prototype.pop=function(){if(0===this.arr.length)throw Error("pop() called on empty binary heap");var e=this.arr[0],g=this.arr.length-1;this.arr[0]=this.arr[g];this.arr.pop();0<g&&this.bubbleDown(0);return e};d.prototype.peek=function(){return this.arr[0]};d.prototype.popPush=function(e,g){if(0===this.arr.length)throw Error("pop() called on empty binary heap");this.arr[0]=
{key:e,value:g};0<this.arr.length&&this.bubbleDown(0)};d.prototype.size=function(){return this.arr.length};d.prototype.items=function(){return this.arr};d.prototype.swap=function(e,g){var h=this.arr[e];this.arr[e]=this.arr[g];this.arr[g]=h};d.prototype.bubbleDown=function(e){var g=(e<<1)+1,h=g+1,k=e;g<this.arr.length&&this.arr[g].key<this.arr[k].key&&(k=g);h<this.arr.length&&this.arr[h].key<this.arr[k].key&&(k=h);k!==e&&(this.swap(k,e),this.bubbleDown(k))};d.prototype.bubbleUp=function(e){if(!(0>=
e)){var g=e-1>>1;this.arr[e].key<this.arr[g].key&&(this.swap(e,g),this.bubbleUp(g))}};return d}();a.MinHeap=b;var c=function(){function d(e){this.maxHeap=new b;this.k=e}d.prototype.add=function(e,g){this.maxHeap.size()<this.k?this.maxHeap.push(-e,g):e<-this.maxHeap.peek().key&&this.maxHeap.popPush(-e,g)};d.prototype.getMinKItems=function(){var e=this.maxHeap.items();e.sort(function(g,h){return h.key-g.key});return e.map(function(g){return g.value})};d.prototype.getSize=function(){return this.maxHeap.size()};
d.prototype.getLargestKey=function(){return 0===this.maxHeap.size()?null:-this.maxHeap.peek().key};return d}();a.KMin=c})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/label.js
(function(a){var b=function(){function c(d,e,g){this.bound=d;this.cellWidth=e;this.cellHeight=g;this.numHorizCells=Math.ceil(this.boundWidth(d)/e);this.numVertCells=Math.ceil(this.boundHeight(d)/g);this.grid=Array(this.numHorizCells*this.numVertCells)}c.prototype.boundWidth=function(d){return d.hiX-d.loX};c.prototype.boundHeight=function(d){return d.hiY-d.loY};c.prototype.boundsIntersect=function(d,e){return!(d.loX>e.hiX||d.loY>e.hiY||d.hiX<e.loX||d.hiY<e.loY)};c.prototype.insert=function(d,e){void 0===
e&&(e=!1);if(d.hiX<this.bound.loX||d.loX>this.bound.hiX||d.hiY<this.bound.loY||d.loY>this.bound.hiY)return!1;for(var g=this.getCellX(d.loX),h=this.getCellX(d.hiX),k=this.getCellY(d.loY),l=this.getCellY(d.hiY),m=k*this.numHorizCells+g,n=m,q=k;q<=l;q++){for(var p=g;p<=h;p++){var t=this.grid[n++];if(t)for(var r=0;r<t.length;r++)if(this.boundsIntersect(d,t[r]))return!1}n+=this.numHorizCells-(h-g+1)}if(e)return!0;n=m;for(q=k;q<=l;q++){for(p=g;p<=h;p++)this.grid[n]?this.grid[n].push(d):this.grid[n]=[d],
n++;n+=this.numHorizCells-(h-g+1)}return!0};c.prototype.getCellX=function(d){return Math.floor((d-this.bound.loX)/this.cellWidth)};c.prototype.getCellY=function(d){return Math.floor((d-this.bound.loY)/this.cellHeight)};return c}();a.CollisionGrid=b})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/sptree.js
(function(a){var b=function(){function c(d){if(1>d.length)throw Error("There should be at least 1 data point");this.dim=d[0].length;this.masks=Array(Math.pow(2,this.dim));for(var e=0;e<this.masks.length;++e)this.masks[e]=1<<e;var g=Array(this.dim),h=Number.POSITIVE_INFINITY;for(e=0;e<g.length;++e)g[e]=h;h=Array(this.dim);e=Number.NEGATIVE_INFINITY;for(var k=0;k<h.length;++k)h[k]=e;for(k=0;k<d.length;++k)for(e=0;e<this.dim;++e)g[e]=Math.min(g[e],d[k][e]),h[e]=Math.max(h[e],d[k][e]);k=Array(this.dim);
var l=0;for(e=0;e<this.dim;++e){var m=h[e]-g[e];k[e]=g[e]+m/2;l=Math.max(l,m/2)}this.root={box:{center:k,halfDim:l},point:d[0]};for(k=1;k<d.length;++k)this.insert(this.root,d[k])}c.prototype.visit=function(d,e){void 0===e&&(e=!1);this.visitNode(this.root,d,e)};c.prototype.visitNode=function(d,e,g){if(g)var h=e(d);else{h=Array(this.dim);for(var k=Array(this.dim),l=0;l<this.dim;++l)h[l]=d.box.center[l]-d.box.halfDim,k[l]=d.box.center[l]+d.box.halfDim;h=e(d,h,k)}if(d.children&&!h)for(h=0;h<d.children.length;++h)(k=
d.children[h])&&this.visitNode(k,e,g)};c.prototype.insert=function(d,e){null==d.children&&(d.children=Array(this.masks.length));for(var g=0,h=0;h<this.dim;++h)e[h]>d.box.center[h]&&(g|=this.masks[h]);null==d.children[g]?this.makeChild(d,g,e):this.insert(d.children[g],e)};c.prototype.makeChild=function(d,e,g){for(var h=d.box.center,k=d.box.halfDim/2,l=Array(this.dim),m=0;m<this.dim;++m)l[m]=e&1<<m?h[m]+k:h[m]-k;d.children[e]={box:{center:l,halfDim:k},point:g}};return c}();a.SPTree=b})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/bh_tsne.js
(function(a){function b(n,q){var p=n[0]-q[0];n=n[1]-q[1];return p*p+n*n}function c(n,q){var p=n[0]-q[0],t=n[1]-q[1];n=n[2]-q[2];return p*p+t*t+n*n}function d(n){if(k)return k=!1,l;var q=2*n()-1,p=2*n()-1,t=q*q+p*p;if(0===t||1<t)return d(n);n=Math.sqrt(-2*Math.log(t)/t);l=p*n;k=!0;return q*n}function e(n,q,p){for(var t=[],r=0;r<n;++r)t.push(3===q?[p,p,p]:[p,p]);return t}function g(n,q,p,t){n[0]+=q*(p[0]-t[0]);n[1]+=q*(p[1]-t[1])}function h(n,q,p,t){n[0]+=q*(p[0]-t[0]);n[1]+=q*(p[1]-t[1]);n[2]+=q*(p[2]-
t[2])}var k=!1,l=0;a.dist2=function(n,q){if(n.length!==q.length)throw Error("Vectors a and b must be of same length");for(var p=0,t=0;t<n.length;++t){var r=n[t]-q[t];p+=r*r}return p};a.dist2_2D=b;a.dist2_3D=c;var m=function(){function n(q){this.iter=0;q=q||{dim:2};this.perplexity=q.perplexity||30;this.epsilon=q.epsilon||10;this.rng=q.rng||Math.random;this.dim=q.dim;if(2===q.dim)this.dist2=b,this.computeForce=g;else if(3===q.dim)this.dist2=c,this.computeForce=h;else throw Error("Only 2D and 3D is supported");
}n.prototype.initDataDist=function(q){var p=q.length;this.nearest=q;for(var t=q.length,r=Math.log(this.perplexity),v=new Float64Array(t*t),u=Array(q[0].length),w=0;w<t;++w){for(var x=q[w],A=-Infinity,y=Infinity,B=1,F=0;;){for(var K=0,L=0;L<x.length;++L){var N=x[L];N=w===N.index?0:Math.exp(-N.dist*B);N=Math.max(N,1E-9);u[L]=N;K+=N}var Q=0;for(L=0;L<u.length;++L)u[L]/=K,N=u[L],1E-7<N&&(Q-=N*Math.log(N));Q>r?(A=B,B=Infinity===y?2*B:(B+y)/2):(y=B,B=-Infinity===A?B/2:(B+A)/2);F++;if(50<=F||1E-4>Math.abs(Q-
r))break}for(L=0;L<u.length;++L)N=u[L],A=x[L].index,v[w*t+A]=N}q=2*t;for(w=0;w<t;++w)for(A=w+1;A<t;++A)r=w*t+A,u=A*t+w,x=(v[r]+v[u])/q,v[r]=x,v[u]=x;this.P=v;this.N=p;this.initSolution()};n.prototype.initSolution=function(){for(var q=this.rng,p=this.N*this.dim,t=new Float64Array(p),r=0;r<p;++r)t[r]=1E-4*d(q);this.Y=t;this.gains=e(this.N,this.dim,1);this.ystep=e(this.N,this.dim,0);this.iter=0};n.prototype.getDim=function(){return this.dim};n.prototype.getSolution=function(){return this.Y};n.prototype.perturb=
function(){for(var q=this.N,p=0,t=3===this.dim?[0,0,0]:[0,0],r=0;r<q;++r){for(var v=0,u=0;u<this.dim;++u)v+=Math.pow(this.Y[r*this.dim+u],2);v>p&&(p=v)}var w=Math.pow(p,.5);for(r=0;r<q;++r){for(var x=Array(this.dim);;){for(u=v=0;u<this.dim;++u)x[u]=.1*w*(Math.random()-.5),v+=Math.pow(this.Y[r*this.dim+u]+x[u],2);if(v<p)break}for(u=0;u<this.dim;++u)this.Y[r*this.dim+u]+=x[u],t[u]+=this.Y[r*this.dim+u]}for(r=0;r<q;++r)for(u=0;u<this.dim;++u)this.Y[r*this.dim+u]-=t[u]/q};n.prototype.step=function(){this.iter+=
1;for(var q=this.N,p=this.costGrad(this.Y),t=3===this.dim?[0,0,0]:[0,0],r=0;r<q;++r)for(var v=0;v<this.dim;++v){var u=this.ystep[r][v],w=this.gains[r][v],x=p[r][v];w=(0<x?1:0>x?-1:0)===(0<u?1:0>u?-1:0)?.8*w:w+.2;.01>w&&(w=.01);this.gains[r][v]=w;u=(250>this.iter?.5:.8)*u-this.epsilon*w*p[r][v];this.ystep[r][v]=u;w=r*this.dim+v;this.Y[w]+=u;t[v]+=this.Y[w]}for(r=0;r<q;++r)for(v=0;v<this.dim;++v)this.Y[r*this.dim+v]-=t[v]/q};n.prototype.setSupervision=function(q,p){var t=this;null!=q&&(this.labels=
q,this.labelCounts={},Array.from(new Set(q)).forEach(function(r){return t.labelCounts[r]=0}),q.forEach(function(r){return t.labelCounts[r]+=1}));null!=p&&(this.unlabeledClass=p)};n.prototype.setSuperviseFactor=function(q){null!=q&&(this.superviseFactor=q)};n.prototype.costGrad=function(q){function p(M){var Y=L[M];F&&(I=B[y[M]],J=v-I-K);for(var ca=3===U.dim?[0,0,0]:[0,0],ha=U.nearest[M],ia=0;ia<ha.length;++ia){var ja=ha[ia].index,ka=u[M*v+ja];F&&(y[M]===A||y[ja]===A?ka*=1/v:y[M]!==y[ja]?ka*=Math.max(1/
v-x/J,1E-7):y[M]===y[ja]&&(ka*=Math.min(1/v+x/I,.9999999)),D+=ka);ja=L[ja];var pa=U.dist2(Y,ja);U.computeForce(ca,ka/(1+pa),Y,ja)}var la=3===U.dim?[0,0,0]:[0,0];O.visit(function(xa){var sa=r.dist2(Y,xa.yCell);if(null==xa.children||0<sa&&.8>xa.rCell/Math.sqrt(sa)){sa=1/(1+sa);var Ja=xa.numCells*sa;P+=Ja;r.computeForce(la,Ja*sa,Y,xa.yCell);return!0}sa=1/(1+r.dist2(Y,xa.point));P+=sa;r.computeForce(la,sa*sa,Y,xa.point);return!1},!0);R[M]=[ca,la]}function t(M){var Y=1;if(null==M.children)return M.numCells=
Y,M.yCell=M.point,{numCells:Y,yCell:M.yCell};for(var ca=M.point.slice(),ha=0;ha<M.children.length;++ha){var ia=M.children[ha];if(null!=ia){ia=t(ia);Y+=ia.numCells;for(var ja=0;ja<r.dim;++ja)ca[ja]+=ia.yCell[ja]}}M.numCells=Y;M.yCell=ca.map(function(ka){return ka/Y});return{numCells:Y,yCell:ca}}for(var r=this,v=this.N,u=this.P,w=100>this.iter?4:1,x=this.superviseFactor/100,A=this.unlabeledClass,y=this.labels,B=this.labelCounts,F=null!=x&&0<x&&null!=y&&null!=B,K=F&&null!=A&&""!==A?B[A]:0,L=Array(v),
N=0;N<v;++N){for(var Q=N*this.dim,W=Array(this.dim),H=0;H<this.dim;++H)W[H]=q[Q+H];L[N]=W}var O=new a.SPTree(L);t(O.root);O.visit(function(M,Y,ca){M.rCell=ca[0]-Y[0];return!1});q=[];var P=0,D=0,R=Array(v),U=this,I,J;for(N=0;N<v;++N)p(N);w*=4;F&&(w/=D);Q=4/P;for(N=0;N<v;++N){H=R[N];W=H[0];var S=H[1],X=Array(this.dim);for(H=0;H<this.dim;++H)X[H]=w*W[H]-Q*S[H];q.push(X)}return q};return n}();a.TSNE=m})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/logging.js
(function(a){(function(b){function c(h,k,l,m){void 0===k&&(k=null);void 0===l&&(l=null);void 0===m&&(m=!1);if(null==d)console.warn("Can't show modal message before the dom is initialized");else{null==k&&(k=(e++).toString());var n=d.querySelector("#notification-dialog");n.querySelector(".close-button").style.display=m?null:"none";var q=n.querySelector(".progress");q.style.display=m?"none":null;q.active=m?null:!0;n.querySelector("#notification-title").innerHTML=l;l=n.querySelector("#notify-msgs");if(m)l.innerHTML=
"";else{q=l.querySelectorAll(".error");for(var p=0;p<q.length;p++)l.removeChild(q[p])}q="notify-msg-"+k;p=n.querySelector("#"+q);null==p&&(p=document.createElement("div"),p.className="notify-msg "+(m?"error":""),p.id=q,l.insertBefore(p,l.firstChild),m?g=0:g++);null==h?(g--,0===g&&n.close(),p.remove()):(p.innerText=h,n.open());return k}}var d=null,e=0,g=0;b.setDomContainer=function(h){d=h};b.setModalMessage=c;b.setErrorMessage=function(h,k){c(h,null,"Error "+(null!=k?k:""),!0)};b.setWarningMessage=
function(h){var k=d.querySelector("#toast");k.text=h;k.duration=1E4;k.open()}})(a.logging||(a.logging={}))})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/renderContext.js
(function(a){a.LabelRenderParams=function(){return function(b,c,d,e,g,h,k){this.pointIndices=b;this.labelStrings=c;this.scaleFactors=d;this.useSceneOpacityFlags=e;this.defaultFontSize=g;this.fillColors=h;this.strokeColors=k}}();(function(b){b[b.Perspective=0]="Perspective";b[b.Orthographic=1]="Orthographic"})(a.CameraType||(a.CameraType={}));a.RenderContext=function(){return function(b,c,d,e,g,h,k,l,m,n,q,p,t,r){this.camera=b;this.cameraType=c;this.cameraTarget=d;this.screenWidth=e;this.screenHeight=
g;this.nearestCameraSpacePointZ=h;this.farthestCameraSpacePointZ=k;this.backgroundColor=l;this.pointColors=m;this.pointScaleFactors=n;this.labels=q;this.polylineColors=p;this.polylineOpacities=t;this.polylineWidths=r}}()})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotRectangleSelector.js
(function(a){var b=function(){function c(d,e){this.svgElement=d.querySelector("#selector");this.rectElement=document.createElementNS("http://www.w3.org/2000/svg","rect");this.rectElement.style.stroke="#aaaaaa";this.rectElement.style.strokeDasharray="10 5";this.rectElement.style.strokeWidth="2";this.rectElement.style.fill="#dddddd";this.rectElement.style.fillOpacity="0.2";this.svgElement.appendChild(this.rectElement);this.selectionCallback=e;this.isMouseDown=!1}c.prototype.onMouseDown=function(d,e){this.isMouseDown=
!0;this.rectElement.style.display="block";this.startCoordinates=[d,e];this.lastBoundingBox={x:this.startCoordinates[0],y:this.startCoordinates[1],width:1,height:1}};c.prototype.onMouseMove=function(d,e){this.isMouseDown&&(this.lastBoundingBox.x=Math.min(d,this.startCoordinates[0]),this.lastBoundingBox.y=Math.max(e,this.startCoordinates[1]),this.lastBoundingBox.width=Math.max(d,this.startCoordinates[0])-this.lastBoundingBox.x,this.lastBoundingBox.height=this.lastBoundingBox.y-Math.min(e,this.startCoordinates[1]),
this.rectElement.setAttribute("x",""+this.lastBoundingBox.x),this.rectElement.setAttribute("y",""+(this.lastBoundingBox.y-this.lastBoundingBox.height)),this.rectElement.setAttribute("width",""+this.lastBoundingBox.width),this.rectElement.setAttribute("height",""+this.lastBoundingBox.height))};c.prototype.onMouseUp=function(){this.isMouseDown=!1;this.rectElement.style.display="none";this.rectElement.setAttribute("width","0");this.rectElement.setAttribute("height","0");this.selectionCallback(this.lastBoundingBox)};
return c}();a.ScatterPlotRectangleSelector=b})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/analyticsLogger.js
(function(a){var b=function(){function c(d,e){"undefined"===typeof ga||null==ga?this.pageViewLogging=this.eventLogging=!1:(this.eventLogging=e,this.pageViewLogging=d)}c.prototype.logPageView=function(){this.pageViewLogging&&ga("send",{hitType:"pageview",page:"/v/embeddings"})};c.prototype.logProjectionChanged=function(d){this.eventLogging&&ga("send",{hitType:"event",eventCategory:"Projection",eventAction:"click",eventLabel:d})};c.prototype.logWebGLDisabled=function(){this.eventLogging&&ga("send",
{hitType:"event",eventCategory:"Error",eventAction:"PageLoad",eventLabel:"WebGL_disabled"})};return c}();a.AnalyticsLogger=b})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/util.js
(function(a){(function(b){b.shuffle=function(d){for(var e=d.length,g,h;e;)h=Math.floor(Math.random()*e--),g=d[e],d[e]=d[h],d[h]=g;return d};b.range=function(d){for(var e=[],g=0;g<d;g++)e.push(g);return e};b.classed=function(d,e,g){var h=d.className.split(" ");if(g){if(e in h)return;h.push(e)}else{e=h.indexOf(e);if(-1===e)return;h.splice(e,1)}d.className=h.join(" ")};b.vector3DToScreenCoords=function(d,e,g,h){var k=window.devicePixelRatio;d=(new f.Vector3).copy(h).project(d);return[(d.x+1)/2*e*k,-((d.y-
1)/2*g)*k]};b.vector3FromPackedArray=function(d,e){e*=3;return new f.Vector3(d[e],d[e+1],d[e+2])};b.getNearFarPoints=function(d,e,g){var h=Infinity,k=0;g=(new f.Vector3).copy(g).sub(e);g=(new f.Vector3).copy(g).normalize();for(var l=d.length/3,m=0,n=new f.Vector3,q=new f.Vector3,p=0;p<l;p++){n.x=d[m];n.y=d[m+1];n.z=d[m+2];m+=3;q.copy(n).sub(e);var t=g.dot(q);0>t||(k=t>k?t:k,h=t<h?t:h)}return[h,k]};b.createTexture=function(d){d=new f.Texture(d);d.needsUpdate=!0;d.minFilter=f.LinearFilter;d.generateMipmaps=
!1;d.flipY=!1;return d};b.assert=function(d,e){if(!d)throw Error(e||"Assertion failed");};b.getSearchPredicate=function(d,e,g){if(e){var h=new RegExp(d,"i");e=function(k){return h.test(k.metadata[g].toString())}}else d=d.toLowerCase(),e=function(k){return 0<=k.metadata[g].toString().toLowerCase().indexOf(d)};return e};b.runAsyncTask=function(d,e,g,h){void 0===g&&(g=null);void 0===h&&(h=200);var k=null==g;g=a.logging.setModalMessage(d,g);return new Promise(function(l,m){setTimeout(function(){try{var n=
e();k&&a.logging.setModalMessage(null,g);l(n)}catch(q){m(q)}return!0},h)})};b.getURLParams=function(){var d=window.location.search;if(!d)return{};d=-1!==d.indexOf("?")?d.split("?")[1]:d;d.indexOf("#")&&(d=d.split("#")[0]);d=d.split("\x26");for(var e={},g=0;g<d.length;g++){var h=d[g].split("\x3d");e[h[0].toLowerCase()]=decodeURIComponent(h[1])}return e};var c=["/Adagrad"];b.tensorIsGenerated=function(d){for(var e=0;e<c.length;e++)if(0<=d.indexOf(c[e]))return!0;return!1};b.xor=function(d,e){return(d||
e)&&!(d&&e)};b.hasWebGLSupport=function(){try{var d=document.createElement("canvas");return null!=(d.getContext("webgl")||d.getContext("experimental-webgl"))&&"undefined"!==typeof weblas}catch(e){return!1}}})(a.util||(a.util={}))})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/vector.js
(function(a){(function(b){function c(l,m){a.util.assert(l.length===m.length,"Vectors a and b must be of same length");for(var n=0,q=0;q<l.length;++q)n+=l[q]*m[q];return n}function d(l){for(var m=0,n=0;n<l.length;++n)m+=l[n]*l[n];return m}function e(l,m){a.util.assert(l.length===m.length,"Vectors a and b must be of same length");for(var n=0,q=0;q<l.length;++q){var p=l[q]-m[q];n+=p*p}return n}function g(l,m){var n=l[0]-m[0],q=l[1]-m[1];l=l[2]-m[2];return n*n+q*q+l*l}function h(l){for(var m=d3.randomNormal(),
n=new Float32Array(l),q=0;q<l;++q)n[q]=m();return n}function k(l,m){return c(l,m)/Math.sqrt(d(l)*d(m))}b.dot=c;b.sum=function(l){for(var m=0,n=0;n<l.length;++n)m+=l[n];return m};b.add=function(l,m){a.util.assert(l.length===m.length,"Vectors a and b must be of same length");for(var n=new Float32Array(l.length),q=0;q<l.length;++q)n[q]=l[q]+m[q];return n};b.sub=function(l,m){a.util.assert(l.length===m.length,"Vectors a and b must be of same length");for(var n=new Float32Array(l.length),q=0;q<l.length;++q)n[q]=
l[q]-m[q];return n};b.norm2=d;b.dist=function(l,m){return Math.sqrt(e(l,m))};b.dist2=e;b.dist2_2D=function(l,m){var n=l[0]-m[0];l=l[1]-m[1];return n*n+l*l};b.dist2_3D=g;b.dist_3D=function(l,m){return Math.sqrt(g(l,m))};b.dist2WithLimit=function(l,m,n){a.util.assert(l.length===m.length,"Vectors a and b must be of same length");for(var q=0,p=0;p<l.length;++p){var t=l[p]-m[p];q+=t*t;if(q>=n)return-1}return q};b.dist22D=function(l,m){var n=l[0]-m[0];l=l[1]-m[1];return n*n+l*l};b.unit=function(l){var m=
Math.sqrt(d(l));a.util.assert(0<=m,"Norm of the vector must be \x3e 0");for(var n=0;n<l.length;++n)l[n]/=m};b.projectRandom=function(l,m){for(var n=l[0].length,q=l.length,p=Array(q),t=0;t<q;++t)p[t]=new Float32Array(m);for(var r=0;r<m;++r){var v=h(n);for(t=0;t<q;++t)p[t][r]=c(l[t],v)}return p};b.project2d=function(l,m,n){return[c(l,m),c(l,n)]};b.centroid=function(l,m){if(0===l.length)return null;null==m&&(m=function(r){return r});a.util.assert(0<=l.length,"`vectors` must be of length \x3e\x3d 1");
for(var n=new Float32Array(m(l[0]).length),q=0;q<l.length;++q)for(var p=m(l[q]),t=0;t<n.length;++t)n[t]+=p[t];for(t=0;t<n.length;++t)n[t]/=l.length;return n};b.rn=h;b.cosDistNorm=function(l,m){return 1-c(l,m)};b.cosDist=function(l,m){return 1-k(l,m)};b.cosSim=k;b.toTypedArray=function(l,m){for(var n=l.length,q=m(l[0]).length,p=new Float32Array(n*q),t=0;t<n;++t)for(var r=m(l[t]),v=0;v<q;++v)p[t*q+v]=r[v];return p};b.transposeTypedArray=function(l,m,n){for(var q=new Float32Array(l*m),p=0;p<l;++p)for(var t=
0;t<m;++t)q[t*l+p]=n[p*m+t];return q}})(a.vector||(a.vector={}))})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/knn.js
(function(a){(function(b){function c(d,e,g,h){return a.util.runAsyncTask("Finding nearest neighbors...",function(){for(var k=d.length,l=Array(k),m=Array(k),n=0;n<k;n++)m[n]=new a.KMin(e);for(n=0;n<k;n++)for(var q=g(d[n]),p=m[n],t=n+1;t<k;t++){var r=m[t],v=p.getSize()===e?p.getLargestKey()||Number.MAX_VALUE:Number.MAX_VALUE,u=r.getSize()===e?r.getLargestKey()||Number.MAX_VALUE:Number.MAX_VALUE;v=Math.max(v,u);v=h(q,g(d[t]),v);0<=v&&(p.add(v,{index:t,dist:v}),r.add(v,{index:n,dist:v}))}for(n=0;n<k;n++)l[n]=
m[n].getMinKItems();return l})}b.findKNNGPUCosine=function(d,e,g){function h(A){a.util.runAsyncTask("Finding nearest neighbors: "+(100*u).toFixed()+"%",function(){for(var y=x<r?t+1:t,B=new Float32Array(y*l),F=0;F<y;++F)for(var K=g(d[v+F]),L=0;L<l;++L)B[F*l+L]=K[L];F=new weblas.pipeline.Tensor([y,l],B);K=weblas.pipeline.sgemm(1,n,F,null,null);B=K.transfer();F.delete();K.delete();u+=w;for(F=0;F<y;F++){K=new a.KMin(e);L=v+F;for(var N=0;N<k;N++)if(N!==L){var Q=1-B[N*y+F];K.add(Q,{index:N,dist:Q})}q[L]=
K.getMinKItems()}u+=w;v+=y;x++},"knn-gpu").then(function(){x<p?h(A):(a.logging.setModalMessage(null,"knn-gpu"),n.delete(),A(q))},function(){a.logging.setModalMessage(null,"knn-gpu");c(d,e,g,function(y,B){return a.vector.cosDistNorm(y,B)}).then(function(y){A(y)})})}var k=d.length,l=g(d[0]).length,m=a.vector.toTypedArray(d,g),n=new weblas.pipeline.Tensor([k,l],m),q=Array(k),p=Math.ceil(k/256),t=Math.floor(k/p),r=k%p,v=0,u=0,w=1/(2*p),x=0;return new Promise(function(A){return h(A)})};b.findKNN=c;b.findKNNofPoint=
function(d,e,g,h,k){g=new a.KMin(g);for(var l=h(d[e]),m=0;m<d.length;++m)if(m!==e){var n=h(d[m]);n=k(l,n);g.add(n,{index:m,dist:n})}return g.getMinKItems()}})(a.knn||(a.knn={}))})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/data.js
var xc=this&&this.__awaiter||function(a,b,c,d){return new (c||(c=Promise))(function(e,g){function h(m){try{l(d.next(m))}catch(n){g(n)}}function k(m){try{l(d["throw"](m))}catch(n){g(n)}}function l(m){m.done?e(m.value):(new c(function(n){n(m.value)})).then(h,k)}l((d=d.apply(a,b||[])).next())})},yc=this&&this.__generator||function(a,b){function c(m){return function(n){return d([m,n])}}function d(m){if(g)throw new TypeError("Generator is already executing.");for(;e;)try{if(g=1,h&&(k=m[0]&2?h["return"]:
m[0]?h["throw"]||((k=h["return"])&&k.call(h),0):h.next)&&!(k=k.call(h,m[1])).done)return k;if(h=0,k)m=[m[0]&2,k.value];switch(m[0]){case 0:case 1:k=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++;h=m[1];m=[0];continue;case 7:m=e.ops.pop();e.trys.pop();continue;default:if(!(k=e.trys,k=0<k.length&&k[k.length-1])&&(6===m[0]||2===m[0])){e=0;continue}if(3===m[0]&&(!k||m[1]>k[0]&&m[1]<k[3]))e.label=m[1];else if(6===m[0]&&e.label<k[1])e.label=k[1],k=m;else if(k&&e.label<k[2])e.label=
k[2],e.ops.push(m);else{k[2]&&e.ops.pop();e.trys.pop();continue}}m=b.call(a,e)}catch(n){m=[6,n],h=0}finally{g=k=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}var e={label:0,sent:function(){if(k[0]&1)throw k[1];return k[1]},trys:[],ops:[]},g,h,k,l;return l={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l};
(function(a){function b(g){for(var h=null,k=0,l=e;k<l.length;k++){var m=l[k];if(m in g&&""!==g[m]){h=g[m];break}}return null==h?null:+h}var c=0<=navigator.userAgent.toLowerCase().indexOf("firefox"),d=a.util.hasWebGLSupport()&&!c;a.TSNE_SAMPLE_SIZE=1E4;a.UMAP_SAMPLE_SIZE=5E3;a.PCA_SAMPLE_SIZE=5E4;a.PCA_SAMPLE_DIM=200;var e=["__next__","__seq_next__"];c=function(){function g(h,k){this.shuffledDataIndices=[];this.projections={};this.tSNEIteration=0;this.tSNEShouldPause=!1;this.tSNEShouldStop=!0;this.superviseInput=
"";this.dim=[0,0];this.hasUmapRun=this.hasTSNERun=!1;this.points=h;this.shuffledDataIndices=a.util.shuffle(a.util.range(this.points.length));this.sequences=this.computeSequences(h);this.dim=[this.points.length,this.points[0].vector.length];this.spriteAndMetadataInfo=k}g.prototype.computeSequences=function(h){for(var k=new Int8Array(h.length),l={},m=[],n=0;n<h.length;n++)if(!k[n]){k[n]=1;var q=b(h[n].metadata);if(null!=q)if(q in l)q=l[q],q.pointIndices.unshift(n),l[n]=q;else{q={pointIndices:[]};l[n]=
q;m.push(q);for(var p=n;h[p];)q.pointIndices.push(p),p=b(h[p].metadata),null!=p?k[p]=1:p=-1}}return m};g.prototype.projectionCanBeRendered=function(h){return"tsne"!==h?!0:0<this.tSNEIteration};g.prototype.getSubset=function(h){var k=this;h=(null!=h&&0<h.length?h.map(function(l){return k.points[l]}):this.points).map(function(l){return{metadata:l.metadata,index:l.index,vector:l.vector.slice(),projections:{}}});return new g(h,this.spriteAndMetadataInfo)};g.prototype.normalize=function(){var h=a.vector.centroid(this.points,
function(m){return m.vector});if(null==h)throw Error("centroid should not be null");for(var k=0;k<this.points.length;++k){var l=this.points[k];l.vector=a.vector.sub(l.vector,h);0<a.vector.norm2(l.vector)&&a.vector.unit(l.vector)}};g.prototype.projectLinear=function(h,k){this.projections[k]=!0;this.points.forEach(function(l){l.projections[k]=a.vector.dot(l.vector,h)})};g.prototype.projectPCA=function(){var h=this;return null!=this.projections["pca-0"]?Promise.resolve(null):a.util.runAsyncTask("Computing PCA...",
function(){var k=h.points[0].vector.length,l=h.shuffledDataIndices.map(function(r){return h.points[r].vector});k>a.PCA_SAMPLE_DIM&&(l=a.vector.projectRandom(l,a.PCA_SAMPLE_DIM));var m=l.slice(0,a.PCA_SAMPLE_SIZE),n=numeric.dot,q=numeric.transpose;k=numeric.svd;var p=numeric.div;n=n(q(m),m);m=p(n,m.length);m=k(m);p=m.S;for(k=n=0;k<p.length;++k)n+=p[k];for(k=0;k<p.length;++k)p[k]/=n;h.fracVariancesExplained=p;var t=m.U;l=l.map(function(r){for(var v=new Float32Array(10),u=0;10>u;u++){for(var w=0,x=0;x<
r.length;x++)w+=r[x]*t[x][u];v[u]=w}return v});for(m=0;10>m;m++)for(p="pca-"+m,h.projections[p]=!0,k=0;k<l.length;k++)h.points[h.shuffledDataIndices[k]].projections[p]=l[k][m]})};g.prototype.projectTSNE=function(h,k,l,m){function n(){if(q.tSNEShouldStop)q.projections.tsne=!1,m(null),q.tsne=null,q.hasTSNERun=!1;else{if(!q.tSNEShouldPause){q.tsne.step();var r=q.tsne.getSolution();t.forEach(function(v,u){v=q.points[v];v.projections["tsne-0"]=r[u*l];v.projections["tsne-1"]=r[u*l+1];3===l&&(v.projections["tsne-2"]=
r[u*l+2])});q.projections.tsne=!0;q.tSNEIteration++;m(q.tSNEIteration)}requestAnimationFrame(n)}}var q=this;this.hasTSNERun=!0;var p=Math.floor(3*h);this.tsne=new a.TSNE({epsilon:k,perplexity:h,dim:l});this.tsne.setSupervision(this.superviseLabels,this.superviseInput);this.tsne.setSuperviseFactor(this.superviseFactor);this.tSNEShouldStop=this.tSNEShouldPause=!1;this.tSNEIteration=0;var t=this.shuffledDataIndices.slice(0,a.TSNE_SAMPLE_SIZE);h=t.map(function(r){return q.points[r]});this.computeKnn(h,
p).then(function(r){q.nearest=r;a.util.runAsyncTask("Initializing T-SNE...",function(){q.tsne.initDataDist(q.nearest)}).then(n)})};g.prototype.projectUmap=function(h,k,l){xc(this,void 0,void 0,function(){var m,n,q,p,t,r,v,u=this;return yc(this,function(w){switch(w.label){case 0:return this.hasUmapRun=!0,this.umap=new UMAP({nComponents:h,nNeighbors:k}),m=0,n=10,q=this.shuffledDataIndices.slice(0,a.UMAP_SAMPLE_SIZE),p=q.map(function(x){return u.points[x]}),t=p.map(function(x){return Array.from(x.vector)}),
r=this,[4,this.computeKnn(p,k)];case 1:return r.nearest=w.sent(),[4,a.util.runAsyncTask("Initializing UMAP...",function(){var x=u.nearest.map(function(y){return y.map(function(B){return B.index})}),A=u.nearest.map(function(y){return y.map(function(B){return B.dist})});return u.umap.initializeFit(t,x,A)},"umap-optimization")];case 2:return v=w.sent(),[2,new Promise(function(x,A){function y(){for(var B=Math.min(n,v-m),F=0;F<B;F++)m=u.umap.step();a.util.runAsyncTask("Optimizing UMAP (epoch "+m+" of "+
v+")",function(){if(m<v)requestAnimationFrame(y);else{var K=u.umap.getEmbedding();q.forEach(function(L,N){L=u.points[L];L.projections["umap-0"]=K[N][0];L.projections["umap-1"]=K[N][1];3===h&&(L.projections["umap-2"]=K[N][2])});u.projections.umap=!0;a.logging.setModalMessage(null,"umap-optimization");u.hasUmapRun=!0;l(m);x()}},"umap-optimization",0).catch(function(K){a.logging.setModalMessage(null,"umap-optimization");A(K)})}requestAnimationFrame(y)})]}})})};g.prototype.computeKnn=function(h,k){return xc(this,
void 0,void 0,function(){var l;return yc(this,function(m){switch(m.label){case 0:return null!=this.nearest&&k<=this.nearest.length?[2,Promise.resolve(this.nearest)]:[3,1];case 1:return[4,d?a.knn.findKNNGPUCosine(h,k,function(n){return n.vector}):a.knn.findKNN(h,k,function(n){return n.vector},function(n,q){return a.vector.cosDistNorm(n,q)})];case 2:return this.nearest=l=m.sent(),[2,Promise.resolve(l)]}})})};g.prototype.perturbTsne=function(){var h=this;if(this.hasTSNERun&&this.tsne){this.tsne.perturb();
var k=this.tsne.getDim(),l=this.tsne.getSolution();this.shuffledDataIndices.slice(0,a.TSNE_SAMPLE_SIZE).forEach(function(m,n){m=h.points[m];m.projections["tsne-0"]=l[n*k];m.projections["tsne-1"]=l[n*k+1];3===k&&(m.projections["tsne-2"]=l[n*k+2])})}};g.prototype.setSupervision=function(h,k){var l=this;if(null!=h){var m=this.shuffledDataIndices.slice(0,a.TSNE_SAMPLE_SIZE),n=Array(m.length);m.forEach(function(q,p){return n[p]=l.points[q].metadata[h].toString()});this.superviseLabels=n}null!=k&&(this.superviseInput=
k);this.tsne&&this.tsne.setSupervision(this.superviseLabels,this.superviseInput)};g.prototype.setSuperviseFactor=function(h){null!=h&&(this.superviseFactor=h,this.tsne&&this.tsne.setSuperviseFactor(h))};g.prototype.mergeMetadata=function(h){var k=this;if(h.pointsInfo.length!==this.points.length){var l="Number of tensors ("+this.points.length+") do not match the number of lines in metadata"+(" ("+h.pointsInfo.length+").");if(1===h.stats.length&&this.points.length+1===h.pointsInfo.length)return a.logging.setErrorMessage(l+
" Single column metadata should not have a header row.","merging metadata"),!1;if(1<h.stats.length&&this.points.length-1===h.pointsInfo.length)return a.logging.setErrorMessage(l+" Multi-column metadata should have a header row with column labels.","merging metadata"),!1;a.logging.setWarningMessage(l)}this.spriteAndMetadataInfo=h;h.pointsInfo.slice(0,this.points.length).forEach(function(m,n){return k.points[n].metadata=m});return!0};g.prototype.stopTSNE=function(){this.tSNEShouldStop=!0};g.prototype.findNeighbors=
function(h,k,l){return a.knn.findKNNofPoint(this.points,h,l,function(m){return m.vector},k).slice(0,l)};g.prototype.query=function(h,k,l){var m=a.util.getSearchPredicate(h,k,l),n=[];this.points.forEach(function(q,p){m(q)&&n.push(p)});return n};return g}();a.DataSet=c;a.Projection=function(){return function(g,h,k,l){this.projectionType=g;this.projectionComponents=h;this.dimensionality=k;this.dataSet=l}}();a.State=function(){return function(){this.label="";this.isSelected=!1;this.tSNELearningRate=this.tSNEPerplexity=
this.tSNEIteration=0;this.umapIs3d=this.tSNEis3d=!0;this.umapNeighbors=15;this.pcaComponentDimensions=[];this.projections=[];this.selectedPoints=[]}}();a.getProjectionComponents=function(g,h){if(3<h.length)throw new RangeError("components length must be \x3c\x3d 3");var k=[null,null,null];g="custom"===g?"linear":g;for(var l=0;l<h.length;++l)null!=h[l]&&(k[l]=g+"-"+h[l]);return k};a.stateGetAccessorDimensions=function(g){switch(g.selectedProjection){case "pca":var h=g.pcaComponentDimensions.slice();
break;case "tsne":h=[0,1];g.tSNEis3d&&h.push(2);break;case "umap":h=[0,1];g.umapIs3d&&h.push(2);break;case "custom":h=["x","y"];break;default:throw Error("Unexpected fallthrough");}return h}})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/data-provider.js
(function(a){function b(k,l,m,n){void 0===m&&(m=1E6);void 0===n&&(n="\n");return new Promise(function(q){function p(u,w){u=new Blob([k.slice(u,u+w)]);w=new FileReader;w.onload=function(x){x=x.target.result;t+=m;x=x.split(n);var A=v+x[0];if(1===x.length)v=A,p(t,m);else{v=x[x.length-1];l(A);for(A=1;A<x.length-1;A++)l(x[A]);t>=r?(v&&l(v),q()):p(t,m)}};w.readAsText(u)}var t=0,r=k.byteLength-1,v="";p(t,m)})}function c(k,l){void 0===l&&(l="\t");a.logging.setModalMessage("Parsing tensors...",a.TENSORS_MSG_ID);
return new Promise(function(m){var n=[],q;b(k,function(p){p=p.trim();if(""!==p){p=p.split(l);var t={metadata:{},vector:null,index:n.length,projections:null};isNaN(p[0])||q===p.length-1?(t.metadata.label=p[0],t.vector=new Float32Array(p.slice(1).map(Number))):t.vector=new Float32Array(p.map(Number));n.push(t);null==q&&(q=t.vector.length);if(q!==t.vector.length)throw a.logging.setModalMessage("Parsing failed. Vector dimensions do not match"),Error("Parsing failed");if(1>=q)throw a.logging.setModalMessage("Parsing failed. Found a vector with only one dimension?"),
Error("Parsing failed");}}).then(function(){a.logging.setModalMessage(null,a.TENSORS_MSG_ID);m(n)})})}function d(k,l){return a.util.runAsyncTask("Parsing tensors...",function(){for(var m=k.length/l,n=[],q=0,p=0;p<m;++p)n.push({metadata:{},vector:k.subarray(q,q+l),index:p,projections:null}),q+=l;return n},a.TENSORS_MSG_ID).then(function(m){a.logging.setModalMessage(null,a.TENSORS_MSG_ID);return m})}function e(k,l){var m=k.map(function(q){return{name:q,isNumeric:!0,tooManyUniqueValues:!1,min:Number.POSITIVE_INFINITY,
max:Number.NEGATIVE_INFINITY}}),n=k.map(function(){return{}});l.forEach(function(q){k.forEach(function(p,t){var r=m[t];t=n[t];var v=q[p];null!=v&&(r.tooManyUniqueValues||(v in t?t[v]++:t[v]=1,50<Object.keys(t).length&&(r.tooManyUniqueValues=!0)),isNaN(v)?r.isNumeric=!1:(q[p]=+v,r.min=Math.min(r.min,+v),r.max=Math.max(r.max,+v)))})});m.forEach(function(q,p){q.uniqueEntries=Object.keys(n[p]).map(function(t){return{label:t,count:n[p][t]}})});return m}function g(k){a.logging.setModalMessage("Parsing metadata...",
a.METADATA_MSG_ID);return new Promise(function(l){var m=[],n=!1,q=0,p=["label"];b(k,function(t){if(0!==t.trim().length){if(0===q&&(n=0<=t.indexOf("\t"))){p=t.split("\t");q++;return}q++;var r=t.split("\t"),v={};m.push(v);p.forEach(function(u,w){w=r[w];v[u]=""===w?null:w})}}).then(function(){a.logging.setModalMessage(null,a.METADATA_MSG_ID);l({stats:e(p,m),pointsInfo:m})})})}function h(k){return new Promise(function(l,m){var n=new Image;n.onload=function(){return l(n)};n.onerror=function(q){return m(q)};
n.crossOrigin="";n.src=k})}a.METADATA_MSG_ID="metadata";a.TENSORS_MSG_ID="tensors";a.retrieveTensorAsBytes=function(k,l,m){a.logging.setModalMessage("Fetching tensor values...",a.TENSORS_MSG_ID);var n=new XMLHttpRequest;n.open("GET",l);n.responseType="arraybuffer";n.onprogress=function(q){q.lengthComputable&&a.logging.setModalMessage("Fetching tensor values: "+(100*q.loaded/q.total).toFixed(1)+"%",a.TENSORS_MSG_ID)};n.onload=function(){if(200!==n.status){var q=String.fromCharCode.apply(null,new Uint8Array(n.response));
a.logging.setErrorMessage(q,"fetching tensors")}else{try{q=new Float32Array(n.response)}catch(r){a.logging.setErrorMessage(r,"parsing tensor bytes");return}var p=k.tensorShape[1],t=q.length/p;k.tensorShape[0]>t&&a.logging.setWarningMessage("Showing the first "+t.toLocaleString()+(" of "+k.tensorShape[0].toLocaleString()+" data points"));d(q,p).then(function(r){m(new a.DataSet(r))})}};n.send()};a.parseRawTensors=function(k,l){c(k).then(function(m){l(new a.DataSet(m))})};a.parseRawMetadata=function(k,
l){g(k).then(function(m){return l(m)})};a.parseTensors=c;a.parseTensorsFromFloat32Array=d;a.analyzeMetadata=e;a.parseMetadata=g;a.fetchImage=h;a.retrieveSpriteAndMetadataInfo=function(k,l,m,n){var q=Promise.resolve({});k&&(q=new Promise(function(r,v){a.logging.setModalMessage("Fetching metadata...",a.METADATA_MSG_ID);var u=new XMLHttpRequest;u.open("GET",k);u.responseType="arraybuffer";u.onreadystatechange=function(){if(4===u.readyState)if(200===u.status)r(g(u.response));else{var w=new FileReader;
w.onload=function(){a.logging.setErrorMessage(w.result,"fetching metadata");v()};w.readAsText(new Blob([u.response]))}};u.send(null)}));var p=null,t=null;l&&(p=a.logging.setModalMessage("Fetching sprite image..."),t=h(l));Promise.all([q,t]).then(function(r){p&&a.logging.setModalMessage(null,p);var v=r[0];if((r=r[1])&&(8192<r.height||8192<r.width))a.logging.setModalMessage("Error: Sprite image of dimensions "+r.width+"px x "+(r.height+"px exceeds maximum dimensions ")+"8192px x 8192px");else{v.spriteImage=
r;v.spriteMetadata=m;try{n(v)}catch(u){a.logging.setModalMessage(String(u))}}})}})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/data-provider-demo.js
(function(a){var b=function(){function c(d){this.projectorConfigPath=d}c.prototype.getEmbeddingInfo=function(d){for(var e=this.projectorConfig.embeddings,g=0;g<e.length;g++){var h=e[g];if(h.tensorName===d)return h}return null};c.prototype.retrieveRuns=function(d){d(["Demo"])};c.prototype.retrieveProjectorConfig=function(d,e){var g=this,h=a.logging.setModalMessage("Fetching projector config..."),k=new XMLHttpRequest;k.open("GET",this.projectorConfigPath);k.onerror=function(l){l=l.message;null!=k.responseText&&
(l="Cannot fetch projector config, possibly a Cross-Origin request error.");a.logging.setErrorMessage(l,"fetching projector config")};k.onload=function(){var l=JSON.parse(k.responseText);a.logging.setModalMessage(null,h);g.projectorConfig=l;e(l)};k.send()};c.prototype.retrieveTensor=function(d,e,g){d=this.getEmbeddingInfo(e);var h=""+d.tensorPath;if(".bytes"===d.tensorPath.substr(-6))a.retrieveTensorAsBytes(this.getEmbeddingInfo(e),h,g);else{a.logging.setModalMessage("Fetching tensors...",a.TENSORS_MSG_ID);
var k=new XMLHttpRequest;k.open("GET",h);k.responseType="arraybuffer";k.onerror=function(){a.logging.setErrorMessage(k.responseText,"fetching tensors")};k.onload=function(){a.parseTensors(k.response).then(function(l){g(new a.DataSet(l))})};k.send()}};c.prototype.retrieveSpriteAndMetadata=function(d,e,g){d=this.getEmbeddingInfo(e);e=null;d.sprite&&d.sprite.imagePath&&(e=d.sprite.imagePath);a.retrieveSpriteAndMetadataInfo(d.metadataPath,e,d.sprite,g)};c.prototype.getBookmarks=function(d,e,g){d=this.getEmbeddingInfo(e);
var h=a.logging.setModalMessage("Fetching bookmarks..."),k=new XMLHttpRequest;k.open("GET",d.bookmarksPath);k.onerror=function(){a.logging.setErrorMessage(k.responseText)};k.onload=function(){var l=JSON.parse(k.responseText);a.logging.setModalMessage(null,h);g(l)};k.send()};return c}();a.DemoDataProvider=b})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/data-provider-proto.js
(function(a){var b=function(){function c(d){this.dataProto=d}c.prototype.retrieveRuns=function(d){d(["proto"])};c.prototype.retrieveProjectorConfig=function(d,e){e({modelCheckpointPath:"proto",embeddings:[{tensorName:"proto",tensorShape:this.dataProto.shape,metadataPath:"proto"}]})};c.prototype.retrieveTensor=function(d,e,g){g(this.flatArrayToDataset(this.dataProto.tensor))};c.prototype.retrieveSpriteAndMetadata=function(d,e,g){var h=this,k=this.dataProto.metadata.columns.map(function(n){return n.name}),
l=this.dataProto.shape[0],m=Array(l);this.dataProto.metadata.columns.forEach(function(n){for(var q=n.numericValues||n.stringValues,p=0;p<l;p++)m[p]=m[p]||{},m[p][n.name]=q[p]});d=Promise.resolve(null);null!=this.dataProto.metadata.sprite&&(d=new Promise(function(n,q){var p=new Image;p.onload=function(){return n(p)};p.onerror=function(){return q("Failed converting base64 to an image")};p.src=h.dataProto.metadata.sprite.imageBase64}));d.then(function(n){var q={stats:a.analyzeMetadata(k,m),pointsInfo:m};
null!=n&&(q.spriteImage=n,q.spriteMetadata={singleImageDim:h.dataProto.metadata.sprite.singleImageDim,imagePath:"proto"});g(q)})};c.prototype.getBookmarks=function(d,e,g){g([])};c.prototype.flatArrayToDataset=function(d){var e=[],g=this.dataProto.shape[0],h=this.dataProto.shape[1];if(g*h!==d.length)throw"The shape doesn't match the length of the flattened array";for(var k=0;k<g;k++){var l=k*h;e.push({vector:new Float32Array(d.slice(l,l+h)),metadata:{},projections:null,index:k})}return new a.DataSet(e)};
return c}();a.ProtoDataProvider=b})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/data-provider-server.js
(function(a){a.LIMIT_NUM_POINTS=1E5;var b=function(){function c(d){this.runProjectorConfigCache={};this.routePrefix=d}c.prototype.getEmbeddingInfo=function(d,e,g){this.retrieveProjectorConfig(d,function(h){h=h.embeddings;for(var k=0;k<h.length;k++){var l=h[k];if(l.tensorName===e){g(l);return}}g(null)})};c.prototype.retrieveRuns=function(d){var e=a.logging.setModalMessage("Fetching runs..."),g=new XMLHttpRequest;g.open("GET",this.routePrefix+"/runs");g.onerror=function(){a.logging.setErrorMessage(g.responseText,
"fetching runs")};g.onload=function(){var h=JSON.parse(g.responseText);a.logging.setModalMessage(null,e);d(h)};g.send()};c.prototype.retrieveProjectorConfig=function(d,e){var g=this;if(d in this.runProjectorConfigCache)e(this.runProjectorConfigCache[d]);else{var h=a.logging.setModalMessage("Fetching projector config..."),k=new XMLHttpRequest;k.open("GET",this.routePrefix+"/info?run\x3d"+d);k.onerror=function(){a.logging.setErrorMessage(k.responseText,"fetching projector config")};k.onload=function(){var l=
JSON.parse(k.responseText);a.logging.setModalMessage(null,h);g.runProjectorConfigCache[d]=l;e(l)};k.send()}};c.prototype.retrieveTensor=function(d,e,g){var h=this;this.getEmbeddingInfo(d,e,function(k){a.retrieveTensorAsBytes(k,h.routePrefix+"/tensor?run\x3d"+d+"\x26name\x3d"+e+("\x26num_rows\x3d"+a.LIMIT_NUM_POINTS),g)})};c.prototype.retrieveSpriteAndMetadata=function(d,e,g){var h=this;this.getEmbeddingInfo(d,e,function(k){var l=null;k.metadataPath&&(l=h.routePrefix+"/metadata?"+("run\x3d"+d+"\x26name\x3d"+
e+"\x26num_rows\x3d"+a.LIMIT_NUM_POINTS));var m=null;k.sprite&&k.sprite.imagePath&&(m=h.routePrefix+"/sprite_image?run\x3d"+d+"\x26name\x3d"+e);a.retrieveSpriteAndMetadataInfo(l,m,k.sprite,g)})};c.prototype.getBookmarks=function(d,e,g){var h=a.logging.setModalMessage("Fetching bookmarks..."),k=new XMLHttpRequest;k.open("GET",this.routePrefix+"/bookmarks?run\x3d"+d+"\x26name\x3d"+e);k.onerror=function(){a.logging.setErrorMessage(k.responseText,"fetching bookmarks")};k.onload=function(){a.logging.setModalMessage(null,
h);var l=JSON.parse(k.responseText);g(l)};k.send()};return c}();a.ServerDataProvider=b})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/projectorEventContext.js
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlot.js
(function(a){var b=new f.Vector3(.45,.9,1.6),c=new f.Vector3(0,0,0),d=new f.Vector3(0,0,4),e=new f.Vector3(0,0,0),g;(function(l){l[l.AREA_SELECT=0]="AREA_SELECT";l[l.CAMERA_AND_CLICK_SELECT=1]="CAMERA_AND_CLICK_SELECT"})(g=a.MouseMode||(a.MouseMode={}));var h=function(){return function(){this.orthographic=!1}}();a.CameraDef=h;var k=function(){function l(m,n){var q=this;this.container=m;this.projectorEventContext=n;this.visualizers=[];this.onCameraMoveListeners=[];this.backgroundColor=16777215;this.dimensionality=
3;this.cameraDef=null;this.isDragSequence=this.mouseIsDown=this.selecting=this.orbitAnimationOnNextCameraCreation=!1;this.getLayoutValues();this.scene=new f.Scene;this.renderer=new f.WebGLRenderer({alpha:!0,premultipliedAlpha:!1,antialias:!1});this.renderer.setClearColor(16777215,1);this.container.appendChild(this.renderer.domElement);this.light=new f.PointLight(16772287,1,0);this.scene.add(this.light);this.setDimensions(3);this.recreateCamera(this.makeDefaultCameraDef(this.dimensionality));this.renderer.render(this.scene,
this.camera);this.rectangleSelector=new a.ScatterPlotRectangleSelector(this.container,function(p){return q.selectBoundingBox(p)});this.addInteractionListeners()}l.prototype.addInteractionListeners=function(){this.container.addEventListener("mousemove",this.onMouseMove.bind(this));this.container.addEventListener("mousedown",this.onMouseDown.bind(this));this.container.addEventListener("mouseup",this.onMouseUp.bind(this));this.container.addEventListener("click",this.onClick.bind(this));window.addEventListener("keydown",
this.onKeyDown.bind(this),!1);window.addEventListener("keyup",this.onKeyUp.bind(this),!1)};l.prototype.addCameraControlsEventListeners=function(m){var n=this;m.addEventListener("start",function(){n.stopOrbitAnimation();n.onCameraMoveListeners.forEach(function(q){return q(n.camera.position,m.target)})});m.addEventListener("change",function(){n.render()});m.addEventListener("end",function(){})};l.prototype.makeOrbitControls=function(m,n,q){null!=this.orbitCameraControls&&this.orbitCameraControls.dispose();
var p=new f.OrbitControls(m,this.renderer.domElement);p.target0=new f.Vector3(n.target[0],n.target[1],n.target[2]);p.position0=(new f.Vector3).copy(m.position);p.zoom0=n.zoom;p.enableRotate=q;p.autoRotate=!1;p.rotateSpeed=1;q?(p.mouseButtons.ORBIT=f.MOUSE.LEFT,p.mouseButtons.PAN=f.MOUSE.RIGHT):(p.mouseButtons.ORBIT=null,p.mouseButtons.PAN=f.MOUSE.LEFT);p.reset();this.camera=m;this.orbitCameraControls=p;this.addCameraControlsEventListeners(this.orbitCameraControls)};l.prototype.makeCamera3D=function(m,
n,q){n=new f.PerspectiveCamera(70,n/q,.01,100);n.position.set(m.position[0],m.position[1],m.position[2]);n.lookAt(new f.Vector3(m.target[0],m.target[1],m.target[2]));n.zoom=m.zoom;n.updateProjectionMatrix();this.camera=n;this.makeOrbitControls(n,m,!0)};l.prototype.makeCamera2D=function(m,n,q){var p=new f.Vector3(m.target[0],m.target[1],m.target[2]);n/=q;q=-1.2;var t=1.2,r=-1.2,v=1.2;1<n?(q*=n,t*=n):(v/=n,r/=n);n=new f.OrthographicCamera(q,t,v,r,-1E3,1E3);n.position.set(m.position[0],m.position[1],
m.position[2]);n.up=new f.Vector3(0,1,0);n.lookAt(p);n.zoom=m.zoom;n.updateProjectionMatrix();this.camera=n;this.makeOrbitControls(n,m,!1)};l.prototype.makeDefaultCameraDef=function(m){var n=new h;n.orthographic=2===m;n.zoom=1;n.orthographic?(n.position=[d.x,d.y,d.z],n.target=[e.x,e.y,e.z]):(n.position=[b.x,b.y,b.z],n.target=[c.x,c.y,c.z]);return n};l.prototype.recreateCamera=function(m){m.orthographic?this.makeCamera2D(m,this.width,this.height):this.makeCamera3D(m,this.width,this.height);this.orbitCameraControls.minDistance=
.05;this.orbitCameraControls.maxDistance=10;this.orbitCameraControls.update();this.orbitAnimationOnNextCameraCreation&&this.startOrbitAnimation()};l.prototype.onClick=function(m,n){void 0===n&&(n=!0);m&&this.selecting||(!this.isDragSequence&&n&&this.projectorEventContext.notifySelectionChanged(null!=this.nearestPoint?[this.nearestPoint]:[]),this.isDragSequence=!1,this.render())};l.prototype.onMouseDown=function(m){this.isDragSequence=!1;this.mouseIsDown=!0;this.selecting?(this.orbitCameraControls.enabled=
!1,this.rectangleSelector.onMouseDown(m.offsetX,m.offsetY),this.setNearestPointToMouse(m)):!m.ctrlKey&&this.sceneIs3D()&&this.orbitCameraControls.mouseButtons.ORBIT===f.MOUSE.RIGHT?(this.orbitCameraControls.mouseButtons.ORBIT=f.MOUSE.LEFT,this.orbitCameraControls.mouseButtons.PAN=f.MOUSE.RIGHT):m.ctrlKey&&this.sceneIs3D()&&this.orbitCameraControls.mouseButtons.ORBIT===f.MOUSE.LEFT&&(this.orbitCameraControls.mouseButtons.ORBIT=f.MOUSE.RIGHT,this.orbitCameraControls.mouseButtons.PAN=f.MOUSE.LEFT)};
l.prototype.onMouseUp=function(){this.selecting&&(this.orbitCameraControls.enabled=!0,this.rectangleSelector.onMouseUp(),this.render());this.mouseIsDown=!1};l.prototype.onMouseMove=function(m){this.isDragSequence=this.mouseIsDown;this.selecting&&this.mouseIsDown?(this.rectangleSelector.onMouseMove(m.offsetX,m.offsetY),this.render()):this.mouseIsDown||(this.setNearestPointToMouse(m),this.projectorEventContext.notifyHoverOverPoint(this.nearestPoint))};l.prototype.onKeyDown=function(m){17===m.keyCode&&
this.sceneIs3D()&&(this.orbitCameraControls.mouseButtons.ORBIT=f.MOUSE.RIGHT,this.orbitCameraControls.mouseButtons.PAN=f.MOUSE.LEFT);16===m.keyCode&&(this.selecting=!0,this.container.style.cursor="crosshair")};l.prototype.onKeyUp=function(m){17===m.keyCode&&this.sceneIs3D()&&(this.orbitCameraControls.mouseButtons.ORBIT=f.MOUSE.LEFT,this.orbitCameraControls.mouseButtons.PAN=f.MOUSE.RIGHT);16===m.keyCode&&(this.selecting=this.getMouseMode()===g.AREA_SELECT,this.selecting||(this.container.style.cursor=
"default"),this.render())};l.prototype.getPointIndicesFromPickingTexture=function(m){if(null==this.worldSpacePointPositions)return null;var n=this.worldSpacePointPositions.length/3,q=window.devicePixelRatio||1,p=Math.floor(m.width*q),t=Math.floor(m.height*q),r=new Uint8Array(p*t*4);this.renderer.readRenderTargetPixels(this.pickingTexture,Math.floor(m.x*q),this.pickingTexture.height-Math.floor(m.y*q),p,t,r);m=new Uint8Array(this.worldSpacePointPositions.length);for(q=0;q<p*t;q++){var v=r[4*q]<<16|
r[4*q+1]<<8|r[4*q+2];16777215!==v&&v<n&&(m[v]=1)}n=[];for(q=0;q<m.length;q++)1===m[q]&&n.push(q);return n};l.prototype.selectBoundingBox=function(m){m=this.getPointIndicesFromPickingTexture(m);this.projectorEventContext.notifySelectionChanged(m)};l.prototype.setNearestPointToMouse=function(m){null==this.pickingTexture?this.nearestPoint=null:(m=this.getPointIndicesFromPickingTexture({x:m.offsetX,y:m.offsetY,width:1,height:1}),this.nearestPoint=null!=m?m[0]:null)};l.prototype.getLayoutValues=function(){this.width=
this.container.offsetWidth;this.height=Math.max(1,this.container.offsetHeight);return[this.width,this.height]};l.prototype.sceneIs3D=function(){return 3===this.dimensionality};l.prototype.remove3dAxisFromScene=function(){var m=this.scene.getObjectByName("axes");null!=m&&this.scene.remove(m);return m};l.prototype.add3dAxis=function(){var m=new f.AxisHelper;m.name="axes";this.scene.add(m)};l.prototype.setDimensions=function(m){if(2!==m&&3!==m)throw new RangeError("dimensionality must be 2 or 3");this.dimensionality=
m;var n=this.cameraDef||this.makeDefaultCameraDef(m);this.recreateCamera(n);this.remove3dAxisFromScene();3===m&&this.add3dAxis()};l.prototype.getCameraDef=function(){var m=new h,n=this.camera.position,q=this.orbitCameraControls.target;m.orthographic=!this.sceneIs3D();m.position=[n.x,n.y,n.z];m.target=[q.x,q.y,q.z];m.zoom=this.camera.zoom;return m};l.prototype.setCameraParametersForNextCameraCreation=function(m,n){this.cameraDef=m;this.orbitAnimationOnNextCameraCreation=n};l.prototype.getCameraPosition=
function(){var m=this.camera.position;return[m.x,m.y,m.z]};l.prototype.getCameraTarget=function(){var m=this.orbitCameraControls.target;return[m.x,m.y,m.z]};l.prototype.setCameraPositionAndTarget=function(m,n){this.stopOrbitAnimation();this.camera.position.set(m[0],m[1],m[2]);this.orbitCameraControls.target.set(n[0],n[1],n[2]);this.orbitCameraControls.update();this.render()};l.prototype.startOrbitAnimation=function(){this.sceneIs3D()&&(null!=this.orbitAnimationId&&this.stopOrbitAnimation(),this.orbitCameraControls.autoRotate=
!0,this.orbitCameraControls.rotateSpeed=7,this.updateOrbitAnimation())};l.prototype.updateOrbitAnimation=function(){var m=this;this.orbitCameraControls.update();this.orbitAnimationId=requestAnimationFrame(function(){return m.updateOrbitAnimation()})};l.prototype.stopOrbitAnimation=function(){this.orbitCameraControls.autoRotate=!1;this.orbitCameraControls.rotateSpeed=1;null!=this.orbitAnimationId&&(cancelAnimationFrame(this.orbitAnimationId),this.orbitAnimationId=null)};l.prototype.addVisualizer=function(m){this.scene&&
m.setScene(this.scene);m.onResize(this.width,this.height);m.onPointPositionsChanged(this.worldSpacePointPositions);this.visualizers.push(m)};l.prototype.removeAllVisualizers=function(){this.visualizers.forEach(function(m){return m.dispose()});this.visualizers=[]};l.prototype.setPointPositions=function(m){this.worldSpacePointPositions=m;this.visualizers.forEach(function(n){return n.onPointPositionsChanged(m)})};l.prototype.render=function(){var m=this.camera.position.clone();m.x+=1;m.y+=1;this.light.position.set(m.x,
m.y,m.z);m=this.camera instanceof f.PerspectiveCamera?a.CameraType.Perspective:a.CameraType.Orthographic;var n=[0,0];null!=this.worldSpacePointPositions&&(n=a.util.getNearFarPoints(this.worldSpacePointPositions,this.camera.position,this.orbitCameraControls.target));var q=new a.RenderContext(this.camera,m,this.orbitCameraControls.target,this.width,this.height,n[0],n[1],this.backgroundColor,this.pointColors,this.pointScaleFactors,this.labels,this.polylineColors,this.polylineOpacities,this.polylineWidths);
this.visualizers.forEach(function(p){return p.onPickingRender(q)});m=this.remove3dAxisFromScene();this.renderer.render(this.scene,this.camera,this.pickingTexture);null!=m&&this.scene.add(m);this.visualizers.forEach(function(p){return p.onRender(q)});this.renderer.render(this.scene,this.camera)};l.prototype.setMouseMode=function(m){this.mouseMode=m;m===g.AREA_SELECT?(this.selecting=!0,this.container.style.cursor="crosshair"):(this.selecting=!1,this.container.style.cursor="default")};l.prototype.setPointColors=
function(m){this.pointColors=m};l.prototype.setPointScaleFactors=function(m){this.pointScaleFactors=m};l.prototype.setLabels=function(m){this.labels=m};l.prototype.setPolylineColors=function(m){this.polylineColors=m};l.prototype.setPolylineOpacities=function(m){this.polylineOpacities=m};l.prototype.setPolylineWidths=function(m){this.polylineWidths=m};l.prototype.getMouseMode=function(){return this.mouseMode};l.prototype.resetZoom=function(){this.recreateCamera(this.makeDefaultCameraDef(this.dimensionality));
this.render()};l.prototype.setDayNightMode=function(m){var n=this.container.querySelectorAll("canvas");m=m?"invert(100%)":null;for(var q=0;q<n.length;q++)n[q].style.filter=m};l.prototype.resize=function(m){void 0===m&&(m=!0);var n=[this.width,this.height],q=n[0];n=n[1];var p=this.getLayoutValues(),t=p[0],r=p[1];3===this.dimensionality?(p=this.camera,p.aspect=t/r):(p=this.camera,q=t/q*(p.right-p.left)/2,n=r/n*(p.top-p.bottom)/2,p.top=n,p.bottom=-n,p.left=-q,p.right=q);p.updateProjectionMatrix();this.renderer.setPixelRatio();
this.renderer.setSize(t,r);q=this.renderer.getSize();n=this.renderer.getPixelRatio();this.pickingTexture=new f.WebGLRenderTarget(q.width*n,q.height*n);this.pickingTexture.texture.minFilter=f.LinearFilter;this.visualizers.forEach(function(v){return v.onResize(t,r)});m&&this.render()};l.prototype.onCameraMove=function(m){this.onCameraMoveListeners.push(m)};l.prototype.clickOnPoint=function(m){this.nearestPoint=m;this.onClick(null,!1)};return l}();a.ScatterPlot=k})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotVisualizer3DLabels.js
(function(a){var b=function(){function c(){}c.prototype.createGlyphTexture=function(){var d=document.createElement("canvas");d.width=8192;d.height=80;var e=d.getContext("2d");e.font="bold 60px roboto";e.textBaseline="top";e.fillStyle="white";e.rect(0,0,d.width,d.height);e.fill();e.fillStyle="black";for(var g=e.measureText(" ").width,h=new Float32Array(256),k=new Float32Array(256),l=0,m=0;256>m;m++){var n=" "+String.fromCharCode(m),q=e.measureText(n).width;h[m]=q-g;k[m]=l;e.fillText(n,l-g,0);l+=q}return{texture:a.util.createTexture(d),
lengths:h,offsets:k}};c.prototype.processLabelVerts=function(d){var e=0;this.labelVertexMap=[];for(var g=0;g<d;g++){for(var h=this.labelStrings[g],k=[],l=0;l<h.length;l++){for(var m=0;6>m;m++)k.push(6*e+m);e++}this.labelVertexMap.push(k)}this.totalVertexCount=6*e};c.prototype.createColorBuffers=function(d){function e(l){var m=new f.Color(l);h.labelVertexMap[l].forEach(function(n){g.pickingColors[3*n]=m.r;g.pickingColors[3*n+1]=m.g;g.pickingColors[3*n+2]=m.b;g.renderColors[3*n]=1;g.renderColors[3*
n+1]=1;g.renderColors[3*n+2]=1})}var g=this;this.pickingColors=new Float32Array(3*this.totalVertexCount);this.renderColors=new Float32Array(3*this.totalVertexCount);for(var h=this,k=0;k<d;k++)e(k)};c.prototype.createLabels=function(){var d=this;if(null!=this.labelStrings&&null!=this.worldSpacePointPositions){var e=this.worldSpacePointPositions.length/3;if(e===this.labelStrings.length){this.glyphTexture=this.createGlyphTexture();this.uniforms={texture:{type:"t"},picking:{type:"bool"}};this.material=
new f.ShaderMaterial({uniforms:this.uniforms,transparent:!0,vertexShader:"\n    attribute vec2 posObj;\n    attribute vec3 color;\n    varying vec2 vUv;\n    varying vec3 vColor;\n\n    void main() {\n      vUv \x3d uv;\n      vColor \x3d color;\n\n      // Rotate label to face camera.\n\n      vec4 vRight \x3d vec4(\n        modelViewMatrix[0][0], modelViewMatrix[1][0], modelViewMatrix[2][0], 0);\n\n      vec4 vUp \x3d vec4(\n        modelViewMatrix[0][1], modelViewMatrix[1][1], modelViewMatrix[2][1], 0);\n\n      vec4 vAt \x3d -vec4(\n        modelViewMatrix[0][2], modelViewMatrix[1][2], modelViewMatrix[2][2], 0);\n\n      mat4 pointToCamera \x3d mat4(vRight, vUp, vAt, vec4(0, 0, 0, 1));\n\n      vec2 scaledPos \x3d posObj * 0.0125 * 2.2;\n\n      vec4 posRotated \x3d pointToCamera * vec4(scaledPos, 0, 1);\n      vec4 mvPosition \x3d modelViewMatrix * (vec4(position, 0) + posRotated);\n      gl_Position \x3d projectionMatrix * mvPosition;\n    }",
fragmentShader:"\n    uniform sampler2D texture;\n    uniform bool picking;\n    varying vec2 vUv;\n    varying vec3 vColor;\n\n    void main() {\n      if (picking) {\n        gl_FragColor \x3d vec4(vColor, 1.0);\n      } else {\n        vec4 fromTexture \x3d texture2D(texture, vUv);\n        gl_FragColor \x3d vec4(vColor, 1.0) * fromTexture;\n      }\n    }"});this.processLabelVerts(e);this.createColorBuffers(e);this.positions=new f.BufferAttribute(new Float32Array(3*this.totalVertexCount),3);var g=
new Float32Array(2*this.totalVertexCount),h=new Float32Array(3*this.totalVertexCount),k=new f.BufferAttribute(new Float32Array(3*this.totalVertexCount),2);g=new f.BufferAttribute(g,2);h=new f.BufferAttribute(h,3);this.geometry=new f.BufferGeometry;this.geometry.addAttribute("posObj",k);this.geometry.addAttribute("position",this.positions);this.geometry.addAttribute("uv",g);this.geometry.addAttribute("color",h);var l=0;for(h=0;h<e;h++){for(var m=this.labelStrings[h],n=0,q=0;q<m.length;q++){var p=m.charCodeAt(q);
n+=this.glyphTexture.lengths[p]}n/=-2;for(q=0;q<m.length;q++){p=m.charCodeAt(q);var t=this.glyphTexture.lengths[p],r=(n+t)/80,v=n/80;k.setXY(6*l,v,0);k.setXY(6*l+1,r,0);k.setXY(6*l+2,v,1);k.setXY(6*l+3,v,1);k.setXY(6*l+4,r,0);k.setXY(6*l+5,r,1);r=this.glyphTexture.offsets[p];p=this.glyphTexture.offsets[p]+t;r/=8192;p/=8192;g.setXY(6*l,r,1);g.setXY(6*l+1,p,1);g.setXY(6*l+2,r,0);g.setXY(6*l+3,r,0);g.setXY(6*l+4,p,1);g.setXY(6*l+5,p,0);l++;n+=t}}k=function(w){var x=a.util.vector3FromPackedArray(u.worldSpacePointPositions,
w);u.labelVertexMap[w].forEach(function(A){d.positions.setXYZ(A,x.x,x.y,x.z)})};var u=this;for(h=0;h<e;h++)k(h);this.labelsMesh=new f.Mesh(this.geometry,this.material);this.labelsMesh.frustumCulled=!1;this.scene.add(this.labelsMesh)}}};c.prototype.colorLabels=function(d){if(null!=this.labelStrings&&null!=this.geometry&&null!=d){var e=this.geometry.getAttribute("color");e.array=this.renderColors;for(var g=d.length/3,h=0,k=0;k<g;++k){for(var l=new f.Color(d[h],d[h+1],d[h+2]),m=this.labelVertexMap[k].length,
n=0;n<m;++n)e.setXYZ(this.labelVertexMap[k][n],l.r,l.g,l.b);h+=3}e.needsUpdate=!0}};c.prototype.setScene=function(d){this.scene=d};c.prototype.dispose=function(){this.labelsMesh&&(this.scene&&this.scene.remove(this.labelsMesh),this.labelsMesh=null);this.geometry&&(this.geometry.dispose(),this.geometry=null);null!=this.glyphTexture&&null!=this.glyphTexture.texture&&(this.glyphTexture.texture.dispose(),this.glyphTexture.texture=null)};c.prototype.onPickingRender=function(){null==this.geometry&&this.createLabels();
if(null!=this.geometry){this.material.uniforms.texture.value=this.glyphTexture.texture;this.material.uniforms.picking.value=!0;var d=this.geometry.getAttribute("color");d.array=this.pickingColors;d.needsUpdate=!0}};c.prototype.onRender=function(d){null==this.geometry&&this.createLabels();null!=this.geometry&&(this.colorLabels(d.pointColors),this.material.uniforms.texture.value=this.glyphTexture.texture,this.material.uniforms.picking.value=!1,d=this.geometry.getAttribute("color"),d.array=this.renderColors,
d.needsUpdate=!0)};c.prototype.onPointPositionsChanged=function(d){this.worldSpacePointPositions=d;this.dispose()};c.prototype.setLabelStrings=function(d){this.labelStrings=d;this.dispose()};c.prototype.onResize=function(){};return c}();a.ScatterPlotVisualizer3DLabels=b})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotVisualizerCanvasLabels.js
(function(a){var b=function(){function c(d){this.labelsActive=!0;this.canvas=document.createElement("canvas");d.appendChild(this.canvas);this.gc=this.canvas.getContext("2d");this.canvas.style.position="absolute";this.canvas.style.left="0";this.canvas.style.top="0";this.canvas.style.pointerEvents="none"}c.prototype.removeAllLabels=function(){this.gc.clearRect(0,0,this.canvas.width*window.devicePixelRatio,this.canvas.height*window.devicePixelRatio)};c.prototype.makeLabels=function(d){if(null!=d.labels&&
0!==d.labels.pointIndices.length&&null!=this.worldSpacePointPositions){var e=d.labels,g=d.cameraType===a.CameraType.Perspective,h=parseInt(this.gc.font,10),k=window.devicePixelRatio;var l=this.canvas.width*k;var m=this.canvas.height*k;l=new a.CollisionGrid({loX:0,hiX:l,loY:0,hiY:m},l/25,m/50);m=d3.scalePow().exponent(Math.E).domain([d.farthestCameraSpacePointZ,d.nearestCameraSpacePointZ]).range([.1,1]);var n=d.camera.position,q=n.clone().sub(d.cameraTarget),p=new f.Vector3;this.gc.textBaseline="middle";
this.gc.miterLimit=2;for(var t=Math.min(1E4,e.pointIndices.length),r=0;r<t;++r){var v=a.util.vector3FromPackedArray(this.worldSpacePointPositions,e.pointIndices[r]);p.copy(n).sub(v);if(!(0>q.dot(p))){var u=a.util.vector3DToScreenCoords(d.camera,d.screenWidth,d.screenHeight,v);v=u[0];u=u[1];v+=4;var w={loX:v-2,hiX:v+1+2,loY:u-h/2-2,hiY:u+h/2+2};if(l.insert(w,!0)){var x=e.labelStrings[r];this.gc.font=e.defaultFontSize*e.scaleFactors[r]*k+"px roboto";w.hiX+=this.gc.measureText(x).width-1;l.insert(w)&&
(w=1,g&&1===e.useSceneOpacityFlags[r]&&(w=m(p.length())),this.gc.fillStyle=this.styleStringFromPackedRgba(e.fillColors,r,w),this.gc.strokeStyle=this.styleStringFromPackedRgba(e.strokeColors,r,w),this.gc.lineWidth=3,this.gc.strokeText(x,v,u),this.gc.lineWidth=6,this.gc.fillText(x,v,u))}}}}};c.prototype.styleStringFromPackedRgba=function(d,e,g){e*=3;return"rgba("+d[e]+","+d[e+1]+","+d[e+2]+","+g+")"};c.prototype.onResize=function(d,e){var g=window.devicePixelRatio;this.canvas.width=d*g;this.canvas.height=
e*g;this.canvas.style.width=d+"px";this.canvas.style.height=e+"px"};c.prototype.dispose=function(){this.removeAllLabels();this.gc=this.canvas=null};c.prototype.onPointPositionsChanged=function(d){this.worldSpacePointPositions=d;this.removeAllLabels()};c.prototype.onRender=function(d){this.labelsActive&&(this.removeAllLabels(),this.makeLabels(d))};c.prototype.setScene=function(){};c.prototype.onPickingRender=function(){};return c}();a.ScatterPlotVisualizerCanvasLabels=b})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotVisualizerPolylines.js
(function(a){var b=function(){function c(){this.polylinePositionBuffer={};this.polylineColorBuffer={}}c.prototype.updateSequenceIndicesInDataSet=function(d){for(var e=0;e<d.sequences.length;e++)for(var g=d.sequences[e],h=0;h<g.pointIndices.length-1;h++)d.points[g.pointIndices[h]].sequenceIndex=e,d.points[g.pointIndices[h+1]].sequenceIndex=e};c.prototype.createPolylines=function(d){if(this.dataSet&&this.dataSet.sequences){this.updateSequenceIndicesInDataSet(this.dataSet);this.polylines=[];for(var e=
0;e<this.dataSet.sequences.length;e++){var g=new f.BufferGeometry;g.addAttribute("position",this.polylinePositionBuffer[e]);g.addAttribute("color",this.polylineColorBuffer[e]);var h=new f.LineBasicMaterial({linewidth:1,opacity:1,transparent:!0,vertexColors:f.VertexColors});g=new f.LineSegments(g,h);g.frustumCulled=!1;this.polylines.push(g);d.add(g)}}};c.prototype.dispose=function(){if(null!=this.polylines){for(var d=0;d<this.polylines.length;d++)this.scene.remove(this.polylines[d]),this.polylines[d].geometry.dispose();
this.polylines=null;this.polylinePositionBuffer={};this.polylineColorBuffer={}}};c.prototype.setScene=function(d){this.scene=d};c.prototype.setDataSet=function(d){this.dataSet=d};c.prototype.onPointPositionsChanged=function(d){null!=d&&null==this.polylines||this.dispose();if(null!=d&&null!=this.dataSet){for(var e=0;e<this.dataSet.sequences.length;e++){var g=this.dataSet.sequences[e];g=2*(g.pointIndices.length-1);this.polylinePositionBuffer[e]=new f.BufferAttribute(new Float32Array(3*g),3);this.polylineColorBuffer[e]=
new f.BufferAttribute(new Float32Array(3*g),3)}for(e=0;e<this.dataSet.sequences.length;e++){g=this.dataSet.sequences[e];for(var h=0,k=0;k<g.pointIndices.length-1;k++){var l=a.util.vector3FromPackedArray(d,g.pointIndices[k]),m=a.util.vector3FromPackedArray(d,g.pointIndices[k+1]);this.polylinePositionBuffer[e].setXYZ(h,l.x,l.y,l.z);this.polylinePositionBuffer[e].setXYZ(h+1,m.x,m.y,m.z);h+=2}this.polylinePositionBuffer[e].needsUpdate=!0}null==this.polylines&&this.createPolylines(this.scene)}};c.prototype.onRender=
function(d){if(null!=this.polylines)for(var e=0;e<this.polylines.length;e++)this.polylines[e].material.opacity=d.polylineOpacities[e],this.polylines[e].material.linewidth=d.polylineWidths[e],this.polylineColorBuffer[e].array=d.polylineColors[e],this.polylineColorBuffer[e].needsUpdate=!0};c.prototype.onPickingRender=function(){};c.prototype.onResize=function(){};return c}();a.ScatterPlotVisualizerPolylines=b})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotVisualizerSprites.js
(function(a){var b="\n  // Index of the specific vertex (passed in as bufferAttribute), and the\n  // variable that will be used to pass it to the fragment shader.\n  attribute float spriteIndex;\n  attribute vec3 color;\n  attribute float scaleFactor;\n\n  varying vec2 xyIndex;\n  varying vec3 vColor;\n\n  uniform bool sizeAttenuation;\n  uniform float pointSize;\n  uniform float spritesPerRow;\n  uniform float spritesPerColumn;\n\n  void main() {\n    // Pass index and color values to fragment shader.\n    vColor \x3d color;\n    xyIndex \x3d vec2(mod(spriteIndex, spritesPerRow),\n              floor(spriteIndex / spritesPerColumn));\n\n    // Transform current vertex by modelViewMatrix (model world position and\n    // camera world position matrix).\n    vec4 cameraSpacePos \x3d modelViewMatrix * vec4(position, 1.0);\n\n    // Project vertex in camera-space to screen coordinates using the camera's\n    // projection matrix.\n    gl_Position \x3d projectionMatrix * cameraSpacePos;\n\n    // Create size attenuation (if we're in 3D mode) by making the size of\n    // each point inversly proportional to its distance to the camera.\n    float outputPointSize \x3d pointSize;\n    if (sizeAttenuation) {\n      outputPointSize \x3d -pointSize / cameraSpacePos.z;\n    } else {  // Create size attenuation (if we're in 2D mode)\n      const float PI \x3d 3.1415926535897932384626433832795;\n      const float minScale \x3d 0.1;  // minimum scaling factor\n      const float outSpeed \x3d 2.0;  // shrink speed when zooming out\n      const float outNorm \x3d (1. - minScale) / atan(outSpeed);\n      const float maxScale \x3d 15.0;  // maximum scaling factor\n      const float inSpeed \x3d 0.02;  // enlarge speed when zooming in\n      const float zoomOffset \x3d 0.3;  // offset zoom pivot\n      float zoom \x3d projectionMatrix[0][0] + zoomOffset;  // zoom pivot\n      float scale \x3d zoom \x3c 1. ? 1. + outNorm * atan(outSpeed * (zoom - 1.)) :\n                    1. + 2. / PI * (maxScale - 1.) * atan(inSpeed * (zoom - 1.));\n      outputPointSize \x3d pointSize * scale;\n    }\n\n    gl_PointSize \x3d\n      max(outputPointSize * scaleFactor, "+
(5).toFixed(1)+");\n  }",c="\n  varying vec2 xyIndex;\n  varying vec3 vColor;\n\n  uniform sampler2D texture;\n  uniform float spritesPerRow;\n  uniform float spritesPerColumn;\n  uniform bool isImage;\n\n  "+f.ShaderChunk.common+"\n  "+f.ShaderChunk.fog_pars_fragment+"\n  \n  bool point_in_unit_circle(vec2 spriteCoord) {\n    vec2 centerToP \x3d spriteCoord - vec2(0.5, 0.5);\n    return dot(centerToP, centerToP) \x3c (0.5 * 0.5);\n  }\n\n  bool point_in_unit_equilateral_triangle(vec2 spriteCoord) {\n    vec3 v0 \x3d vec3(0, 1, 0);\n    vec3 v1 \x3d vec3(0.5, 0, 0);\n    vec3 v2 \x3d vec3(1, 1, 0);\n    vec3 p \x3d vec3(spriteCoord, 0);\n    float p_in_v0_v1 \x3d cross(v1 - v0, p - v0).z;\n    float p_in_v1_v2 \x3d cross(v2 - v1, p - v1).z;\n    return (p_in_v0_v1 \x3e 0.0) \x26\x26 (p_in_v1_v2 \x3e 0.0);\n  }\n\n  bool point_in_unit_square(vec2 spriteCoord) {\n    return true;\n  }\n\n\n  void main() {\n    if (isImage) {\n      // Coordinates of the vertex within the entire sprite image.\n      vec2 coords \x3d\n        (gl_PointCoord + xyIndex) / vec2(spritesPerRow, spritesPerColumn);\n      gl_FragColor \x3d vec4(vColor, 1.0) * texture2D(texture, coords);\n    } else {\n      bool inside \x3d point_in_unit_circle(gl_PointCoord);\n      if (!inside) {\n        discard;\n      }\n      gl_FragColor \x3d vec4(vColor, 1);\n    }\n    "+
f.ShaderChunk.fog_fragment+"\n  }",d=function(){function e(){this.texture=null;this.standinTextureForPoints=a.util.createTexture(document.createElement("canvas"));this.renderMaterial=this.createRenderMaterial(!1);this.pickingMaterial=this.createPickingMaterial()}e.prototype.createTextureFromSpriteAtlas=function(g,h,k){this.texture=a.util.createTexture(g);this.spritesPerRow=g.width/h[0];this.spritesPerColumn=g.height/h[1];this.spriteDimensions=h;this.spriteIndexBufferAttribute=new f.BufferAttribute(k,
1);null!=this.points&&this.points.geometry.addAttribute("spriteIndex",this.spriteIndexBufferAttribute)};e.prototype.createUniforms=function(){return{texture:{type:"t"},spritesPerRow:{type:"f"},spritesPerColumn:{type:"f"},fogColor:{type:"c"},fogNear:{type:"f"},fogFar:{type:"f"},isImage:{type:"bool"},sizeAttenuation:{type:"bool"},pointSize:{type:"f"}}};e.prototype.createRenderMaterial=function(g){return new f.ShaderMaterial({uniforms:this.createUniforms(),vertexShader:b,fragmentShader:c,transparent:!g,
depthTest:g,depthWrite:g,fog:!0,blending:f.MultiplyBlending})};e.prototype.createPickingMaterial=function(){return new f.ShaderMaterial({uniforms:this.createUniforms(),vertexShader:b,fragmentShader:"\n  varying vec2 xyIndex;\n  varying vec3 vColor;\n  uniform bool isImage;\n\n  \n  bool point_in_unit_circle(vec2 spriteCoord) {\n    vec2 centerToP \x3d spriteCoord - vec2(0.5, 0.5);\n    return dot(centerToP, centerToP) \x3c (0.5 * 0.5);\n  }\n\n  bool point_in_unit_equilateral_triangle(vec2 spriteCoord) {\n    vec3 v0 \x3d vec3(0, 1, 0);\n    vec3 v1 \x3d vec3(0.5, 0, 0);\n    vec3 v2 \x3d vec3(1, 1, 0);\n    vec3 p \x3d vec3(spriteCoord, 0);\n    float p_in_v0_v1 \x3d cross(v1 - v0, p - v0).z;\n    float p_in_v1_v2 \x3d cross(v2 - v1, p - v1).z;\n    return (p_in_v0_v1 \x3e 0.0) \x26\x26 (p_in_v1_v2 \x3e 0.0);\n  }\n\n  bool point_in_unit_square(vec2 spriteCoord) {\n    return true;\n  }\n\n\n  void main() {\n    xyIndex; // Silence 'unused variable' warning.\n    if (isImage) {\n      gl_FragColor \x3d vec4(vColor, 1);\n    } else {\n      bool inside \x3d point_in_unit_circle(gl_PointCoord);\n      if (!inside) {\n        discard;\n      }\n      gl_FragColor \x3d vec4(vColor, 1);\n    }\n  }",
transparent:!0,depthTest:!0,depthWrite:!0,fog:!1,blending:f.NormalBlending})};e.prototype.createPointSprites=function(g,h){h=this.createGeometry(null!=h?h.length/3:0);this.fog=new f.Fog(16777215);this.points=new f.Points(h,this.renderMaterial);this.points.frustumCulled=!1;null!=this.spriteIndexBufferAttribute&&this.points.geometry.addAttribute("spriteIndex",this.spriteIndexBufferAttribute);g.add(this.points)};e.prototype.calculatePointSize=function(g){if(null!=this.texture)return g?30:this.spriteDimensions[0];
var h=200/Math.log(null!=this.worldSpacePointPositions?this.worldSpacePointPositions.length/3:1)/Math.log(8);return g?h:h/1.5};e.prototype.createGeometry=function(g){this.pickingColors=new Float32Array(3*g);for(var h=0,k=0;k<g;k++){var l=new f.Color(k);this.pickingColors[h++]=l.r;this.pickingColors[h++]=l.g;this.pickingColors[h++]=l.b}g=new f.BufferGeometry;g.addAttribute("position",new f.BufferAttribute(null,3));g.addAttribute("color",new f.BufferAttribute(null,3));g.addAttribute("scaleFactor",new f.BufferAttribute(null,
1));return g};e.prototype.setFogDistances=function(g,h,k){g?(g=this.worldSpacePointPositions.length/3,this.fog.near=h,this.fog.far=k*(2-Math.min(g,5E3)/5E3)):(this.fog.near=Infinity,this.fog.far=Infinity)};e.prototype.dispose=function(){this.disposeGeometry();this.disposeTextureAtlas()};e.prototype.disposeGeometry=function(){null!=this.points&&(this.scene.remove(this.points),this.points.geometry.dispose(),this.worldSpacePointPositions=this.points=null)};e.prototype.disposeTextureAtlas=function(){null!=
this.texture&&this.texture.dispose();this.pickingMaterial=this.renderMaterial=this.texture=null};e.prototype.setScene=function(g){this.scene=g};e.prototype.setSpriteAtlas=function(g,h,k){this.disposeTextureAtlas();this.createTextureFromSpriteAtlas(g,h,k);this.renderMaterial=this.createRenderMaterial(!0);this.pickingMaterial=this.createPickingMaterial()};e.prototype.clearSpriteAtlas=function(){this.disposeTextureAtlas();this.renderMaterial=this.createRenderMaterial(!1);this.pickingMaterial=this.createPickingMaterial()};
e.prototype.onPointPositionsChanged=function(g){if(null==g||0===g.length)this.dispose();else{null!=this.points&&this.worldSpacePointPositions.length!==g.length&&this.disposeGeometry();this.worldSpacePointPositions=g;null==this.points&&this.createPointSprites(this.scene,g);var h=this.points.geometry.getAttribute("position");h.array=g;h.needsUpdate=!0}};e.prototype.onPickingRender=function(g){if(null!=this.points){var h=g.cameraType===a.CameraType.Perspective;this.pickingMaterial.uniforms.spritesPerRow.value=
this.spritesPerRow;this.pickingMaterial.uniforms.spritesPerRow.value=this.spritesPerColumn;this.pickingMaterial.uniforms.sizeAttenuation.value=h;this.pickingMaterial.uniforms.pointSize.value=this.calculatePointSize(h);this.points.material=this.pickingMaterial;h=this.points.geometry.getAttribute("color");h.array=this.pickingColors;h.needsUpdate=!0;h=this.points.geometry.getAttribute("scaleFactor");h.array=g.pointScaleFactors;h.needsUpdate=!0}};e.prototype.onRender=function(g){if(this.points){var h=
g.camera instanceof f.PerspectiveCamera;this.setFogDistances(h,g.nearestCameraSpacePointZ,g.farthestCameraSpacePointZ);this.scene.fog=this.fog;this.scene.fog.color=new f.Color(g.backgroundColor);this.renderMaterial.uniforms.fogColor.value=this.scene.fog.color;this.renderMaterial.uniforms.fogNear.value=this.fog.near;this.renderMaterial.uniforms.fogFar.value=this.fog.far;this.renderMaterial.uniforms.spritesPerRow.value=this.spritesPerRow;this.renderMaterial.uniforms.spritesPerColumn.value=this.spritesPerColumn;
this.renderMaterial.uniforms.isImage.value=null!=this.texture;this.renderMaterial.uniforms.texture.value=null!=this.texture?this.texture:this.standinTextureForPoints;this.renderMaterial.uniforms.sizeAttenuation.value=h;this.renderMaterial.uniforms.pointSize.value=this.calculatePointSize(h);this.points.material=this.renderMaterial;h=this.points.geometry.getAttribute("color");this.renderColors=g.pointColors;h.array=this.renderColors;h.needsUpdate=!0;h=this.points.geometry.getAttribute("scaleFactor");
h.array=g.pointScaleFactors;h.needsUpdate=!0}};e.prototype.onResize=function(){};return e}();a.ScatterPlotVisualizerSprites=d})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotVisualizer.js
</script>
<script>//~~WEBPATH~~/vz-projector/projectorScatterPlotAdapter.js
(function(a){function b(l,m,n,q,p){l[3*m]=n;l[3*m+1]=q;l[3*m+2]=p}function c(l){l=new f.Color(l);return[255*l.r|0,255*l.g|0,255*l.b|0]}function d(l,m){l=d3.hsl(60+300*l/m,1,.3).rgb();return new f.Color(l.r/255,l.g/255,l.b/255)}function e(l,m,n){return l===a.vector.dist?n/m:1-m}function g(l,m,n){return h(e(l,m,n))}var h=d3.scaleLinear().domain([1,.7,.4]).range(["hsl(285, 80%, 40%)","hsl(0, 80%, 65%)","hsl(40, 70%, 60%)"]).clamp(!0),k=function(){function l(m,n){var q=this;this.scatterPlotContainer=
m;this.renderLabelsIn3D=!1;this.scatterPlot=new a.ScatterPlot(m,n);n.registerProjectionChangedListener(function(p){q.projection=p;q.updateScatterPlotWithNewProjection(p)});n.registerSelectionChangedListener(function(p,t){q.selectedPointIndices=p;q.neighborsOfFirstSelectedPoint=t;q.updateScatterPlotPositions();q.updateScatterPlotAttributes();q.scatterPlot.render()});n.registerHoverListener(function(p){q.hoverPointIndex=p;q.updateScatterPlotAttributes();q.scatterPlot.render()});n.registerDistanceMetricChangedListener(function(p){q.distanceMetric=
p;q.updateScatterPlotAttributes();q.scatterPlot.render()});this.createVisualizers(!1)}l.prototype.notifyProjectionPositionsUpdated=function(){this.updateScatterPlotPositions();this.scatterPlot.render()};l.prototype.setDataSet=function(m){null!=this.projection&&(this.projection.dataSet=m);null!=this.polylineVisualizer&&this.polylineVisualizer.setDataSet(m);null!=this.labels3DVisualizer&&this.labels3DVisualizer.setLabelStrings(this.generate3DLabelsArray(m,this.labelPointAccessor));if(null!=this.spriteVisualizer&&
(this.spriteVisualizer.clearSpriteAtlas(),null!=m&&null!=m.spriteAndMetadataInfo)){var n=m.spriteAndMetadataInfo;if(null!=n.spriteImage&&null!=n.spriteMetadata){for(var q=m.points.length,p=new Float32Array(q),t=0;t<q;++t)p[t]=m.points[t].index;this.spriteVisualizer.setSpriteAtlas(n.spriteImage,n.spriteMetadata.singleImageDim,p)}}};l.prototype.set3DLabelMode=function(m){this.renderLabelsIn3D=m;this.createVisualizers(m);this.updateScatterPlotAttributes();this.scatterPlot.render()};l.prototype.setLegendPointColorer=
function(m){this.legendPointColorer=m};l.prototype.setLabelPointAccessor=function(m){this.labelPointAccessor=m;null!=this.labels3DVisualizer&&this.labels3DVisualizer.setLabelStrings(this.generate3DLabelsArray(null==this.projection?null:this.projection.dataSet,m))};l.prototype.resize=function(){this.scatterPlot.resize()};l.prototype.populateBookmarkFromUI=function(m){m.cameraDef=this.scatterPlot.getCameraDef()};l.prototype.restoreUIFromBookmark=function(m){this.scatterPlot.setCameraParametersForNextCameraCreation(m.cameraDef,
!1)};l.prototype.updateScatterPlotPositions=function(){var m=this.generatePointPositionArray(null==this.projection?null:this.projection.dataSet,null==this.projection?null:this.projection.projectionComponents);this.scatterPlot.setPointPositions(m)};l.prototype.updateScatterPlotAttributes=function(){if(null!=this.projection){var m=this.projection.dataSet,n=this.selectedPointIndices,q=this.hoverPointIndex,p=this.neighborsOfFirstSelectedPoint,t=this.legendPointColorer,r=this.generatePointColorArray(m,
t,this.distanceMetric,n,p,q,this.renderLabelsIn3D,this.getSpriteImageMode()),v=this.generatePointScaleFactorArray(m,n,p,q);q=this.generateVisibleLabelRenderParams(m,n,p,q);t=this.generateLineSegmentColorMap(m,t);p=this.generateLineSegmentOpacityArray(m,n);m=this.generateLineSegmentWidthArray(m,n);this.scatterPlot.setPointColors(r);this.scatterPlot.setPointScaleFactors(v);this.scatterPlot.setLabels(q);this.scatterPlot.setPolylineColors(t);this.scatterPlot.setPolylineOpacities(p);this.scatterPlot.setPolylineWidths(m)}};
l.prototype.render=function(){this.scatterPlot.render()};l.prototype.generatePointPositionArray=function(m,n){if(null==m)return null;var q=d3.scaleLinear(),p=d3.scaleLinear(),t=null,r=d3.extent(m.points,function(A,y){return m.points[y].projections[n[0]]}),v=d3.extent(m.points,function(A,y){return m.points[y].projections[n[1]]}),u=[-1,1];q.domain(r).range(u);p.domain(v).range(u);null!=n[2]&&(r=d3.extent(m.points,function(A,y){return m.points[y].projections[n[2]]}),t=d3.scaleLinear(),t.domain(r).range(u));
var w=new Float32Array(3*m.points.length),x=0;m.points.forEach(function(A,y){w[x++]=q(m.points[y].projections[n[0]]);w[x++]=p(m.points[y].projections[n[1]]);w[x++]=0});t&&(x=2,m.points.forEach(function(A,y){w[x]=t(m.points[y].projections[n[2]]);x+=3}));return w};l.prototype.generateVisibleLabelRenderParams=function(m,n,q,p){if(null==m)return null;var t=null==n?0:n.length,r=null==q?0:q.length,v=t+r+(null!=p?1:0),u=new Uint32Array(v),w=new Float32Array(v),x=new Int8Array(v),A=new Uint8Array(3*v);v=
new Uint8Array(3*v);var y=[];w.fill(1);x.fill(1);var B=0;if(null!=p){y.push(this.getLabelText(m,p,this.labelPointAccessor));u[B]=p;w[B]=2;x[B]=0;p=c(0);b(A,B,p[0],p[1],p[2]);var F=c(16777215);b(v,B,F[0],F[1],F[1]);++B}p=c(0);F=c(16777215);for(var K=0;K<t;++K){var L=n[K];y.push(this.getLabelText(m,L,this.labelPointAccessor));u[B]=L;w[B]=2;x[B]=1===t?0:1;b(A,B,p[0],p[1],p[2]);b(v,B,F[0],F[1],F[2]);++B}p=c(0);F=c(16777215);for(K=0;K<r;++K)L=q[K].index,y.push(this.getLabelText(m,L,this.labelPointAccessor)),
u[B]=L,b(A,B,p[0],p[1],p[2]),b(v,B,F[0],F[1],F[2]),++B;return new a.LabelRenderParams(new Float32Array(u),y,w,x,10,A,v)};l.prototype.generatePointScaleFactorArray=function(m,n,q,p){if(null==m)return new Float32Array(0);m=new Float32Array(m.points.length);m.fill(1);for(var t=null==q?0:q.length,r=null==n?0:n.length,v=0;v<r;++v){var u=n[v];m[u]=1.2}r=t;for(v=0;v<r;++v)u=q[v].index,m[u]=1.2;null!=p&&(m[p]=1.2);return m};l.prototype.generateLineSegmentColorMap=function(m,n){var q={};if(null==m)return q;
for(var p=0;p<m.sequences.length;p++){var t=m.sequences[p],r=new Float32Array(6*(t.pointIndices.length-1)),v=0;if(n)for(var u=0;u<t.pointIndices.length-1;u++){var w=new f.Color(n(m,t.pointIndices[u])),x=new f.Color(n(m,t.pointIndices[u+1]));r[v++]=w.r;r[v++]=w.g;r[v++]=w.b;r[v++]=x.r;r[v++]=x.g;r[v++]=x.b}else for(u=0;u<t.pointIndices.length-1;u++)w=d(u,t.pointIndices.length),x=d(u+1,t.pointIndices.length),r[v++]=w.r,r[v++]=w.g,r[v++]=w.b,r[v++]=x.r,r[v++]=x.g,r[v++]=x.b;q[p]=r}return q};l.prototype.generateLineSegmentOpacityArray=
function(m,n){if(null==m)return new Float32Array(0);var q=new Float32Array(m.sequences.length);0<(null==n?0:n.length)?(q.fill(.05),q[m.points[n[0]].sequenceIndex]=.9):q.fill(.2);return q};l.prototype.generateLineSegmentWidthArray=function(m,n){if(null==m)return new Float32Array(0);var q=new Float32Array(m.sequences.length);q.fill(2);0<(null==n?0:n.length)&&(q[m.points[n[0]].sequenceIndex]=3);return q};l.prototype.generatePointColorArray=function(m,n,q,p,t,r,v,u){if(null==m)return new Float32Array(0);
var w=null==p?0:p.length,x=null==t?0:t.length,A=new Float32Array(3*m.points.length),y=14935011,B=7697881;v&&(B=y=16777215);u&&(B=y=16777215);v=m.points.length;u=0;if(0<w)for(y=new f.Color(y),B=0;B<v;++B)A[u++]=y.r,A[u++]=y.g,A[u++]=y.b;else if(null!=n)for(B=0;B<v;++B)y=new f.Color(n(m,B)),A[u++]=y.r,A[u++]=y.g,A[u++]=y.b;else for(y=new f.Color(B),B=0;B<v;++B)A[u++]=y.r,A[u++]=y.g,A[u++]=y.b;v=w;y=new f.Color(16410214);for(B=0;B<v;++B)u=3*p[B],A[u++]=y.r,A[u++]=y.g,A[u++]=y.b;v=x;m=0<v?t[0].dist:0;
for(B=0;B<v;++B)y=new f.Color(g(q,t[B].dist,m)),u=3*t[B].index,A[u++]=y.r,A[u++]=y.g,A[u++]=y.b;null!=r&&(y=new f.Color(7736143),u=3*r,A[u++]=y.r,A[u++]=y.g,A[u++]=y.b);return A};l.prototype.generate3DLabelsArray=function(m,n){if(null==m||null==n)return null;for(var q=[],p=m.points.length,t=0;t<p;++t)q.push(this.getLabelText(m,t,n));return q};l.prototype.getLabelText=function(m,n,q){return m.points[n].metadata[q].toString()};l.prototype.updateScatterPlotWithNewProjection=function(m){null==m?(this.createVisualizers(this.renderLabelsIn3D),
this.scatterPlot.render()):(this.setDataSet(m.dataSet),this.scatterPlot.setDimensions(m.dimensionality),m.dataSet.projectionCanBeRendered(m.projectionType)&&(this.updateScatterPlotAttributes(),this.notifyProjectionPositionsUpdated()),this.scatterPlot.setCameraParametersForNextCameraCreation(null,!1))};l.prototype.createVisualizers=function(m){var n=null==this.projection?null:this.projection.dataSet,q=this.scatterPlot;q.removeAllVisualizers();this.polylineVisualizer=this.spriteVisualizer=this.canvasLabelsVisualizer=
this.labels3DVisualizer=null;m?(this.labels3DVisualizer=new a.ScatterPlotVisualizer3DLabels,this.labels3DVisualizer.setLabelStrings(this.generate3DLabelsArray(n,this.labelPointAccessor))):(this.spriteVisualizer=new a.ScatterPlotVisualizerSprites,q.addVisualizer(this.spriteVisualizer),this.canvasLabelsVisualizer=new a.ScatterPlotVisualizerCanvasLabels(this.scatterPlotContainer));this.polylineVisualizer=new a.ScatterPlotVisualizerPolylines;this.setDataSet(n);this.spriteVisualizer&&q.addVisualizer(this.spriteVisualizer);
this.labels3DVisualizer&&q.addVisualizer(this.labels3DVisualizer);this.canvasLabelsVisualizer&&q.addVisualizer(this.canvasLabelsVisualizer);q.addVisualizer(this.polylineVisualizer)};l.prototype.getSpriteImageMode=function(){if(null==this.projection)return!1;var m=this.projection.dataSet;return null==m||null==m.spriteAndMetadataInfo?!1:null!=m.spriteAndMetadataInfo.spriteImage};return l}();a.ProjectorScatterPlotAdapter=k;a.normalizeDist=e;a.dist2color=g})(wc||(wc={}));
</script>
<script>//~~WEBPATH~~/vz-projector/vz-projector-util.js
(function(a){a.PolymerElement=function(b){return Polymer.Class(b)}})(wc||(wc={}));
</script>












<dom-module id="iron-autogrow-textarea">
  <template>
    <style>
      :host {
        display: inline-block;
        position: relative;
        width: 400px;
        border: 1px solid;
        padding: 2px;
        -moz-appearance: textarea;
        -webkit-appearance: textarea;
        overflow: hidden;
      }

      .mirror-text {
        visibility: hidden;
        word-wrap: break-word;
        @apply --iron-autogrow-textarea;
      }

      .fit {
        @apply --layout-fit;
      }

      .textarea-container {
        font-size: inherit;
        font-family: inherit;
        line-height: inherit;
        text-align: inherit;
        font-style: inherit;
      }

      :host([inherit-padding]) .textarea-container {
        padding: inherit;
      }

      :host([slot="input"]) textarea,
      :host(.paper-input-input) textarea {
        padding: 0px;
        margin: 0px;
        /* this seemingly useless rule seems to work around an applyshim inherit bug in polymer 1 */
        @apply --iron-autogrow-textarea;
        @apply --iron-autogrow-textarea-textarea;
      }

      textarea {
        position: relative;
        outline: none;
        border: none;
        resize: none;
        background: inherit;
        color: inherit;
        /* see comments in template */
        width: 100%;
        height: 100%;
        font-size: inherit;
        font-family: inherit;
        line-height: inherit;
        text-align: inherit;
        font-style: inherit;
        box-sizing: border-box;

        @apply --iron-autogrow-textarea;
        @apply --iron-autogrow-textarea-textarea;
      }

      textarea::-webkit-input-placeholder {
        @apply --iron-autogrow-textarea-placeholder;
      }

      textarea:-moz-placeholder {
        @apply --iron-autogrow-textarea-placeholder;
      }

      textarea::-moz-placeholder {
        @apply --iron-autogrow-textarea-placeholder;
      }

      textarea:-ms-input-placeholder {
        @apply --iron-autogrow-textarea-placeholder;
      }
    </style>

    
    
    <div id="mirror" class="mirror-text" aria-hidden="true">&nbsp;</div>

    
    <div class="textarea-container fit">
      <textarea id="textarea" name$="[[name]]" aria-label$="[[label]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" required$="[[required]]" disabled$="[[disabled]]" rows$="[[rows]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]"></textarea>
    </div>
  </template>
</dom-module>

<script>//~~WEBPATH~~/iron-autogrow-textarea/iron-autogrow-textarea.html.js
Polymer({is:"iron-autogrow-textarea",behaviors:[Polymer.IronValidatableBehavior,Polymer.IronControlState],properties:{value:{observer:"_valueChanged",type:String,notify:!0},bindValue:{observer:"_bindValueChanged",type:String,notify:!0},rows:{type:Number,value:1,observer:"_updateCached"},maxRows:{type:Number,value:0,observer:"_updateCached"},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,value:!1},inputmode:{type:String},placeholder:{type:String},readonly:{type:String},required:{type:Boolean},
minlength:{type:Number},maxlength:{type:Number},label:{type:String}},listeners:{input:"_onInput"},get textarea(){return this.$.textarea},get selectionStart(){return this.$.textarea.selectionStart},get selectionEnd(){return this.$.textarea.selectionEnd},set selectionStart(a){this.$.textarea.selectionStart=a},set selectionEnd(a){this.$.textarea.selectionEnd=a},attached:function(){navigator.userAgent.match(/iP(?:[oa]d|hone)/)&&(this.$.textarea.style.marginLeft="-3px")},validate:function(){var a=this.$.textarea.validity.valid;
a&&(this.required&&""===this.value?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.value)));this.invalid=!a;this.fire("iron-input-validate");return a},_bindValueChanged:function(a){this.value=a},_valueChanged:function(a){var b=this.textarea;b&&(b.value!==a&&(b.value=a||0===a?a:""),this.bindValue=a,this.$.mirror.innerHTML=this._valueForMirror(),this.fire("bind-value-changed",{value:this.bindValue}))},_onInput:function(a){var b=Polymer.dom(a).path;this.value=b?b[0].value:
a.target.value},_constrain:function(a){a=a||[""];for(a=0<this.maxRows&&a.length>this.maxRows?a.slice(0,this.maxRows):a.slice(0);0<this.rows&&a.length<this.rows;)a.push("");return a.join("\x3cbr/\x3e")+"\x26#160;"},_valueForMirror:function(){var a=this.textarea;if(a)return this.tokens=a&&a.value?a.value.replace(/&/gm,"\x26amp;").replace(/"/gm,"\x26quot;").replace(/'/gm,"\x26#39;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").split("\n"):[""],this._constrain(this.tokens)},_updateCached:function(){this.$.mirror.innerHTML=
this._constrain(this.tokens)}});
</script>









<dom-module id="paper-textarea">
  <template>
    <style>
      :host {
        display: block;
      }

      :host([hidden]) {
        display: none !important;
      }

      label {
        pointer-events: none;
      }
    </style>

    <paper-input-container no-label-float$="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]">

      <label hidden$="[[!label]]" aria-hidden="true" for$="[[_inputId]]" slot="label">[[label]]</label>

      <iron-autogrow-textarea class="paper-input-input" slot="input" id$="[[_inputId]]" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" bind-value="{{value}}" invalid="{{invalid}}" validator$="[[validator]]" disabled$="[[disabled]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" required$="[[required]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" autocapitalize$="[[autocapitalize]]" rows$="[[rows]]" max-rows$="[[maxRows]]" on-change="_onChange">
      </iron-autogrow-textarea>

      <template is="dom-if" if="[[errorMessage]]">
        <paper-input-error slot="add-on">[[errorMessage]]</paper-input-error>
      </template>

      <template is="dom-if" if="[[charCounter]]">
        <paper-input-char-counter slot="add-on"></paper-input-char-counter>
      </template>

    </paper-input-container>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-textarea.html.js
Polymer({is:"paper-textarea",behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{_ariaLabelledBy:{observer:"_ariaLabelledByChanged",type:String},_ariaDescribedBy:{observer:"_ariaDescribedByChanged",type:String},value:{type:String},rows:{type:Number,value:1},maxRows:{type:Number,value:0}},_ariaLabelledByChanged:function(a){this._focusableElement.setAttribute("aria-labelledby",a)},_ariaDescribedByChanged:function(a){this._focusableElement.setAttribute("aria-describedby",
a)},get _focusableElement(){return this.inputElement.textarea}});
</script>






<dom-module id="vz-projector-bookmark-panel">
<template>
<style include="vz-projector-styles"></style>
<style>
#title {
  background-color: #fafafa;
  color: black;
  font-weight: 500;
  left: 0;
  line-height: 60px;
  padding-left: 24px;
  position: absolute;
  width: 276px;
}
#bookmark-container {
  background-color: #fafafa;
}
#icon-container {
  line-height: 60px;
  position: absolute;
  right: 0;
}
#header {
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  position: relative;
}
#panel {
  background-color: #fafafa;
  position: relative;
  overflow-y: scroll;
  top: 60px;
  max-height: 50vh;
}

#save-container {
  text-align: center;
}

.state-radio {
  display: table-cell;
  vertical-align: middle;
  padding-top: 16px;
}

.state-label {
  display: table-cell;
  vertical-align: middle;
  top: 14px;
}

.state-label-input {
  width: 194px;
}

.state-clear {
  display: table-cell;
  vertical-align: middle;
  padding-top: 20px;
}
#state-file {
  display: none;
}
#no-bookmarks {
  padding: 0 24px;
}
#action-buttons-container .add-icon-button {
  background-color: #03a9f4;
  color: white;
  margin: 0 4px 4px auto;
  right: 7px;
  top: -4px;
}
.upload-download-icon-button {
  padding: 0;
}
#action-buttons-container {
  display: flex;
  margin-left: 34px;
  margin-top: 6px;
}
.ink-fab {
  border-radius: 50%;
  background: white;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}
paper-textarea {
  --paper-input-container-input: {
    font-size: 12px;
  }
  --paper-font-caption: {
    display: none
  }
}
</style>


<div id="bookmark-container">
  <div id="header">
    <div id="title">
      BOOKMARKS ([[savedStates.length]])
      <paper-icon-button icon="help" class="help-icon"></paper-icon-button>
      <paper-tooltip animation-delay="0" position="top" offset="0">
        Open this drawer to save a set of views of the projection, including
        selected points. A file containing the bookmarks can then be saved and
        later loaded to view them.
      </paper-tooltip>
    </div>
    <div id="icon-container">
      
      <paper-icon-button id="expand-more" icon="expand-less" on-tap="_expandMore"></paper-icon-button>
      <paper-icon-button id="expand-less" style="display: none" icon="expand-more" on-tap="_expandLess"></paper-icon-button>
    </div>
  </div>
  <iron-collapse id="panel">
    
    <div id="state-section">
      <template is="dom-if" if="[[!savedStates.length]]">
        <p id="no-bookmarks">
            No bookmarks yet, upload a bookmarks file or add a new bookmark by clicking the "+" below.
        
      </template>

      <template is="dom-repeat" items="{{savedStates}}">
        <div class="state-row">
          <div class="state-radio">
            <template is="dom-if" if="{{item.isSelected}}">
              <paper-icon-button icon="radio-button-checked"></paper-icon-button>
            </template>
            <template is="dom-if" if="{{!item.isSelected}}">
              <paper-icon-button icon="radio-button-unchecked" data-index$="{{index}}" on-tap="_radioButtonHandler"></paper-icon-button>
            </template>
          </div>
          <div class="state-label">
            <paper-textarea value="[[item.label]]" class="state-label-input" on-keyup="_labelChange" data-index$="[[index]]" autoresizing>
          </paper-textarea></div>
          <div class="state-clear">
            <paper-icon-button icon="clear" data-index$="{{index}}" on-tap="_clearButtonHandler"></paper-icon-button>
          </div>
        </div>
      </template>

      <div id="action-buttons-container">
        <paper-icon-button class="upload-download-icon-button" icon="save" title="Save bookmarks" disabled="[[!hasStates]]" on-tap="_downloadFile"></paper-icon-button>
        <paper-icon-button class="upload-download-icon-button" icon="file-upload" title="Load bookmarks" on-tap="_uploadFile"></paper-icon-button>
        <paper-icon-button class="add-icon-button ink-fab" icon="add" title="Add bookmark" on-tap="_addBookmark"></paper-icon-button>
        <input type="file" id="state-file" name="state-file">
      </div>
    </div>
  </iron-collapse>
</div>

</template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-bookmark-panel.js
var zc=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){a.BookmarkPanelPolymer=a.PolymerElement({is:"vz-projector-bookmark-panel",properties:{savedStates:Object,hasStates:{type:Boolean,value:!1},selectedState:Number}});var b=function(c){function d(){var e=null!==c&&c.apply(this,arguments)||this;e.hasStates=!1;return e}zc(d,c);d.prototype.ready=function(){this.savedStates=[];this.setupUploadButton();this.ignoreNextProjectionEvent=!1;this.expandLessButton=this.querySelector("#expand-less");this.expandMoreButton=this.querySelector("#expand-more")};
d.prototype.initialize=function(e,g){var h=this;this.projector=e;g.registerProjectionChangedListener(function(){h.ignoreNextProjectionEvent?h.ignoreNextProjectionEvent=!1:h.clearStateSelection()})};d.prototype.setSelectedTensor=function(e,g,h){var k=this;this.addStates(null);g&&g.bookmarksPath?h.getBookmarks(e,g.tensorName,function(l){k.addStates(l);k._expandMore()}):this._expandLess()};d.prototype._expandMore=function(){this.$.panel.show();this.expandMoreButton.style.display="none";this.expandLessButton.style.display=
""};d.prototype._expandLess=function(){this.$.panel.hide();this.expandMoreButton.style.display="";this.expandLessButton.style.display="none"};d.prototype._addBookmark=function(){var e=this.projector.getCurrentState();e.label="State "+this.savedStates.length;e.isSelected=!0;this.selectedState=this.savedStates.length;for(var g=0;g<this.savedStates.length;g++)this.savedStates[g].isSelected=!1,this.notifyPath("savedStates."+g+".isSelected",!1,!1);this.push("savedStates",e);this.updateHasStates()};d.prototype._downloadFile=
function(){var e=this.serializeAllSavedStates();e=window.URL.createObjectURL(new Blob([e],{type:"text/plain"}));var g=document.createElement("a");document.body.appendChild(g);g.style.display="none";g.href=e;g.download="state";g.click();document.body.removeChild(g);window.URL.revokeObjectURL(e)};d.prototype._uploadFile=function(){this.querySelector("#state-file").click()};d.prototype.setupUploadButton=function(){var e=this,g=this.querySelector("#state-file");g.onchange=function(){var h=g.files[0];
g.value="";var k=new FileReader;k.onload=function(){var l=JSON.parse(k.result);e.savedStatesValid(l)?(e.addStates(l),e.loadSavedState(0)):a.logging.setWarningMessage("Unable to load bookmarks: wrong dataset, expected dataset "+("with shape ("+l[0].dataSetDimensions+")."))};k.readAsText(h)}};d.prototype.addStates=function(e){if(null==e)this.savedStates=[];else for(var g=0;g<e.length;g++)e[g].isSelected=!1,this.push("savedStates",e[g]);this.updateHasStates()};d.prototype.clearStateSelection=function(){for(var e=
0;e<this.savedStates.length;e++)this.setSelectionState(e,!1)};d.prototype._radioButtonHandler=function(e){e=this.getParentDataIndex(e);this.loadSavedState(e);this.setSelectionState(e,!0)};d.prototype.loadSavedState=function(e){for(var g=0;g<this.savedStates.length;g++)this.savedStates[g].isSelected?this.setSelectionState(g,!1):e===g&&(this.setSelectionState(g,!0),this.ignoreNextProjectionEvent=!0,this.projector.loadState(this.savedStates[g]))};d.prototype.setSelectionState=function(e,g){this.savedStates[e].isSelected=
g;this.notifyPath("savedStates."+e+".isSelected",g,!1)};d.prototype.getParentDataIndex=function(e){for(var g=0;g<e.path.length;g++){var h=e.path[g].getAttribute("data-index");if(null!=h)return+h}return-1};d.prototype._clearButtonHandler=function(e){e=this.getParentDataIndex(e);this.splice("savedStates",e,1);this.updateHasStates()};d.prototype._labelChange=function(e){var g=this.getParentDataIndex(e);this.savedStates[g].label=e.target.value};d.prototype._isSelectedState=function(e){return e===this.selectedState};
d.prototype._isNotSelectedState=function(e){return e!==this.selectedState};d.prototype.serializeAllSavedStates=function(){return JSON.stringify(this.savedStates)};d.prototype.loadSavedStates=function(e){this.savedStates=JSON.parse(e);this.updateHasStates()};d.prototype.updateHasStates=function(){this.hasStates=0!==this.savedStates.length};d.prototype.savedStatesValid=function(e){for(var g=0;g<e.length;g++)if(e[g].dataSetDimensions[0]!==this.projector.dataSet.dim[0]||e[g].dataSetDimensions[1]!==this.projector.dataSet.dim[1])return!1;
return!0};return d}(a.BookmarkPanelPolymer);a.BookmarkPanel=b;document.registerElement(b.prototype.is,b)})(wc||(wc={}));
</script>
</dom-module>




























<script>//~~WEBPATH~~/neon-animation/animations/opaque-animation.html.js
Polymer({is:"opaque-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;this._effect=new KeyframeEffect(b,[{opacity:"1"},{opacity:"1"}],this.timingFromConfig(a));b.style.opacity="0";return this._effect},complete:function(a){a.node.style.opacity=""}});
</script>



<script>//~~WEBPATH~~/iron-dropdown/iron-dropdown-scroll-manager.html.js
(function(){var a=0,b=0,c=null,d=[];Polymer.IronDropdownScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(e){var g=this.currentLockingElement;if(void 0===g)return!1;if(this._hasCachedLockedElement(e))return!0;if(this._hasCachedUnlockedElement(e))return!1;(g=!!g&&g!==e&&!this._composedTreeContains(g,e))?this._lockedElementCache.push(e):this._unlockedElementCache.push(e);return g},pushScrollLock:function(e){0<=this._lockingElements.indexOf(e)||
(0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(e),this._lockedElementCache=[],this._unlockedElementCache=[])},removeScrollLock:function(e){e=this._lockingElements.indexOf(e);-1!==e&&(this._lockingElements.splice(e,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},_lockingElements:[],_lockedElementCache:null,_unlockedElementCache:null,_hasCachedLockedElement:function(e){return-1<
this._lockedElementCache.indexOf(e)},_hasCachedUnlockedElement:function(e){return-1<this._unlockedElementCache.indexOf(e)},_composedTreeContains:function(e,g){var h,k;if(e.contains(g))return!0;e=Polymer.dom(e).querySelectorAll("content");for(h=0;h<e.length;++h){var l=Polymer.dom(e[h]).getDistributedNodes();for(k=0;k<l.length;++k)if(this._composedTreeContains(l[k],g))return!0}return!1},_scrollInteractionHandler:function(e){e.cancelable&&this._shouldPreventScrolling(e)&&e.preventDefault();e.targetTouches&&
(e=e.targetTouches[0],a=e.pageX,b=e.pageY)},_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);document.addEventListener("wheel",this._boundScrollHandler,!0);document.addEventListener("mousewheel",this._boundScrollHandler,!0);document.addEventListener("DOMMouseScroll",this._boundScrollHandler,!0);document.addEventListener("touchstart",this._boundScrollHandler,!0);document.addEventListener("touchmove",this._boundScrollHandler,
!0)},_unlockScrollInteractions:function(){document.removeEventListener("wheel",this._boundScrollHandler,!0);document.removeEventListener("mousewheel",this._boundScrollHandler,!0);document.removeEventListener("DOMMouseScroll",this._boundScrollHandler,!0);document.removeEventListener("touchstart",this._boundScrollHandler,!0);document.removeEventListener("touchmove",this._boundScrollHandler,!0)},_shouldPreventScrolling:function(e){var g=Polymer.dom(e).rootTarget;"touchmove"!==e.type&&c!==g&&(c=g,d=this._getScrollableNodes(Polymer.dom(e).path));
if(!d.length)return!0;if("touchstart"===e.type)return!1;e=this._getScrollInfo(e);return!this._getScrollingNode(d,e.deltaX,e.deltaY)},_getScrollableNodes:function(e){for(var g=[],h=e.indexOf(this.currentLockingElement),k=0;k<=h;k++)if(e[k].nodeType===Node.ELEMENT_NODE){var l=e[k],m=l.style;"scroll"!==m.overflow&&"auto"!==m.overflow&&(m=window.getComputedStyle(l));"scroll"!==m.overflow&&"auto"!==m.overflow||g.push(l)}return g},_getScrollingNode:function(e,g,h){if(g||h)for(var k=Math.abs(h)>=Math.abs(g),
l=0;l<e.length;l++){var m=e[l];if(k?0>h?0<m.scrollTop:m.scrollTop<m.scrollHeight-m.clientHeight:0>g?0<m.scrollLeft:m.scrollLeft<m.scrollWidth-m.clientWidth)return m}},_getScrollInfo:function(e){var g={deltaX:e.deltaX,deltaY:e.deltaY};"deltaX"in e||("wheelDeltaX"in e?(g.deltaX=-e.wheelDeltaX,g.deltaY=-e.wheelDeltaY):"axis"in e?(g.deltaX=1===e.axis?e.detail:0,g.deltaY=2===e.axis?e.detail:0):e.targetTouches&&(e=e.targetTouches[0],g.deltaX=a-e.pageX,g.deltaY=b-e.pageY));return g}}})();
</script>




<dom-module id="iron-dropdown">
  <template>
    <style>
      :host {
        position: fixed;
      }

      #contentWrapper ::content > * {
        overflow: auto;
      }

      #contentWrapper.animating ::content > * {
        overflow: hidden;
      }
    </style>

    <div id="contentWrapper">
      <content id="content" select=".dropdown-content"></content>
    </div>
  </template>

  <script>//~~WEBPATH~~/iron-dropdown/iron-dropdown.html.js
Polymer({is:"iron-dropdown",behaviors:[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.IronOverlayBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},allowOutsideScroll:{type:Boolean,value:!1},_boundOnCaptureScroll:{type:Function,
value:function(){return this._onCaptureScroll.bind(this)}}},listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},observers:["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],get containedElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},get _focusTarget(){return this.focusTarget||this.containedElement},ready:function(){this._scrollLeft=this._scrollTop=0;this._refitOnScrollRAF=null},attached:function(){this.sizingTarget&&
this.sizingTarget!==this||(this.sizingTarget=this.containedElement||this)},detached:function(){this.cancelAnimation();document.removeEventListener("scroll",this._boundOnCaptureScroll);Polymer.IronDropdownScrollManager.removeScrollLock(this)},_openedChanged:function(){this.opened&&this.disabled?this.cancel():(this.cancelAnimation(),this._updateAnimationConfig(),this._saveScrollPosition(),this.opened?(document.addEventListener("scroll",this._boundOnCaptureScroll),!this.allowOutsideScroll&&Polymer.IronDropdownScrollManager.pushScrollLock(this)):
(document.removeEventListener("scroll",this._boundOnCaptureScroll),Polymer.IronDropdownScrollManager.removeScrollLock(this)),Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments))},_renderOpened:function(){!this.noAnimations&&this.animationConfig.open?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("open")):Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this,arguments)},_renderClosed:function(){!this.noAnimations&&this.animationConfig.close?(this.$.contentWrapper.classList.add("animating"),
this.playAnimation("close")):Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this,arguments)},_onNeonAnimationFinish:function(){this.$.contentWrapper.classList.remove("animating");this.opened?this._finishRenderOpened():this._finishRenderClosed()},_onCaptureScroll:function(){this.allowOutsideScroll?(this._refitOnScrollRAF&&window.cancelAnimationFrame(this._refitOnScrollRAF),this._refitOnScrollRAF=window.requestAnimationFrame(this.refit.bind(this))):this._restoreScrollPosition()},_saveScrollPosition:function(){document.scrollingElement?
(this._scrollTop=document.scrollingElement.scrollTop,this._scrollLeft=document.scrollingElement.scrollLeft):(this._scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this._scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},_restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this._scrollTop,document.scrollingElement.scrollLeft=this._scrollLeft):(document.documentElement.scrollTop=this._scrollTop,
document.documentElement.scrollLeft=this._scrollLeft,document.body.scrollTop=this._scrollTop,document.body.scrollLeft=this._scrollLeft)},_updateAnimationConfig:function(){for(var a=this.containedElement,b=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),c=0;c<b.length;c++)b[c].node=a;this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},_updateOverlayPosition:function(){this.isAttached&&this.notifyResize()},_applyFocus:function(){var a=
this.focusTarget||this.containedElement;a&&this.opened&&!this.noAutoFocus?a.focus():Polymer.IronOverlayBehaviorImpl._applyFocus.apply(this,arguments)}});
</script>
</dom-module>








<script>//~~WEBPATH~~/paper-menu-button/paper-menu-button-animations.html.js
Polymer({is:"paper-menu-grow-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().height;return this._effect=new KeyframeEffect(b,[{height:c/2+"px"},{height:c+"px"}],this.timingFromConfig(a))}});Polymer({is:"paper-menu-grow-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().width;return this._effect=new KeyframeEffect(b,[{width:c/2+"px"},{width:c+"px"}],this.timingFromConfig(a))}});
Polymer({is:"paper-menu-shrink-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().width;return this._effect=new KeyframeEffect(b,[{width:c+"px"},{width:c-c/20+"px"}],this.timingFromConfig(a))}});
Polymer({is:"paper-menu-shrink-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().height;this.setPrefixedProperty(b,"transformOrigin","0 0");return this._effect=new KeyframeEffect(b,[{height:c+"px",transform:"translateY(0)"},{height:c/2+"px",transform:"translateY(-20px)"}],this.timingFromConfig(a))}});
</script>






<dom-module id="paper-menu-button">
  <template>
    <style>
      :host {
        display: inline-block;
        position: relative;
        padding: 8px;
        outline: none;

        @apply(--paper-menu-button);
      }

      :host([disabled]) {
        cursor: auto;
        color: var(--disabled-text-color);

        @apply(--paper-menu-button-disabled);
      }

      iron-dropdown {
        @apply(--paper-menu-button-dropdown);
      }

      .dropdown-content {
        @apply(--shadow-elevation-2dp);

        position: relative;
        border-radius: 2px;
        background-color: var(--paper-menu-button-dropdown-background, --primary-background-color);

        @apply(--paper-menu-button-content);
      }

      :host([vertical-align="top"]) .dropdown-content {
        margin-bottom: 20px;
        margin-top: -10px;
        top: 10px;
      }

      :host([vertical-align="bottom"]) .dropdown-content {
        bottom: 10px;
        margin-bottom: -10px;
        margin-top: 20px;
      }
    </style>

    <div id="trigger" on-tap="toggle">
      <content select=".dropdown-trigger"></content>
    </div>

    <iron-dropdown id="dropdown" opened="{{opened}}" horizontal-align="[[horizontalAlign]]" vertical-align="[[verticalAlign]]" dynamic-align="[[dynamicAlign]]" horizontal-offset="[[horizontalOffset]]" vertical-offset="[[verticalOffset]]" no-overlap="[[noOverlap]]" open-animation-config="[[openAnimationConfig]]" close-animation-config="[[closeAnimationConfig]]" no-animations="[[noAnimations]]" focus-target="[[_dropdownContent]]" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]" on-iron-overlay-canceled="__onIronOverlayCanceled">
      <div class="dropdown-content" slot="dropdown-content">
        <content id="content" select=".dropdown-content"></content>
      </div>
    </iron-dropdown>
  </template>

  <script>//~~WEBPATH~~/paper-menu-button/paper-menu-button.html.js
function Ac(){}fa=Ac.prototype;fa.registered=function(){};fa.addOwnKeyBinding=function(){};fa.removeOwnKeyBindings=function(){};fa.keyboardEventMatchesKeys=function(){};fa._collectKeyBindings=function(){};fa._prepKeyBindings=function(){};fa._addKeyBinding=function(){};fa._resetKeyEventListeners=function(){};fa._listenKeyEventListeners=function(){};fa._unlistenKeyEventListeners=function(){};fa._onKeyBindingEvent=function(){};fa._triggerKeyHandler=function(){};
fa._focusBlurHandler=function(a){if(Polymer.Element)this._setFocused("focus"===a.type);else if(a.target===this)this._setFocused("focus"===a.type);else if(this.__handleEventRetargeting){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}};fa._changedControlState=function(){this._controlStateChanged&&this._controlStateChanged()};fa._setFocused=function(){};
(function(){var a={ANIMATION_CUBIC_BEZIER:"cubic-bezier(.3,.95,.5,1)",MAX_ANIMATION_TIME_MS:400};Ac=Polymer({is:"paper-menu-button",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronControlState],properties:{opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,
value:0,notify:!0},noOverlap:{type:Boolean},noAnimations:{type:Boolean,value:!1},ignoreSelect:{type:Boolean,value:!1},closeOnActivate:{type:Boolean,value:!1},openAnimationConfig:{type:Object,value:function(){return[{name:"fade-in-animation",timing:{delay:100,duration:200}},{name:"paper-menu-grow-width-animation",timing:{delay:100,duration:150,easing:a.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-grow-height-animation",timing:{delay:100,duration:275,easing:a.ANIMATION_CUBIC_BEZIER}}]}},closeAnimationConfig:{type:Object,
value:function(){return[{name:"fade-out-animation",timing:{duration:150}},{name:"paper-menu-shrink-width-animation",timing:{delay:100,duration:50,easing:a.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-shrink-height-animation",timing:{duration:200,easing:"ease-in"}}]}},allowOutsideScroll:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!0},_dropdownContent:{type:Object}},hostAttributes:{role:"group","aria-haspopup":"true"},listeners:{"iron-activate":"_onIronActivate","iron-select":"_onIronSelect"},
get contentElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},toggle:function(){this.opened?this.close():this.open()},open:function(){this.disabled||this.$.dropdown.open()},close:function(){this.$.dropdown.close()},_onIronSelect:function(){this.ignoreSelect||this.close()},_onIronActivate:function(){this.closeOnActivate&&this.close()},_openedChanged:function(b,c){b?(this._dropdownContent=this.contentElement,this.fire("paper-dropdown-open")):null!=c&&this.fire("paper-dropdown-close")},
_disabledChanged:function(b){Polymer.IronControlState._disabledChanged.apply(this,arguments);b&&this.opened&&this.close()},__onIronOverlayCanceled:function(b){var c=b.detail;Polymer.dom(c);var d=this.$.trigger;-1<Polymer.dom(c).path.indexOf(d)&&b.preventDefault()}});Object.keys(a).forEach(function(b){Ac[b]=a[b]});Polymer.PaperMenuButton=Ac})();
</script>
</dom-module>






<iron-iconset-svg name="paper-dropdown-menu" size="24">
<svg><defs>
<g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g>
</defs></svg>
</iron-iconset-svg>



<dom-module id="paper-dropdown-menu-shared-styles">
  <template>
    <style>
      :host {
        display: inline-block;
        position: relative;
        text-align: left;

        /* NOTE(cdata): Both values are needed, since some phones require the
         * value to be `transparent`.
         */
        -webkit-tap-highlight-color: rgba(0,0,0,0);
        -webkit-tap-highlight-color: transparent;

        --paper-input-container-input: {
          overflow: hidden;
          white-space: nowrap;
          text-overflow: ellipsis;
          max-width: 100%;
          box-sizing: border-box;
          cursor: pointer;
        };

        @apply(--paper-dropdown-menu);
      }

      :host(:dir(rtl)) {
        text-align: right;

        @apply(--paper-dropdown-menu);
      }

      :host([disabled]) {
        @apply(--paper-dropdown-menu-disabled);
      }

      :host([noink]) paper-ripple {
        display: none;
      }

      :host([no-label-float]) paper-ripple {
        top: 8px;
      }

      paper-ripple {
        top: 12px;
        left: 0px;
        bottom: 8px;
        right: 0px;

        @apply(--paper-dropdown-menu-ripple);
      }

      paper-menu-button {
        display: block;
        padding: 0;

        @apply(--paper-dropdown-menu-button);
      }

      paper-input {
        @apply(--paper-dropdown-menu-input);
      }

      iron-icon {
        color: var(--disabled-text-color);

        @apply(--paper-dropdown-menu-icon);
      }
    </style>
  </template>
</dom-module>




<dom-module id="paper-dropdown-menu">
  <template>
    <style include="paper-dropdown-menu-shared-styles"></style>

    
    <span role="button"></span>
    <paper-menu-button id="menuButton" vertical-align="[[verticalAlign]]" horizontal-align="[[horizontalAlign]]" dynamic-align="[[dynamicAlign]]" vertical-offset="[[_computeMenuVerticalOffset(noLabelFloat)]]" disabled="[[disabled]]" no-animations="[[noAnimations]]" on-iron-select="_onIronSelect" on-iron-deselect="_onIronDeselect" opened="{{opened}}" close-on-activate allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]">
      <div class="dropdown-trigger" slot="dropdown-trigger">
        <paper-ripple></paper-ripple>
        
        <paper-input type="text" invalid="[[invalid]]" readonly disabled="[[disabled]]" value="[[selectedItemLabel]]" placeholder="[[placeholder]]" error-message="[[errorMessage]]" always-float-label="[[alwaysFloatLabel]]" no-label-float="[[noLabelFloat]]" label="[[label]]">
          <iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix slot="suffix"></iron-icon>
        </paper-input>
      </div>
      <content id="content" select=".dropdown-content"></content>
    </paper-menu-button>
  </template>

  <script>//~~WEBPATH~~/paper-dropdown-menu/paper-dropdown-menu.html.js
Polymer({is:"paper-dropdown-menu",behaviors:[Polymer.IronButtonState,Polymer.IronControlState,Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior],properties:{selectedItemLabel:{type:String,notify:!0,readOnly:!0},selectedItem:{type:Object,notify:!0,readOnly:!0},value:{type:String,notify:!0,readOnly:!0},label:{type:String},placeholder:{type:String},errorMessage:{type:String},opened:{type:Boolean,notify:!0,value:!1,observer:"_openedChanged"},allowOutsideScroll:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,
value:!1,reflectToAttribute:!0},alwaysFloatLabel:{type:Boolean,value:!1},noAnimations:{type:Boolean,value:!1},horizontalAlign:{type:String,value:"right"},verticalAlign:{type:String,value:"top"},dynamicAlign:{type:Boolean},restoreFocusOnClose:{type:Boolean,value:!0}},listeners:{tap:"_onTap"},keyBindings:{"up down":"open",esc:"close"},hostAttributes:{role:"combobox","aria-autocomplete":"none","aria-haspopup":"true"},observers:["_selectedItemChanged(selectedItem)"],attached:function(){var a=this.contentElement;
a&&a.selectedItem&&this._setSelectedItem(a.selectedItem)},get contentElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},open:function(){this.$.menuButton.open()},close:function(){this.$.menuButton.close()},_onIronSelect:function(a){this._setSelectedItem(a.detail.item)},_onIronDeselect:function(){this._setSelectedItem(null)},_onTap:function(a){Polymer.Gestures.findOriginalTarget(a)===this&&this.open()},_selectedItemChanged:function(a){a=a?a.label||a.getAttribute("label")||a.textContent.trim():
"";this._setValue(a);this._setSelectedItemLabel(a)},_computeMenuVerticalOffset:function(a){return a?-4:8},_getValidity:function(){return this.disabled||!this.required||this.required&&!!this.value},_openedChanged:function(){var a=this.opened?"true":"false",b=this.contentElement;b&&b.setAttribute("aria-expanded",a)}});
</script>
</dom-module>















<dom-module id="vz-projector-legend">
<template>
<style include="vz-projector-styles"></style>
<style>
.item {
  display: flex;
  align-items: flex-start;
  margin-bottom: 10px;
}

.shape {
  width: 10px;
  height: 10px;
  margin-right: 10px;
  margin-top: 5px;
  border-radius: 50%;
}

.label {
  flex-grow: 1;
}

.gradient {
  width: 100%;
  height: 10px;
}

.gradient-boundaries {
  display: flex;
  justify-content: space-between;
}
</style>

<template is="dom-repeat" items="[[renderInfo.items]]">
  <div class="item">
    <div class="shape" style="background-color: [[item.color]];"></div>
    <div class="label">[[item.label]]</div>
    <div class="info" style="color: [[item.color]];">[[item.count]]</div>
  </div>
</template>

<template is="dom-if" if="[[renderInfo.thresholds]]">
  <svg class="gradient">
    <defs>
      <lineargradient id="gradient" x1="0%" y1="100%" x2="100%" y2="100%"></lineargradient>
    </defs>
    <rect height="10" style="fill: url('#gradient');"></rect>
  </svg>
  <div class="gradient-boundaries">
    <div>[[renderInfo.thresholds.0.value]]</div>
    <div>[[_getLastThreshold(renderInfo.thresholds)]]</div>
  </div>
</template>

</template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-legend.js
zc=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){a.LegendPolymer=a.PolymerElement({is:"vz-projector-legend",properties:{renderInfo:{type:Object,observer:"_renderInfoChanged"}}});var b=function(c){function d(){return null!==c&&c.apply(this,arguments)||this}zc(d,c);d.prototype._renderInfoChanged=function(){var e=this;null!=this.renderInfo&&this.renderInfo.thresholds&&this.async(function(){return e.setupLinearGradient()})};d.prototype._getLastThreshold=function(){if(null!=this.renderInfo&&null!=this.renderInfo.thresholds)return this.renderInfo.thresholds[this.renderInfo.thresholds.length-
1].value};d.prototype.getOffset=function(e){var g=this.renderInfo.thresholds[0].value;return(100*(e-g)/(this.renderInfo.thresholds[this.renderInfo.thresholds.length-1].value-g)).toFixed(2)+"%"};d.prototype.setupLinearGradient=function(){var e=this,g=this.querySelector("#gradient"),h=this.querySelector("svg.gradient").clientWidth;this.querySelector("svg.gradient rect").style.width=h+"px";g.innerHTML="";this.renderInfo.thresholds.forEach(function(k){var l=document.createElementNS("http://www.w3.org/2000/svg",
"stop");l.setAttribute("offset",e.getOffset(k.value));l.setAttribute("stop-color",k.color)})};return d}(a.LegendPolymer);a.Legend=b;document.registerElement(b.prototype.is,b)})(wc||(wc={}));
</script>
</dom-module>


<dom-module id="vz-projector-data-panel">
<template>
<style include="vz-projector-styles"></style>
<style>
.container {
  padding: 5px 20px 20px 20px;
}

input[type=file] {
  display: none;
}

.file-name {
  margin-right: 10px;
}

.dirs {
  color: rgba(0, 0, 0, 0.7);
  font-size: 12px;
}

.dirs table tr {
  vertical-align: top;
}

.dirs table tr td {
  padding-bottom: 10px;
}

paper-item {
  --paper-item-disabled: {
    border-bottom: 1px solid black;
    justify-content: center;
    font-size: 12px;
    line-height: normal;
    min-height: 0px;
  };
}

.item-details {
  margin-left: 5px;
  color: gray;
  font-size: 12px;
}

paper-input {
  font-size: 15px;
  --paper-input-container: {
    padding: 5px 0;
  };
  --paper-input-container-label-floating: {
    white-space: normal;
    line-height: normal;
  };
}

paper-dropdown-menu {
  width: 100%;
  --paper-input-container: {
    padding: 5px 0;
  };
  --paper-input-container-input: {
    font-size: 15px;
  };
  --paper-input-container-label-floating: {
    white-space: normal;
    line-height: normal;
  };
}

paper-dropdown-menu paper-item {
  justify-content: space-between;
}

.title {
  align-items: center;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  color: black;
  display: flex;
  font-weight: 500;
  height: 59px;
  padding-left: 20px;
}

#normalize-data-checkbox {
  margin: 10px 0;
}

#projector-config-template {
  --paper-input-container-input: {
    line-height: 13px;
    font-family: monospace;
    font-size: 12px;
  };
}

#generate-share-url {
  padding: 16px;
  margin-left: 24px;
}

#projector-share-button-container {
  margin: 10px 0;
}

.metadata-editor, .supervise-settings, .colorlabel-container {
  display: flex;
}

#labelby {
  width: 100px;
  margin-right: 10px;
}

#colorby {
  width: calc(100% - 110px);
}

.supervise-settings paper-dropdown-menu {
  width: 100px;
  margin-right: 10px;
}

.supervise-settings paper-input {
  width: calc(100% - 110px);
}

.metadata-editor paper-dropdown-menu {
  width: 100px;
  margin-right: 10px;
}

.metadata-editor paper-input {
  width: calc(100% - 110px);
}

.config-checkbox {
  display: inline-block;
  font-size: 11px;
  margin-left: 10px;
}

.projector-config-options {
  margin-top: 12px;
}

.projector-config-dialog-container {
  padding: 24px;
}

.code {
  background-color: #f7f7f7;
  display: table;
  font-family: monospace;
  margin-top: 7px;
  padding: 15px;
}

.delimiter {
  color: #B71C1C;
}

.button-container {
  flex: 1 100%;
  margin-right: 5px;
}

.button-container paper-button {
  min-width: 50px;
  width: 100%;
}

#label-button {
  margin-right: 0px;
}

.upload-step {
  display: flex;
  justify-content: space-between;
  margin-bottom: 6px;
}

.upload-step paper-button {
  margin-left: 30px;
}

.step-label {
  color: rgb(38, 180, 226);
}

.scrollable-container {
  margin-top: 0;
  min-width: 400px;
}

#projectorConfigDialog p {
  margin: 8px 0 8px;
}

.data-step {
  margin-top: 40px;
}

.data-step-contents {
  display: table;
  width: 100%;
}

.data-step-contents-contents {
  display: table-cell;
  margin-top: 6px;
}

.data-step-contents-upload {
  display: table-cell;
  text-align: right;
  vertical-align: bottom;
}

#demo-data-buttons-container {
  display: none;
  margin-top: 10px;
}

</style>
<div class="title">DATA</div>
<div class="container">
  
  <template is="dom-if" if="[[_hasChoices(runNames)]]">
    <paper-dropdown-menu no-animations label="[[_getNumRunsLabel(runNames)]] found">
      <paper-listbox attr-for-selected="value" class="dropdown-content" selected="{{selectedRun}}" slot="dropdown-content">
        <template is="dom-repeat" items="[[runNames]]">
          <paper-item value="[[item]]" label="[[item]]">
            [[item]]
          </paper-item>
        </template>
      </paper-listbox>
    </paper-dropdown-menu>
  </template>

  <template is="dom-if" if="[[tensorNames]]">
    
    <paper-dropdown-menu no-animations label="[[_getNumTensorsLabel(tensorNames)]] found">
      <paper-listbox attr-for-selected="value" class="dropdown-content" selected="{{selectedTensor}}" slot="dropdown-content">
        <template is="dom-repeat" items="[[tensorNames]]">
          <paper-item value="[[item.name]]" label="[[item.name]]">
            [[item.name]]
            <span class="item-details">
              [[item.shape.0]]x[[item.shape.1]]
            </span>
          </paper-item>
        </template>
      </paper-listbox>
    </paper-dropdown-menu>
  </template>

  <div hidden$="[[!_hasChoices(colorOptions)]]">
    <div class="colorlabel-container">
      
      <paper-dropdown-menu id="labelby" no-animations label="Label by">
        <paper-listbox attr-for-selected="value" class="dropdown-content" selected="{{selectedLabelOption}}" slot="dropdown-content">
          <template is="dom-repeat" items="[[labelOptions]]">
            <paper-item value="[[item]]" label="[[item]]">
              [[item]]
            </paper-item>
          </template>
        </paper-listbox>
      </paper-dropdown-menu>
      
      <paper-dropdown-menu id="colorby" no-animations label="Color by">
        <paper-listbox attr-for-selected="value" class="dropdown-content" selected="{{selectedColorOptionName}}" slot="dropdown-content">
          <template is="dom-repeat" items="[[colorOptions]]">
            <paper-item class$="[[getSeparatorClass(item.isSeparator)]]" value="[[item.name]]" label="[[item.name]]" disabled="[[item.isSeparator]]">
              [[item.name]]
              <span class="item-details">[[item.desc]]</span>
            </paper-item>
          </template>
        </paper-listbox>
      </paper-dropdown-menu>
    </div>
    <div hidden$="[[!showForceCategoricalColorsCheckbox]]">
      <paper-checkbox id="force-categorical-checkbox">Use categorical coloring</paper-checkbox>
      <paper-icon-button icon="help" class="help-icon"></paper-icon-button>
      <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds>
        For metadata fields that have many unique values we use a gradient color map
        by default. This checkbox allows you to force categorical coloring by a given
        metadata field.
      </paper-tooltip>
    </div>
    <template dom-if="[[colorLegendRenderInfo]]">
      <vz-projector-legend render-info="[[colorLegendRenderInfo]]"></vz-projector-legend>
    </template>
  </div>
  <template is="dom-if" if="[[_hasChoice(labelOptions)]]">
    
    <div hidden$="[[!showSuperviseSettings]]" class="supervise-settings">
      <paper-dropdown-menu no-animations label="Supervise with">
        <paper-listbox attr-for-selected="value" class="dropdown-content" on-selected-item-changed="superviseColumnChanged" selected="{{superviseColumn}}" slot="dropdown-content">
          <template is="dom-repeat" items="[[metadataFields]]">
            <paper-item value="[[item]]" label="[[item]]">
              [[item]]
            </paper-item>
          </template>
        </paper-listbox>
      </paper-dropdown-menu>
      <paper-input value="{{superviseInput}}" label="{{superviseInputLabel}}" on-change="superviseInputChange" on-input="superviseInputTyping">
      </paper-input>
    </div>
    
    <div class="metadata-editor">
      <paper-dropdown-menu no-animations label="Edit by">
        <paper-listbox attr-for-selected="value" class="dropdown-content" slot="dropdown-content" on-selected-item-changed="metadataEditorColumnChange" selected="{{metadataEditorColumn}}">
          <template is="dom-repeat" items="[[metadataFields]]">
            <paper-item value="[[item]]" label="[[item]]">
              [[item]]
            </paper-item>
          </template>
        </paper-listbox>
      </paper-dropdown-menu>
      <paper-input value="{{metadataEditorInput}}" label="{{metadataEditorInputLabel}}" on-input="metadataEditorInputChange" on-keydown="metadataEditorInputKeydown">
      </paper-input>
    </div>
  </template>
  <div id="demo-data-buttons-container">
    <span class="button-container">
      <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds>
        Load data from your computer
      </paper-tooltip>
      <paper-button id="upload" class="ink-button" onclick="dataDialog.open()">Load</paper-button>
    </span>
    <span id="publish-container" class="button-container">
      <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds>
        Publish your embedding visualization and data
      </paper-tooltip>
      <paper-button id="host-embedding" class="ink-button" onclick="projectorConfigDialog.open()">Publish</paper-button>
    </span>
    <span class="button-container">
      <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds>
        Download the metadata with applied modifications
      </paper-tooltip>
      <paper-button class="ink-button" on-click="downloadMetadataClicked">Download</paper-button>
      <a href="#" id="downloadMetadataLink" hidden></a>
    </span>
    <span id="label-button" class="button-container">
      <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds>
        Label selected metadata
      </paper-tooltip>
      <paper-button class="ink-button" on-click="metadataEditorButtonClicked" disabled="[[metadataEditorButtonDisabled]]">Label</paper-button>
    </span>
  </div>
  <div>
    <paper-dialog id="dataDialog" with-backdrop>
      <h2>Load data from your computer</h2>
      <paper-dialog-scrollable class="scrollable-container">
        <div class="data-step" id="upload-tensors-step-container">
          <div class="upload-step">
            <div>
                <b><span class="step-label">Step 1:</span> Load a TSV file of vectors.</b>
            </div>
          </div>
          <div class="data-step-contents">
            <div class="data-step-contents-contents">
              Example of 3 vectors with dimension 4:
              <div class="code">
                0.1<span class="delimiter">\t</span>0.2<span class="delimiter">\t</span>0.5<span class="delimiter">\t</span>0.9<br>
                0.2<span class="delimiter">\t</span>0.1<span class="delimiter">\t</span>5.0<span class="delimiter">\t</span>0.2<br>
                0.4<span class="delimiter">\t</span>0.1<span class="delimiter">\t</span>7.0<span class="delimiter">\t</span>0.8
              </div>
            </div>
            <div class="data-step-contents-upload">
              <paper-button id="upload-tensors" title="Choose a TSV tensor file">Choose file</paper-button>
              <input type="file" id="file" name="file">
            </div>
          </div>
        </div>
        <div class="data-step">
          <div class="upload-step">
            <div>
                <span class="step-label" id="upload-metadata-label"><b>Step 2</b> (optional):</span> <b>Load a TSV file of metadata.</b>
            </div>
          </div>
          <div class="data-step-contents">
            <div class="data-step-contents-contents">
              Example of 3 data points and 2 columns.<br>
              <i>Note: If there is more than one column, the first row will be parsed as column labels.</i>
              <div class="code">
                <b>Pokémon<span class="delimiter">\t</span>Species</b><br>
                Wartortle<span class="delimiter">\t</span>Turtle<br>
                Venusaur<span class="delimiter">\t</span>Seed<br>
                Charmeleon<span class="delimiter">\t</span>Flame
              </div>
            </div>
            <div class="data-step-contents-upload">
              <paper-button id="upload-metadata" title="Choose a TSV metadata file" class="ink-button">Choose file</paper-button>
              <input type="file" id="file-metadata" name="file-metadata">
            </div>
          </div>
        </div>
      </paper-dialog-scrollable>
      <div class="dismiss-dialog-note">Click outside to dismiss.</div>
    </paper-dialog>
    <paper-dialog id="projectorConfigDialog" with-backdrop>
      <h2>Publish your embedding visualization and data</h2>
      <paper-dialog-scrollable class="scrollable-container">
        <div>
          <p>
            If you'd like to share your visualization with the world, follow these simple steps.
            See <a target="_blank" href="https://www.tensorflow.org/get_started/embedding_viz">this tutorial</a> for more.
          
          <h4><span class="step-label">Step 1:</span> Make data public</h4>
          <p>
            Host tensors, metadata, sprite image, and bookmarks TSV files <i>publicly</i> on the web.
          
          <p>
            One option is using a <a target="_blank" href="https://gist.github.com/">github gist</a>.
            If you choose this approach, make sure to link directly to the raw file.
          
        </div>
        <div>
          <h4><span class="step-label">Step 2:</span> Projector config</h4>
          <div class="projector-config-options">
            <i>Optional:</i>
            <div class="config-checkbox">
              <paper-checkbox id="config-metadata-checkbox" checked>Metadata</paper-checkbox>
            </div>
            <div class="config-checkbox">
              <paper-checkbox id="config-sprite-checkbox">Sprite</paper-checkbox>
            </div>
            <div class="config-checkbox">
              <paper-checkbox id="config-bookmarks-checkbox">Bookmarks</paper-checkbox>
            </div>
          </div>
        </div>
        <paper-textarea id="projector-config-template" label="template_projector_config.json"></paper-textarea>
        <div>
          <h4><span class="step-label">Step 3:</span> Host projector config</h4>
          After you have hosted the projector config JSON file you built above, paste the URL to the config below.
        </div>
        <paper-input id="projector-config-url" label="Path to projector config"></paper-input>
        <paper-input id="projector-share-url" label="Your shareable URL" readonly></paper-input>
        <div id="projector-share-button-container">
          <a target="_blank" id="projector-share-url-link">
            <paper-button title="Test your shareable URL" class="ink-button">Test your shareable URL</paper-button>
          </a>
        </div>
      </paper-dialog-scrollable>
      <div class="dismiss-dialog-note">Click outside to dismiss.</div>
    </paper-dialog>
  </div>
  <paper-checkbox id="normalize-data-checkbox" checked="{{normalizeData}}">
    Sphereize data
    <paper-icon-button icon="help" class="help-icon"></paper-icon-button>
    <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds>
      The data is normalized by shifting each point by the centroid and making
      it unit norm.
    </paper-tooltip>
  </paper-checkbox>
  <div class="dirs">
    <table>
      <tr>
        <td>Checkpoint:</td>
        <td><span id="checkpoint-file"></span></td>
      </tr>
      <tr>
        <td>Metadata:</td>
        <td><span id="metadata-file"></span></td>
      </tr>
    </table>
  </div>
</div>

</template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-data-panel.js
zc=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){a.DataPanelPolymer=a.PolymerElement({is:"vz-projector-data-panel",properties:{selectedTensor:{type:String,observer:"_selectedTensorChanged"},selectedRun:String,selectedColorOptionName:{type:String,notify:!0,observer:"_selectedColorOptionNameChanged"},selectedLabelOption:{type:String,notify:!0,observer:"_selectedLabelOptionChanged"},normalizeData:Boolean,showForceCategoricalColorsCheckbox:Boolean,metadataEditorInput:{type:String},metadataEditorInputLabel:{type:String,value:"Tag selection as"},
metadataEditorInputChange:{type:Object},metadataEditorColumn:{type:String},metadataEditorColumnChange:{type:Object},metadataEditorButtonClicked:{type:Object},metadataEditorButtonDisabled:{type:Boolean},downloadMetadataClicked:{type:Boolean},superviseInput:{type:String},superviseInputTyping:{type:Object},superviseInputChange:{type:Object},superviseInputLabel:{type:String,value:"Ignored label"},superviseColumn:{type:String},superviseColumnChanged:{type:Object},showSuperviseSettings:{type:Boolean,value:!1}},
observers:["_generateUiForNewCheckpointForRun(selectedRun)"]});var b=function(c){function d(){var e=null!==c&&c.apply(this,arguments)||this;e.forceCategoricalColoring=!1;return e}zc(d,c);d.prototype.ready=function(){this.normalizeData=!0;this.superviseInputSelected=""};d.prototype.initialize=function(e,g){var h=this;this.projector=e;this.dataProvider=g;this.setupUploadButtons();this.querySelector("#normalize-data-checkbox").addEventListener("change",function(){h.projector.setNormalizeData(h.normalizeData)});
var k=this.querySelector("#force-categorical-checkbox");k.addEventListener("change",function(){h.setForceCategoricalColoring(k.checked)});this.dataProvider.retrieveRuns(function(l){h.runNames=l;0<h.runNames.length&&(h.selectedRun!=l[0]?h.selectedRun=l[0]:h._generateUiForNewCheckpointForRun(h.selectedRun))})};d.prototype.setForceCategoricalColoring=function(e){this.forceCategoricalColoring=e;this.querySelector("#force-categorical-checkbox").checked=this.forceCategoricalColoring;this.updateMetadataUI(this.spriteAndMetadata.stats,
this.metadataFile);this._selectedColorOptionNameChanged()};d.prototype.getSeparatorClass=function(e){return e?"separator":null};d.prototype.metadataChanged=function(e,g){var h=this;this.spriteAndMetadata=e;null!=g&&(this.metadataFile=g);this.updateMetadataUI(this.spriteAndMetadata.stats,this.metadataFile);if(null==this.selectedColorOptionName||0===this.colorOptions.filter(function(l){return l.name===h.selectedColorOptionName}).length)this.selectedColorOptionName=this.colorOptions[0].name;var k=-1;
this.metadataFields=e.stats.map(function(l,m){l.isNumeric||-1!==k||(k=m);return l.name});if(null==this.metadataEditorColumn||0===this.metadataFields.filter(function(l){return l===h.metadataEditorColumn}).length)this.metadataEditorColumn=this.metadataFields[Math.max(0,k)];if(null==this.superviseColumn||0===this.metadataFields.filter(function(l){return l===h.superviseColumn}).length)this.superviseColumn=this.metadataFields[Math.max(0,k)],this.superviseInput="";this.superviseInputChange()};d.prototype.projectionChanged=
function(e){if(e)switch(e.projectionType){case "tsne":this.set("showSuperviseSettings",!0);break;default:this.set("showSuperviseSettings",!1)}};d.prototype.onProjectorSelectionChanged=function(e,g){this.selectedPointIndices=e;this.neighborsOfFirstPoint=g;this.metadataEditorInputChange()};d.prototype.addWordBreaks=function(e){return null==e?"":e.replace(/([\/=-_,])/g,"$1\x3cwbr\x3e")};d.prototype.updateMetadataUI=function(e,g){var h=this,k=this.querySelector("#metadata-file");k.innerHTML=this.addWordBreaks(g);
k.title=g;var l=-1;this.labelOptions=e.map(function(m,n){m.isNumeric||-1!==l||(l=n);return m.name});if(null==this.selectedLabelOption||0===this.labelOptions.filter(function(m){return m===h.selectedLabelOption}).length)this.selectedLabelOption=this.labelOptions[Math.max(0,l)];if(null==this.metadataEditorColumn||0===this.labelOptions.filter(function(m){return m===h.metadataEditorColumn}).length)this.metadataEditorColumn=this.labelOptions[Math.max(0,l)];g=[{name:"No color map"}];e=e.filter(function(m){return!m.tooManyUniqueValues||
m.isNumeric}).map(function(m){if(h.forceCategoricalColoring||!m.tooManyUniqueValues){var n=d3.scaleOrdinal(d3.schemeCategory10);var q=n.range();var p=q.map(function(v,u){return q[3*u%q.length]});var t=m.uniqueEntries;n.range(p).domain(t.map(function(v){return v.label}));p=m.uniqueEntries.length;p=p+" "+(p>q.length?" non-unique":"")+" colors"}else{var r=[{color:"#ffffdd",value:m.min},{color:"#1f2d86",value:m.max}];n=d3.scaleLinear().domain(r.map(function(v){return v.value})).range(r.map(function(v){return v.color}));
p="gradient"}return{name:m.name,desc:p,map:n,items:t,thresholds:r,tooManyUniqueValues:m.tooManyUniqueValues}});0<e.length&&g.push({name:"Metadata",isSeparator:!0});this.colorOptions=g.concat(e)};d.prototype.metadataEditorContext=function(e){this.metadataEditorButtonDisabled=!e;this.projector&&this.projector.metadataEditorContext(e,this.metadataEditorColumn)};d.prototype.metadataEditorInputChange=function(){var e=this.metadataEditorColumn,g=this.metadataEditorInput,h=this.selectedPointIndices.length+
this.neighborsOfFirstPoint.length;0<h?null!=g&&""!==g.trim()?this.spriteAndMetadata.stats.filter(function(k){return k.name===e})[0].isNumeric&&isNaN(+g)?(this.metadataEditorInputLabel="Label must be numeric",this.metadataEditorContext(!1)):(0===this.projector.dataSet.points.filter(function(k){return k.metadata[e].toString()===g.trim()}).length?this.metadataEditorInputLabel="Tag "+h+" with new label":this.metadataEditorInputLabel="Tag "+h+" points as",this.metadataEditorContext(!0)):(this.metadataEditorInputLabel=
"Tag selection as",this.metadataEditorContext(!1)):(this.metadataEditorContext(!1),null!=g&&""!==g.trim()?this.metadataEditorInputLabel="Select points to tag":this.metadataEditorInputLabel="Tag selection as")};d.prototype.metadataEditorInputKeydown=function(e){13===e.keyCode&&this.metadataEditorButtonClicked();e.stopPropagation()};d.prototype.metadataEditorColumnChange=function(){this.metadataEditorInputChange()};d.prototype.metadataEditorButtonClicked=function(){if(!this.metadataEditorButtonDisabled){var e=
this.metadataEditorInput.trim(),g=this.selectedPointIndices.length+this.neighborsOfFirstPoint.length;this.projector.metadataEdit(this.metadataEditorColumn,e);this.projector.metadataEditorContext(!0,this.metadataEditorColumn);this.metadataEditorInputLabel=g+" labeled as '"+e+"'"}};d.prototype.downloadMetadataClicked=function(){if(this.projector&&this.projector.dataSet&&this.projector.dataSet.spriteAndMetadataInfo){var e=this.projector.dataSet.spriteAndMetadataInfo.stats.map(function(h){return h.name}).join("\t");
this.projector.dataSet.spriteAndMetadataInfo.pointsInfo.forEach(function(h){var k=[],l;for(l in h)k.push(h[l]);e+="\n"+k.join("\t")});var g=new Blob([e],{type:"text/plain"});this.$.downloadMetadataLink.download="metadata-edited.tsv";this.$.downloadMetadataLink.href=window.URL.createObjectURL(g);this.$.downloadMetadataLink.click()}};d.prototype.superviseInputTyping=function(){var e=this,g=this.superviseInput.trim();if(null==g||""===g.trim())this.superviseInputLabel=""===this.superviseInputSelected?
"No ignored label":"Supervising without '"+this.superviseInputSelected+"'";else if(this.projector&&this.projector.dataSet){var h=this.projector.dataSet.points.filter(function(k){return k.metadata[e.superviseColumn].toString().trim()===g}).length;0===h?this.superviseInputLabel="Label not found":this.projector.dataSet.superviseInput!=g&&(this.superviseInputLabel="Supervise without '"+g+"' ["+h+" points]")}};d.prototype.superviseInputChange=function(){var e=this,g=this.superviseInput.trim();if(null==
g||""===g.trim())this.superviseInputSelected="",this.superviseInputLabel="No ignored label",this.setSupervision(this.superviseColumn,"");else if(this.projector&&this.projector.dataSet){var h=this.projector.dataSet.points.filter(function(k){return k.metadata[e.superviseColumn].toString().trim()===g}).length;0===h?this.superviseInputLabel="Supervising without '"+this.superviseInputSelected+"'":(this.superviseInputSelected=g,this.superviseInputLabel="Supervising without '"+g+"' ["+h+" points]",this.setSupervision(this.superviseColumn,
g))}};d.prototype.superviseColumnChanged=function(){this.superviseInput="";this.superviseInputChange()};d.prototype.setSupervision=function(e,g){this.projector&&this.projector.dataSet&&this.projector.dataSet.setSupervision(e,g)};d.prototype.setNormalizeData=function(e){this.normalizeData=e};d.prototype._selectedTensorChanged=function(){var e=this;this.projector.updateDataSet(null,null,null);null!=this.selectedTensor&&(this.dataProvider.retrieveTensor(this.selectedRun,this.selectedTensor,function(g){var h=
e.getEmbeddingInfoByName(e.selectedTensor).metadataPath;e.dataProvider.retrieveSpriteAndMetadata(e.selectedRun,e.selectedTensor,function(k){e.projector.updateDataSet(g,k,h)})}),this.projector.setSelectedTensor(this.selectedRun,this.getEmbeddingInfoByName(this.selectedTensor)))};d.prototype._generateUiForNewCheckpointForRun=function(e){var g=this;this.dataProvider.retrieveProjectorConfig(e,function(h){g.projectorConfig=h;h=g.projectorConfig.embeddings.map(function(m){return m.tensorName}).filter(function(m){m=
g.getEmbeddingInfoByName(m).tensorShape;return 2===m.length&&1<m[0]&&1<m[1]}).sort(function(m,n){var q=g.getEmbeddingInfoByName(m),p=g.getEmbeddingInfoByName(n);if(a.util.xor(!!q.metadataPath,!!p.metadataPath))return q.metadataPath?-1:1;var t=a.util.tensorIsGenerated(n);if(a.util.xor(a.util.tensorIsGenerated(m),t))return t?-1:1;q=q.tensorShape[0];p=p.tensorShape[0];return q!==p?p-q:m<=n?-1:1});g.tensorNames=h.map(function(m){return{name:m,shape:g.getEmbeddingInfoByName(m).tensorShape}});var k=g.addWordBreaks(g.projectorConfig.modelCheckpointPath),
l=g.querySelector("#checkpoint-file");l.innerHTML=k;l.title=g.projectorConfig.modelCheckpointPath;h="demo"===g.projector.servingMode?g.projectorConfig.embeddings[0].tensorName:h[0];g.selectedTensor===h?g._selectedTensorChanged():g.selectedTensor=h})};d.prototype._selectedLabelOptionChanged=function(){this.projector.setSelectedLabelOption(this.selectedLabelOption)};d.prototype._selectedColorOptionNameChanged=function(){for(var e,g=0;g<this.colorOptions.length;g++)if(this.colorOptions[g].name===this.selectedColorOptionName){e=
this.colorOptions[g];break}e&&(this.showForceCategoricalColorsCheckbox=!!e.tooManyUniqueValues,this.colorLegendRenderInfo=null==e.map?null:e.items?{items:e.items.map(function(h){return{color:e.map(h.label),label:h.label,count:h.count}}),thresholds:null}:{items:null,thresholds:e.thresholds},this.projector.setSelectedColorOption(e))};d.prototype.tensorWasReadFromFile=function(e,g){var h=this;a.parseRawTensors(e,function(k){var l=h.querySelector("#checkpoint-file");l.innerText=g;l.title=g;h.projector.updateDataSet(k)})};
d.prototype.metadataWasReadFromFile=function(e,g){var h=this;a.parseRawMetadata(e,function(k){h.projector.updateDataSet(h.projector.dataSet,k,g)})};d.prototype.getEmbeddingInfoByName=function(e){for(var g=0;g<this.projectorConfig.embeddings.length;g++){var h=this.projectorConfig.embeddings[g];if(h.tensorName===e)return h}};d.prototype.setupUploadButtons=function(){var e=this,g=this.querySelector("#file");g.onchange=function(){var v=g.files[0];g.value="";var u=new FileReader;u.onload=function(){e.tensorWasReadFromFile(u.result,
v.name)};u.readAsArrayBuffer(v)};this.querySelector("#upload-tensors").onclick=function(){g.click()};var h=this.querySelector("#file-metadata");h.onchange=function(){var v=h.files[0];h.value="";var u=new FileReader;u.onload=function(){e.metadataWasReadFromFile(u.result,v.name)};u.readAsArrayBuffer(v)};this.querySelector("#upload-metadata").onclick=function(){h.click()};"demo"!==this.projector.servingMode&&(this.$$("#publish-container").style.display="none",this.$$("#upload-tensors-step-container").style.display=
"none",this.$$("#upload-metadata-label").style.display="none");this.$$("#demo-data-buttons-container").style.display="flex";var k=this.$$("#projector-config-template"),l={embeddings:[{tensorName:"My tensor",tensorShape:[1E3,50],tensorPath:"https://raw.githubusercontent.com/.../tensors.tsv",metadataPath:"https://raw.githubusercontent.com/.../optional.metadata.tsv"}]};this.setProjectorConfigTemplateJson(k,l);var m=this.$$("#config-sprite-checkbox");m.onchange=function(){m.checked?l.embeddings[0].sprite=
{imagePath:"https://github.com/.../optional.sprite.png",singleImageDim:[32,32]}:delete l.embeddings[0].sprite;e.setProjectorConfigTemplateJson(k,l)};var n=this.$$("#config-bookmarks-checkbox");n.onchange=function(){n.checked?l.embeddings[0].bookmarksPath="https://raw.githubusercontent.com/.../bookmarks.txt":delete l.embeddings[0].bookmarksPath;e.setProjectorConfigTemplateJson(k,l)};var q=this.$$("#config-metadata-checkbox");q.onchange=function(){q.checked?l.embeddings[0].metadataPath="https://raw.githubusercontent.com/.../optional.metadata.tsv":
delete l.embeddings[0].metadataPath;e.setProjectorConfigTemplateJson(k,l)};var p=this.$$("#projector-config-url"),t=this.$$("#projector-share-url"),r=this.$$("#projector-share-url-link");p.onchange=function(){var v=location.protocol+"//"+location.host+location.pathname+"?config\x3d"+p.value;t.value=v;r.href=v}};d.prototype.setProjectorConfigTemplateJson=function(e,g){e.value=JSON.stringify(g,null,2)};d.prototype._getNumTensorsLabel=function(){return 1===this.tensorNames.length?"1 tensor":this.tensorNames.length+
" tensors"};d.prototype._getNumRunsLabel=function(){return 1===this.runNames.length?"1 run":this.runNames.length+" runs"};d.prototype._hasChoice=function(e){return 0<e.length};d.prototype._hasChoices=function(e){return 1<e.length};return d}(a.DataPanelPolymer);a.DataPanel=b;document.registerElement(b.prototype.is,b)})(wc||(wc={}));
</script>
</dom-module>








<dom-module id="vz-projector-input">
<template>
<style include="vz-projector-styles"></style>
<style>
.info {
  color: rgba(0, 0, 0, 0.5);
  display: block;
  font-size: 11px;
}

.toggle {
  font-size: 12px;
  height: 21px;
  margin: 0px;
  min-width: 0px;
  min-height: 0px;
  padding: 0;
  width: 17px;
}

.toggle[active] {
  background-color: #880E4F;
  color: white;
}
</style>

<paper-input label="[[label]]">
  <div class="slash" prefix slot="prefix">/</div>
  <div class="slash" suffix slot="suffix">/</div>
  <div suffix slot="suffix">
    <paper-button id="regex" toggles class="toggle">.*</paper-button>
  </div>
</paper-input>
<paper-tooltip for="regex" position="bottom" animation-delay="0" fit-to-visible-bounds>
  Enable/disable regex mode.
</paper-tooltip>
<span class="info">[[message]]</span>


</template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-input.js
zc=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){a.ProjectorInputPolymer=a.PolymerElement({is:"vz-projector-input",properties:{label:String,message:String}});var b=function(c){function d(){return null!==c&&c.apply(this,arguments)||this}zc(d,c);d.prototype.registerInputChangedListener=function(e){this.textChangedListeners.push(e)};d.prototype.ready=function(){var e=this;this.inRegexMode=!1;this.textChangedListeners=[];this.paperInput=this.querySelector("paper-input");this.inRegexModeButton=this.querySelector("paper-button");this.paperInput.setAttribute("error-message",
"Invalid regex");this.paperInput.addEventListener("input",function(){e.onTextChanged()});this.paperInput.addEventListener("keydown",function(g){g.stopPropagation()});this.inRegexModeButton.addEventListener("click",function(){return e.onClickRegexModeButton()});this.updateRegexModeDisplaySlashes();this.onTextChanged()};d.prototype.onClickRegexModeButton=function(){this.inRegexMode=this.inRegexModeButton.active;this.updateRegexModeDisplaySlashes();this.onTextChanged()};d.prototype.notifyInputChanged=
function(e,g){this.textChangedListeners.forEach(function(h){return h(e,g)})};d.prototype.onTextChanged=function(){try{this.inRegexMode&&new RegExp(this.paperInput.value)}catch(e){this.paperInput.setAttribute("invalid","true");this.message="";this.notifyInputChanged(null,!0);return}this.paperInput.removeAttribute("invalid");this.notifyInputChanged(this.paperInput.value,this.inRegexMode)};d.prototype.updateRegexModeDisplaySlashes=function(){for(var e=this.paperInput.querySelectorAll(".slash"),g=this.inRegexMode?
"":"none",h=0;h<e.length;h++)e[h].style.display=g};d.prototype.getValue=function(){return this.paperInput.value};d.prototype.getInRegexMode=function(){return this.inRegexMode};d.prototype.set=function(e,g){this.inRegexModeButton.active=g;this.paperInput.value=e;this.onClickRegexModeButton()};return d}(a.ProjectorInputPolymer);a.ProjectorInput=b;document.registerElement(b.prototype.is,b)})(wc||(wc={}));
</script>
</dom-module>











<script>//~~WEBPATH~~/iron-range-behavior/iron-range-behavior.html.js
Polymer.IronRangeBehavior={properties:{value:{type:Number,value:0,notify:!0,reflectToAttribute:!0},min:{type:Number,value:0,notify:!0},max:{type:Number,value:100,notify:!0},step:{type:Number,value:1,notify:!0},ratio:{type:Number,value:0,readOnly:!0,notify:!0}},observers:["_update(value, min, max, step)"],_calcRatio:function(a){return(this._clampValue(a)-this.min)/(this.max-this.min)},_clampValue:function(a){return Math.min(this.max,Math.max(this.min,this._calcStep(a)))},_calcStep:function(a){a=parseFloat(a);
if(!this.step)return a;a=Math.round((a-this.min)/this.step);return 1>this.step?a/(1/this.step)+this.min:a*this.step+this.min},_validateValue:function(){var a=this._clampValue(this.value);this.value=this.oldValue=isNaN(a)?this.oldValue:a;return this.value!==a},_update:function(){this._validateValue();this._setRatio(100*this._calcRatio(this.value))}};
</script>










<dom-module id="paper-progress">
  <template>
    <style>
      :host {
        display: block;
        width: 200px;
        position: relative;
        overflow: hidden;
      }

      :host([hidden]), [hidden] {
        display: none !important;
      }

      #progressContainer {
        @apply --paper-progress-container;
        position: relative;
      }

      #progressContainer,
      /* the stripe for the indeterminate animation*/
      .indeterminate::after {
        height: var(--paper-progress-height, 4px);
      }

      #primaryProgress,
      #secondaryProgress,
      .indeterminate::after {
        @apply --layout-fit;
      }

      #progressContainer,
      .indeterminate::after {
        background: var(--paper-progress-container-color, var(--google-grey-300));
      }

      :host(.transiting) #primaryProgress,
      :host(.transiting) #secondaryProgress {
        -webkit-transition-property: -webkit-transform;
        transition-property: transform;

        /* Duration */
        -webkit-transition-duration: var(--paper-progress-transition-duration, 0.08s);
        transition-duration: var(--paper-progress-transition-duration, 0.08s);

        /* Timing function */
        -webkit-transition-timing-function: var(--paper-progress-transition-timing-function, ease);
        transition-timing-function: var(--paper-progress-transition-timing-function, ease);

        /* Delay */
        -webkit-transition-delay: var(--paper-progress-transition-delay, 0s);
        transition-delay: var(--paper-progress-transition-delay, 0s);
      }

      #primaryProgress,
      #secondaryProgress {
        @apply --layout-fit;
        -webkit-transform-origin: left center;
        transform-origin: left center;
        -webkit-transform: scaleX(0);
        transform: scaleX(0);
        will-change: transform;
      }

      #primaryProgress {
        background: var(--paper-progress-active-color, var(--google-green-500));
      }

      #secondaryProgress {
        background: var(--paper-progress-secondary-color, var(--google-green-100));
      }

      :host([disabled]) #primaryProgress {
        background: var(--paper-progress-disabled-active-color, var(--google-grey-500));
      }

      :host([disabled]) #secondaryProgress {
        background: var(--paper-progress-disabled-secondary-color, var(--google-grey-300));
      }

      :host(:not([disabled])) #primaryProgress.indeterminate {
        -webkit-transform-origin: right center;
        transform-origin: right center;
        -webkit-animation: indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;
        animation: indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;
      }

      :host(:not([disabled])) #primaryProgress.indeterminate::after {
        content: "";
        -webkit-transform-origin: center center;
        transform-origin: center center;

        -webkit-animation: indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;
        animation: indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;
      }

      @-webkit-keyframes indeterminate-bar {
        0% {
          -webkit-transform: scaleX(1) translateX(-100%);
        }
        50% {
          -webkit-transform: scaleX(1) translateX(0%);
        }
        75% {
          -webkit-transform: scaleX(1) translateX(0%);
          -webkit-animation-timing-function: cubic-bezier(.28,.62,.37,.91);
        }
        100% {
          -webkit-transform: scaleX(0) translateX(0%);
        }
      }

      @-webkit-keyframes indeterminate-splitter {
        0% {
          -webkit-transform: scaleX(.75) translateX(-125%);
        }
        30% {
          -webkit-transform: scaleX(.75) translateX(-125%);
          -webkit-animation-timing-function: cubic-bezier(.42,0,.6,.8);
        }
        90% {
          -webkit-transform: scaleX(.75) translateX(125%);
        }
        100% {
          -webkit-transform: scaleX(.75) translateX(125%);
        }
      }

      @keyframes indeterminate-bar {
        0% {
          transform: scaleX(1) translateX(-100%);
        }
        50% {
          transform: scaleX(1) translateX(0%);
        }
        75% {
          transform: scaleX(1) translateX(0%);
          animation-timing-function: cubic-bezier(.28,.62,.37,.91);
        }
        100% {
          transform: scaleX(0) translateX(0%);
        }
      }

      @keyframes indeterminate-splitter {
        0% {
          transform: scaleX(.75) translateX(-125%);
        }
        30% {
          transform: scaleX(.75) translateX(-125%);
          animation-timing-function: cubic-bezier(.42,0,.6,.8);
        }
        90% {
          transform: scaleX(.75) translateX(125%);
        }
        100% {
          transform: scaleX(.75) translateX(125%);
        }
      }
    </style>

    <div id="progressContainer">
      <div id="secondaryProgress" hidden$="[[_hideSecondaryProgress(secondaryRatio)]]"></div>
      <div id="primaryProgress"></div>
    </div>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-progress/paper-progress.html.js
Polymer({is:"paper-progress",behaviors:[Polymer.IronRangeBehavior],properties:{secondaryProgress:{type:Number,value:0},secondaryRatio:{type:Number,value:0,readOnly:!0},indeterminate:{type:Boolean,value:!1,observer:"_toggleIndeterminate"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_disabledChanged"}},observers:["_progressChanged(secondaryProgress, value, min, max, indeterminate)"],hostAttributes:{role:"progressbar"},_toggleIndeterminate:function(a){this.toggleClass("indeterminate",
a,this.$.primaryProgress)},_transformProgress:function(a,b){a.style.transform=a.style.webkitTransform="scaleX("+b/100+")"},_mainRatioChanged:function(a){this._transformProgress(this.$.primaryProgress,a)},_progressChanged:function(a,b,c,d,e){a=this._clampValue(a);b=this._clampValue(b);var g=100*this._calcRatio(a),h=100*this._calcRatio(b);this._setSecondaryRatio(g);this._transformProgress(this.$.secondaryProgress,g);this._transformProgress(this.$.primaryProgress,h);this.secondaryProgress=a;e?this.removeAttribute("aria-valuenow"):
this.setAttribute("aria-valuenow",b);this.setAttribute("aria-valuemin",c);this.setAttribute("aria-valuemax",d)},_disabledChanged:function(a){this.setAttribute("aria-disabled",a?"true":"false")},_hideSecondaryProgress:function(a){return 0===a}});
</script>





<dom-module id="paper-slider">
  <template strip-whitespace>
    <style>
      :host {
        @apply --layout;
        @apply --layout-justified;
        @apply --layout-center;
        width: 200px;
        cursor: default;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        --paper-progress-active-color: var(--paper-slider-active-color, var(--google-blue-700));
        --paper-progress-secondary-color: var(--paper-slider-secondary-color, var(--google-blue-300));
        --paper-progress-disabled-active-color: var(--paper-slider-disabled-active-color, var(--paper-grey-400));
        --paper-progress-disabled-secondary-color: var(--paper-slider-disabled-secondary-color, var(--paper-grey-400));
        --calculated-paper-slider-height: var(--paper-slider-height, 2px);
      }

      /* focus shows the ripple */
      :host(:focus) {
        outline: none;
      }

      /**
       * NOTE(keanulee): Though :host-context is not universally supported, some pages
       * still rely on paper-slider being flipped when dir="rtl" is set on body. For full
       * compatibility, dir="rtl" must be explicitly set on paper-slider.
       */
      :dir(rtl) #sliderContainer {
        -webkit-transform: scaleX(-1);
        transform: scaleX(-1);
      }

      /**
       * NOTE(keanulee): This is separate from the rule above because :host-context may
       * not be recognized.
       */
      :host([dir="rtl"]) #sliderContainer {
        -webkit-transform: scaleX(-1);
        transform: scaleX(-1);
      }

      /**
       * NOTE(keanulee): Needed to override the :host-context rule (where supported)
       * to support LTR sliders in RTL pages.
       */
      :host([dir="ltr"]) #sliderContainer {
        -webkit-transform: scaleX(1);
        transform: scaleX(1);
      }

      #sliderContainer {
        position: relative;
        width: 100%;
        height: calc(30px + var(--calculated-paper-slider-height));
        margin-left: calc(15px + var(--calculated-paper-slider-height)/2);
        margin-right: calc(15px + var(--calculated-paper-slider-height)/2);
      }

      #sliderContainer:focus {
        outline: 0;
      }

      #sliderContainer.editable {
        margin-top: 12px;
        margin-bottom: 12px;
      }

      .bar-container {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        overflow: hidden;
      }

      .ring > .bar-container {
        left: calc(5px + var(--calculated-paper-slider-height)/2);
        transition: left 0.18s ease;
      }

      .ring.expand.dragging > .bar-container {
        transition: none;
      }

      .ring.expand:not(.pin) > .bar-container {
        left: calc(8px + var(--calculated-paper-slider-height)/2);
      }

      #sliderBar {
        padding: 15px 0;
        width: 100%;
        background-color: var(--paper-slider-bar-color, transparent);
        --paper-progress-container-color: var(--paper-slider-container-color, var(--paper-grey-400));
        --paper-progress-height: var(--calculated-paper-slider-height);
      }

      .slider-markers {
        position: absolute;
        /* slider-knob is 30px + the slider-height so that the markers should start at a offset of 15px*/
        top: 15px;
        height: var(--calculated-paper-slider-height);
        left: 0;
        right: -1px;
        box-sizing: border-box;
        pointer-events: none;
        @apply --layout-horizontal;
      }

      .slider-marker {
        @apply --layout-flex;
      }
      .slider-markers::after,
      .slider-marker::after {
        content: "";
        display: block;
        margin-left: -1px;
        width: 2px;
        height: var(--calculated-paper-slider-height);
        border-radius: 50%;
        background-color: var(--paper-slider-markers-color, #000);
      }

      .slider-knob {
        position: absolute;
        left: 0;
        top: 0;
        margin-left: calc(-15px - var(--calculated-paper-slider-height)/2);
        width: calc(30px + var(--calculated-paper-slider-height));
        height: calc(30px + var(--calculated-paper-slider-height));
      }

      .transiting > .slider-knob {
        transition: left 0.08s ease;
      }

      .slider-knob:focus {
        outline: none;
      }

      .slider-knob.dragging {
        transition: none;
      }

      .snaps > .slider-knob.dragging {
        transition: -webkit-transform 0.08s ease;
        transition: transform 0.08s ease;
      }

      .slider-knob-inner {
        margin: 10px;
        width: calc(100% - 20px);
        height: calc(100% - 20px);
        background-color: var(--paper-slider-knob-color, var(--google-blue-700));
        border: 2px solid var(--paper-slider-knob-color, var(--google-blue-700));
        border-radius: 50%;

        -moz-box-sizing: border-box;
        box-sizing: border-box;

        transition-property: -webkit-transform, background-color, border;
        transition-property: transform, background-color, border;
        transition-duration: 0.18s;
        transition-timing-function: ease;
      }

      .expand:not(.pin) > .slider-knob > .slider-knob-inner {
        -webkit-transform: scale(1.5);
        transform: scale(1.5);
      }

      .ring > .slider-knob > .slider-knob-inner {
        background-color: var(--paper-slider-knob-start-color, transparent);
        border: 2px solid var(--paper-slider-knob-start-border-color, var(--paper-grey-400));
      }

      .slider-knob-inner::before {
        background-color: var(--paper-slider-pin-color, var(--google-blue-700));
      }

      .pin > .slider-knob > .slider-knob-inner::before {
        content: "";
        position: absolute;
        top: 0;
        left: 50%;
        margin-left: -13px;
        width: 26px;
        height: 26px;
        border-radius: 50% 50% 50% 0;

        -webkit-transform: rotate(-45deg) scale(0) translate(0);
        transform: rotate(-45deg) scale(0) translate(0);
      }

      .slider-knob-inner::before,
      .slider-knob-inner::after {
        transition: -webkit-transform .18s ease, background-color .18s ease;
        transition: transform .18s ease, background-color .18s ease;
      }

      .pin.ring > .slider-knob > .slider-knob-inner::before {
        background-color: var(--paper-slider-pin-start-color, var(--paper-grey-400));
      }

      .pin.expand > .slider-knob > .slider-knob-inner::before {
        -webkit-transform: rotate(-45deg) scale(1) translate(17px, -17px);
        transform: rotate(-45deg) scale(1) translate(17px, -17px);
      }

      .pin > .slider-knob > .slider-knob-inner::after {
        content: attr(value);
        position: absolute;
        top: 0;
        left: 50%;
        margin-left: -16px;
        width: 32px;
        height: 26px;
        text-align: center;
        color: var(--paper-slider-font-color, #fff);
        font-size: 10px;

        -webkit-transform: scale(0) translate(0);
        transform: scale(0) translate(0);
      }

      .pin.expand > .slider-knob > .slider-knob-inner::after {
        -webkit-transform: scale(1) translate(0, -17px);
        transform: scale(1) translate(0, -17px);
      }

      /* paper-input */
      .slider-input {
        width: 50px;
        overflow: hidden;
        --paper-input-container-input: {
          text-align: center;
          @apply --paper-slider-input-container-input;
        };
        @apply --paper-slider-input;
      }

      /* disabled state */
      #sliderContainer.disabled {
        pointer-events: none;
      }

      .disabled > .slider-knob > .slider-knob-inner {
        background-color: var(--paper-slider-disabled-knob-color, var(--paper-grey-400));
        border: 2px solid var(--paper-slider-disabled-knob-color, var(--paper-grey-400));
        -webkit-transform: scale3d(0.75, 0.75, 1);
        transform: scale3d(0.75, 0.75, 1);
      }

      .disabled.ring > .slider-knob > .slider-knob-inner {
        background-color: var(--paper-slider-knob-start-color, transparent);
        border: 2px solid var(--paper-slider-knob-start-border-color, var(--paper-grey-400));
      }

      paper-ripple {
        color: var(--paper-slider-knob-color, var(--google-blue-700));
      }
    </style>

    <div id="sliderContainer" class$="[[_getClassNames(disabled, pin, snaps, immediateValue, min, expand, dragging, transiting, editable)]]">
      <div class="bar-container">
        <paper-progress disabled$="[[disabled]]" id="sliderBar" aria-hidden="true" min="[[min]]" max="[[max]]" step="[[step]]" value="[[immediateValue]]" secondary-progress="[[secondaryProgress]]" on-down="_bardown" on-up="_resetKnob" on-track="_bartrack" on-tap="_barclick">
        </paper-progress>
      </div>

      <template is="dom-if" if="[[snaps]]">
        <div class="slider-markers">
          <template is="dom-repeat" items="[[markers]]">
            <div class="slider-marker"></div>
          </template>
        </div>
      </template>

      <div id="sliderKnob" class="slider-knob" on-down="_knobdown" on-up="_resetKnob" on-track="_onTrack" on-transitionend="_knobTransitionEnd">
          <div class="slider-knob-inner" value$="[[immediateValue]]"></div>
      </div>
    </div>

    <template is="dom-if" if="[[editable]]">
      <paper-input id="input" type="number" step="[[step]]" min="[[min]]" max="[[max]]" class="slider-input" disabled$="[[disabled]]" value="[[immediateValue]]" on-change="_changeValue" on-keydown="_inputKeyDown" no-label-float>
      </paper-input>
    </template>
  </template>

  <script>//~~WEBPATH~~/paper-slider/paper-slider.html.js
Polymer({is:"paper-slider",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronFormElementBehavior,Polymer.PaperInkyFocusBehavior,Polymer.IronRangeBehavior],properties:{value:{type:Number,value:0},snaps:{type:Boolean,value:!1,notify:!0},pin:{type:Boolean,value:!1,notify:!0},secondaryProgress:{type:Number,value:0,notify:!0,observer:"_secondaryProgressChanged"},editable:{type:Boolean,value:!1},immediateValue:{type:Number,value:0,readOnly:!0,notify:!0},maxMarkers:{type:Number,value:0,notify:!0},expand:{type:Boolean,
value:!1,readOnly:!0},ignoreBarTouch:{type:Boolean,value:!1},dragging:{type:Boolean,value:!1,readOnly:!0,notify:!0},transiting:{type:Boolean,value:!1,readOnly:!0},markers:{type:Array,readOnly:!0,value:function(){return[]}}},observers:["_updateKnob(value, min, max, snaps, step)","_valueChanged(value)","_immediateValueChanged(immediateValue)","_updateMarkers(maxMarkers, min, max, snaps)"],hostAttributes:{role:"slider",tabindex:0},keyBindings:{left:"_leftKey",right:"_rightKey","down pagedown home":"_decrementKey",
"up pageup end":"_incrementKey"},ready:function(){this.ignoreBarTouch&&Polymer.Gestures.setTouchAction(this.$.sliderBar,"auto")},increment:function(){this.value=this._clampValue(this.value+this.step)},decrement:function(){this.value=this._clampValue(this.value-this.step)},_updateKnob:function(a,b,c){this.setAttribute("aria-valuemin",b);this.setAttribute("aria-valuemax",c);this.setAttribute("aria-valuenow",a);this._positionKnob(100*this._calcRatio(a))},_valueChanged:function(){this.fire("value-change",
{composed:!0})},_immediateValueChanged:function(){this.dragging?this.fire("immediate-value-change",{composed:!0}):this.value=this.immediateValue},_secondaryProgressChanged:function(){this.secondaryProgress=this._clampValue(this.secondaryProgress)},_expandKnob:function(){this._setExpand(!0)},_resetKnob:function(){this.cancelDebouncer("expandKnob");this._setExpand(!1)},_positionKnob:function(a){this._setImmediateValue(this._calcStep(this._calcKnobPosition(a)));this._setRatio(100*this._calcRatio(this.immediateValue));
this.$.sliderKnob.style.left=this.ratio+"%";this.dragging&&(this._knobstartx=this.ratio*this._w/100,this.translate3d(0,0,0,this.$.sliderKnob))},_calcKnobPosition:function(a){return(this.max-this.min)*a/100+this.min},_onTrack:function(a){a.stopPropagation();switch(a.detail.state){case "start":this._trackStart(a);break;case "track":this._trackX(a);break;case "end":this._trackEnd()}},_trackStart:function(){this._setTransiting(!1);this._w=this.$.sliderBar.offsetWidth;this._knobstartx=this._startx=this._x=
this.ratio*this._w/100;this._minx=-this._startx;this._maxx=this._w-this._startx;this.$.sliderKnob.classList.add("dragging");this._setDragging(!0)},_trackX:function(a){this.dragging||this._trackStart(a);this._x=this._startx+Math.min(this._maxx,Math.max(this._minx,a.detail.dx*(this._isRTL?-1:1)));this._setImmediateValue(this._calcStep(this._calcKnobPosition(this._x/this._w*100)));this.translate3d(this._calcRatio(this.immediateValue)*this._w-this._knobstartx+"px",0,0,this.$.sliderKnob)},_trackEnd:function(){var a=
this.$.sliderKnob.style;this.$.sliderKnob.classList.remove("dragging");this._setDragging(!1);this._resetKnob();this.value=this.immediateValue;a.transform=a.webkitTransform="";this.fire("change",{composed:!0})},_knobdown:function(a){this._expandKnob();a.preventDefault();this.focus()},_bartrack:function(a){this._allowBarEvent(a)&&this._onTrack(a)},_barclick:function(a){this._w=this.$.sliderBar.offsetWidth;var b=this.$.sliderBar.getBoundingClientRect();b=(a.detail.x-b.left)/this._w*100;this._isRTL&&
(b=100-b);var c=this.ratio;this._setTransiting(!0);this._positionKnob(b);c===this.ratio&&this._setTransiting(!1);this.async(function(){this.fire("change",{composed:!0})});a.preventDefault();this.focus()},_bardown:function(a){this._allowBarEvent(a)&&(this.debounce("expandKnob",this._expandKnob,60),this._barclick(a))},_knobTransitionEnd:function(a){a.target===this.$.sliderKnob&&this._setTransiting(!1)},_updateMarkers:function(a,b,c,d){d||this._setMarkers([]);b=Math.round((c-b)/this.step);b>a&&(b=a);
if(0>b||!isFinite(b))b=0;this._setMarkers(Array(b))},_mergeClasses:function(a){return Object.keys(a).filter(function(b){return a[b]}).join(" ")},_getClassNames:function(){return this._mergeClasses({disabled:this.disabled,pin:this.pin,snaps:this.snaps,ring:this.immediateValue<=this.min,expand:this.expand,dragging:this.dragging,transiting:this.transiting,editable:this.editable})},_allowBarEvent:function(a){return!this.ignoreBarTouch||a.detail.sourceEvent instanceof MouseEvent},get _isRTL(){void 0===
this.__isRTL&&(this.__isRTL="rtl"===window.getComputedStyle(this).direction);return this.__isRTL},_leftKey:function(a){this._isRTL?this._incrementKey(a):this._decrementKey(a)},_rightKey:function(a){this._isRTL?this._decrementKey(a):this._incrementKey(a)},_incrementKey:function(a){this.disabled||("end"===a.detail.key?this.value=this.max:this.increment(),this.fire("change"),a.preventDefault())},_decrementKey:function(a){this.disabled||("home"===a.detail.key?this.value=this.min:this.decrement(),this.fire("change"),
a.preventDefault())},_changeValue:function(a){this.value=a.target.value;this.fire("change",{composed:!0})},_inputKeyDown:function(a){a.stopPropagation()},_createRipple:function(){this._rippleContainer=this.$.sliderKnob;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)},_focusedChanged:function(a){a&&this.ensureRipple();this.hasRipple()&&(this._ripple.style.display=a?"":"none",this._ripple.holdDown=a)}});
</script>
</dom-module>







<dom-module id="vz-projector-inspector-panel">
<style include="vz-projector-styles"></style>
<style>
:host {
   display: flex;
   flex-direction: column;
   /* Account for the bookmark pane at the bottom */
   height: calc(100% - 55px);
}

.container {
  display: block;
  padding: 10px 20px 0 20px;
}

.buttons {
  display: flex;
  height: 60px;
}

.button {
  margin-right: 10px;
  border: none;
  border-radius: 7px;
  font-size: 13px;
  padding: 10px;
  background: #e3e3e3;
}

.button:last-child {
  margin-right: 0;
}

.nn, .metadata-info {
  display: flex;
  flex-direction: column;
}

.nn > *, .metadata-info > * {
  padding: 0 20px;
}

.nn-list, .metadata-list {
  overflow-y: auto;
}

.nn-list .neighbor, .metadata-list .metadata {
  font-size: 12px;
  margin-bottom: 8px;
}

.nn-list .label-and-value, .metadata-list .label-and-value {
  display: flex;
  justify-content: space-between;
}

.label {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.nn-list .value, .metadata-list .value {
  color: #666;
  float: right;
  font-weight: 300;
  margin-left: 8px;
}

.nn-list .bar, .metadata-list .bar {
  position: relative;
  border-top: 1px solid rgba(0, 0, 0, 0.15);
  margin: 2px 0;
}

.nn-list .bar .fill, .metadata-list .bar .fill {
  position: absolute;
  top: -1px;
  border-top: 1px solid white;
}

.nn-list .tick, .metadata-list .tick {
  position: absolute;
  top: 0px;
  height: 3px;
  border-left: 1px solid rgba(0, 0, 0, 0.15);
}

.nn-list .neighbor-link:hover, .metadata-list .metadata-link:hover {
  cursor: pointer;
}

.search-by {
  display: flex;
}

.search-by vz-projector-input {
  width: 100%;
}

.search-by paper-dropdown-menu {
  margin-left: 10px;
  width: 100px;
}

.distance .options {
  float: right;
}

.options a {
  color: #727272;
  font-size: 13px;
  margin-left: 12px;
  text-decoration: none;
}

.options a.selected {
  color: #009EFE;
}

.neighbors {
  margin-bottom: 30px;
}

.neighbors-options {
  margin-top: 6px;
}

.neighbors-options .option-label, .distance .option-label {
  color: #727272;
  margin-right: 2px;
  width: auto;
}

.num-neighbors-container {
  display: inline-block;
}

.nn-slider {
  --paper-slider-input: {
    width: 64px;
  };
  --paper-input-container-input: {
    font-size: 14px;
  };
}

.euclidean {
  margin-right: 10px;
}

.matches-list {
  padding: 0 20px;
}

.matches-list .row {
  border-bottom: 1px solid #ddd;
  cursor: pointer;
  display: flex;
  font-size: 12px;
  margin: 5px 0;
  padding: 4px 0;
}

.results {
  display: flex;
  flex-direction: column;
}
</style>
<template>
<div class="container">
  <div class="buttons">
    <button class="button reset-filter">Show All Data</button>
    <button class="button set-filter">Isolate selection</button>
    <button class="button clear-selection">Clear selection</button>
  </div>
  <div class="search-by">
    <vz-projector-input id="search-box" label="Search"></vz-projector-input>
    <paper-dropdown-menu no-animations label="by">
      <paper-listbox attr-for-selected="value" class="dropdown-content" selected="{{selectedMetadataField}}" slot="dropdown-content">
        <template is="dom-repeat" items="[[metadataFields]]">
          <paper-item value="[[item]]" label="[[item]]">
            [[item]]
          </paper-item>
        </template>
      </paper-listbox>
    </paper-dropdown-menu>
  </div>
</div>
<div class="results">
  <div class="nn" style="display: none">
    <div class="neighbors">
      <div class="neighbors-options">
        <div class="slider num-nn">
          <span class="option-label">neighbors</span>
          <paper-icon-button icon="help" class="help-icon"></paper-icon-button>
          <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds>
            The number of neighbors (in the original space) to show when clicking on a point.
          </paper-tooltip>
          <paper-slider class="nn-slider" pin min="5" max="999" editable value="{{numNN}}" on-change="updateNumNN"></paper-slider>
        </div>
      </div>
      <div class="distance">
        <span class="option-label">distance</span>
        <div class="options">
          <a class="selected cosine" href="javascript:void(0);">COSINE</a>
          <a class="euclidean" href="javascript:void(0);">EUCLIDEAN</a>
        </div>
      </div>
    </div>
    <p>Nearest points in the original space:
    <div class="nn-list"></div>
  </div>
  <div class="metadata-info" style="display: none">
    <div class="neighbors-options">
      <div class="slider num-nn">
        <span class="option-label">neighbors</span>
        <paper-icon-button icon="help" class="help-icon"></paper-icon-button>
        <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds>
          The number of neighbors (in the selected space) to show when clicking on a point.
        </paper-tooltip>
        <paper-slider class="nn-slider" pin min="5" max="999" editable value="{{numNN}}" on-change="updateNumNN"></paper-slider>
      </div>
    </div>
    <p>{{metadataColumn}} labels (click to apply):
    <div class="metadata-list"></div>
  </div>
  <div class="matches-list" style="display: none">
    <div class="list"></div>
    <div class="limit-msg">Showing only the first 100 results...</div>
  </div>
</div>

</template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-inspector-panel.js
zc=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){a.InspectorPanelPolymer=a.PolymerElement({is:"vz-projector-inspector-panel",properties:{selectedMetadataField:String,metadataFields:Array,metadataColumn:String,numNN:{type:Number,value:100},updateNumNN:Object}});var b=function(c){function d(){return null!==c&&c.apply(this,arguments)||this}zc(d,c);d.prototype.ready=function(){this.resetFilterButton=this.querySelector(".reset-filter");this.setFilterButton=this.querySelector(".set-filter");this.clearSelectionButton=this.querySelector(".clear-selection");
this.limitMessage=this.querySelector(".limit-msg");this.searchBox=this.querySelector("#search-box");this.displayContexts=[];this.scopeSubtree(this,!0)};d.prototype.initialize=function(e,g){var h=this;this.projector=e;this.projectorEventContext=g;this.setupUI(e);g.registerSelectionChangedListener(function(k,l){return h.updateInspectorPane(k,l)})};d.prototype.updateInspectorPane=function(e,g){this.neighborsOfFirstPoint=g;this.selectedPointIndices=e;this.updateFilterButtons(e.length+g.length);this.updateNeighborsList(g);
0===g.length?this.updateSearchResults(e):this.updateSearchResults([])};d.prototype.enableResetFilterButton=function(e){this.resetFilterButton.disabled=!e};d.prototype.restoreUIFromBookmark=function(e){this.enableResetFilterButton(null!=e.filteredPoints)};d.prototype.metadataChanged=function(e){var g=this,h=-1;this.metadataFields=e.stats.map(function(k,l){k.isNumeric||-1!==h||(h=l);return k.name});if(null==this.selectedMetadataField||0===this.metadataFields.filter(function(k){return k===g.selectedMetadataField}).length)this.selectedMetadataField=
this.metadataFields[Math.max(0,h)];this.updateInspectorPane(this.selectedPointIndices,this.neighborsOfFirstPoint)};d.prototype.datasetChanged=function(){this.enableResetFilterButton(!1)};d.prototype.metadataEditorContext=function(e,g){var h=this;if(this.projector&&this.projector.dataSet){var k=this.projector.dataSet.spriteAndMetadataInfo.stats.filter(function(n){return n.name===g});if(!e||0===k.length||k[0].tooManyUniqueValues)this.removeContext(".metadata-info");else{this.metadataColumn=g;this.addContext(".metadata-info");
var l=this.querySelector(".metadata-list");l.innerHTML="";e=k[0].uniqueEntries.sort(function(n,q){return n.count-q.count});var m=e[e.length-1].count;e.forEach(function(n){var q=document.createElement("div");q.className="metadata";var p=document.createElement("a");p.className="metadata-link";p.title=n.label;var t=document.createElement("div");t.className="label-and-value";var r=document.createElement("div");r.className="label";r.style.color=a.dist2color(h.distFunc,m,n.count);r.innerText=n.label;var v=
document.createElement("div");v.className="value";v.innerText=n.count.toString();t.appendChild(r);t.appendChild(v);r=document.createElement("div");r.className="bar";v=document.createElement("div");v.className="fill";v.style.borderTopColor=a.dist2color(h.distFunc,m,n.count);v.style.width=100*a.normalizeDist(h.distFunc,m,n.count)+"%";r.appendChild(v);for(v=1;4>v;v++){var u=document.createElement("div");u.className="tick";u.style.left=100*v/4+"%";r.appendChild(u)}p.appendChild(t);p.appendChild(r);q.appendChild(p);
l.appendChild(q);p.onclick=function(){h.projector.metadataEdit(g,n.label)}})}}};d.prototype.addContext=function(e){var g=this;-1===this.displayContexts.indexOf(e)&&this.displayContexts.push(e);this.displayContexts.forEach(function(h){g.querySelector(h).style.display="none"});this.querySelector(e).style.display=null};d.prototype.removeContext=function(e){this.displayContexts=this.displayContexts.filter(function(g){return g!==e});this.querySelector(e).style.display="none";0<this.displayContexts.length&&
(this.querySelector(this.displayContexts[this.displayContexts.length-1]).style.display=null)};d.prototype.updateSearchResults=function(e){var g=this,h=this.querySelector(".matches-list").querySelector(".list");h.innerHTML="";if(0===e.length)this.removeContext(".matches-list");else{this.addContext(".matches-list");this.limitMessage.style.display=100>=e.length?"none":null;e=e.slice(0,100);for(var k=function(n){var q=e[n];n=document.createElement("div");n.className="row";var p=l.getLabelFromIndex(q),
t=document.createElement("a");t.className="label";t.title=p;t.innerText=p;t.onmouseenter=function(){g.projectorEventContext.notifyHoverOverPoint(q)};t.onmouseleave=function(){g.projectorEventContext.notifyHoverOverPoint(null)};t.onclick=function(){g.projectorEventContext.notifySelectionChanged([q])};n.appendChild(t);h.appendChild(n)},l=this,m=0;m<e.length;m++)k(m)}};d.prototype.getLabelFromIndex=function(e){return this.projector.dataSet.points[e].metadata[this.selectedMetadataField].toString()};d.prototype.updateNeighborsList=
function(e){var g=this,h=this.querySelector(".nn-list");h.innerHTML="";if(0===e.length)this.removeContext(".nn");else{this.addContext(".nn");this.searchBox.message="";for(var k=0<e.length?e[0].dist:0,l=function(q){var p=e[q];q=document.createElement("div");q.className="neighbor";var t=document.createElement("a");t.className="neighbor-link";t.title=m.getLabelFromIndex(p.index);var r=document.createElement("div");r.className="label-and-value";var v=document.createElement("div");v.className="label";
v.style.color=a.dist2color(m.distFunc,p.dist,k);v.innerText=m.getLabelFromIndex(p.index);var u=document.createElement("div");u.className="value";u.innerText=p.dist.toFixed(3);r.appendChild(v);r.appendChild(u);v=document.createElement("div");v.className="bar";u=document.createElement("div");u.className="fill";u.style.borderTopColor=a.dist2color(m.distFunc,p.dist,k);u.style.width=100*a.normalizeDist(m.distFunc,p.dist,k)+"%";v.appendChild(u);for(u=1;4>u;u++){var w=document.createElement("div");w.className=
"tick";w.style.left=100*u/4+"%";v.appendChild(w)}t.appendChild(r);t.appendChild(v);q.appendChild(t);h.appendChild(q);t.onmouseenter=function(){g.projectorEventContext.notifyHoverOverPoint(p.index)};t.onmouseleave=function(){g.projectorEventContext.notifyHoverOverPoint(null)};t.onclick=function(){g.projectorEventContext.notifySelectionChanged([p.index])}},m=this,n=0;n<e.length;n++)l(n)}};d.prototype.updateFilterButtons=function(e){1<e?(this.setFilterButton.innerText="Isolate "+e+" points",this.setFilterButton.disabled=
null,this.clearSelectionButton.disabled=null):(this.setFilterButton.disabled=!0,this.clearSelectionButton.disabled=!0)};d.prototype.setupUI=function(e){var g=this;this.distFunc=a.vector.cosDist;var h=this.querySelector(".distance a.euclidean");h.onclick=function(){for(var l=g.querySelectorAll(".distance a"),m=0;m<l.length;m++)a.util.classed(l[m],"selected",!1);a.util.classed(h,"selected",!0);g.distFunc=a.vector.dist;g.projectorEventContext.notifyDistanceMetricChanged(g.distFunc);l=e.dataSet.findNeighbors(g.selectedPointIndices[0],
g.distFunc,g.numNN);g.updateNeighborsList(l)};var k=this.querySelector(".distance a.cosine");k.onclick=function(){for(var l=g.querySelectorAll(".distance a"),m=0;m<l.length;m++)a.util.classed(l[m],"selected",!1);a.util.classed(k,"selected",!0);g.distFunc=a.vector.cosDist;g.projectorEventContext.notifyDistanceMetricChanged(g.distFunc);l=e.dataSet.findNeighbors(g.selectedPointIndices[0],g.distFunc,g.numNN);g.updateNeighborsList(l)};this.searchBox.registerInputChangedListener(function(l,m){null==l||
""===l.trim()?(g.searchBox.message="",g.projectorEventContext.notifySelectionChanged([])):(l=e.dataSet.query(l,m,g.selectedMetadataField),g.searchBox.message=0===l.length?"0 matches.":l.length+" matches.",g.projectorEventContext.notifySelectionChanged(l))});this.setFilterButton.onclick=function(){var l=g.selectedPointIndices.concat(g.neighborsOfFirstPoint.map(function(m){return m.index}));e.filterDataset(l);g.enableResetFilterButton(!0);g.updateFilterButtons(0)};this.resetFilterButton.onclick=function(){e.resetFilterDataset();
g.enableResetFilterButton(!1)};this.clearSelectionButton.onclick=function(){e.adjustSelectionAndHover([])};this.enableResetFilterButton(!1)};d.prototype.updateNumNN=function(){null!=this.selectedPointIndices&&this.projectorEventContext.notifySelectionChanged([this.selectedPointIndices[0]])};return d}(a.InspectorPanelPolymer);a.InspectorPanel=b;document.registerElement(b.prototype.is,b)})(wc||(wc={}));
</script>
</dom-module>






<dom-module id="vz-projector-metadata-card">
<template>
<style>
#metadata-card {
  background-color: rgba(255,255,255,0.9);
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
      0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  width: 270px;
}

#header {
  background: #e9e9e9;
}

#icon-container {
  position: absolute;
  right: 0;
  top: 4px;
}

#metadata-label {
  font-weight: 400;
  font-size: 14px;
  line-height: 24px;
  padding: 12px 12px 8px;
  width: 230px;
  overflow-wrap: break-word;
}

#metadata-table {
  display: table;
  padding: 8px 12px 4px;
}

.metadata-row {
  display: table-row;
}

.metadata-key {
  font-weight: bold;
}

.metadata-key, .metadata-value {
  display: table-cell;
  font-size: 12px;
  padding: 3px 3px;
}
    
.metadata-value {
  overflow-wrap: break-word;
}
</style>

<template is="dom-if" if="[[hasMetadata]]">
  <div id="metadata-card">
    <div id="icon-container">
      <paper-icon-button icon="[[collapseIcon]]" on-tap="_toggleMetadataContainer">
      </paper-icon-button>
    </div>
    <div id="header">
      <div id="metadata-label">[[label]]</div>
    </div>
    <iron-collapse id="metadata-container" opened>
      <div id="metadata-table">
        <template is="dom-repeat" items="[[metadata]]">
          <div class="metadata-row">
            <div class="metadata-key">[[item.key]]</div>
            <div class="metadata-value">[[item.value]]</div>
          </div>
        </template>
      </div>
    </iron-collapse>
  </div>
</template>
</template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-metadata-card.js
zc=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){a.MetadataCardPolymer=a.PolymerElement({is:"vz-projector-metadata-card",properties:{hasMetadata:{type:Boolean,value:!1},isCollapsed:{type:Boolean,value:!1},collapseIcon:{type:String,value:"expand-less"},metadata:{type:Array},label:String}});var b=function(c){function d(){return null!==c&&c.apply(this,arguments)||this}zc(d,c);d.prototype._toggleMetadataContainer=function(){this.$$("#metadata-container").toggle();this.isCollapsed=!this.isCollapsed;this.set("collapseIcon",this.isCollapsed?
"expand-more":"expand-less")};d.prototype.updateMetadata=function(e){this.pointMetadata=e;this.hasMetadata=null!=e;if(e){var g=[],h;for(h in e)e.hasOwnProperty(h)&&g.push({key:h,value:e[h]});this.metadata=g;this.label=""+this.pointMetadata[this.labelOption]}};d.prototype.setLabelOption=function(e){this.labelOption=e;this.pointMetadata&&(this.label=""+this.pointMetadata[this.labelOption])};return d}(a.MetadataCardPolymer);a.MetadataCard=b;document.registerElement(b.prototype.is,b)})(wc||(wc={}));
</script>
</dom-module>



















<dom-module id="vz-projector-projections-panel">
<template>
<style include="vz-projector-styles"></style>
<style>
:host {
  transition: height 0.2s;
}

.ink-button, ::shadow .ink-button {
  border: none;
  border-radius: 2px;
  font-size: 13px;
  padding: 10px;
  min-width: 88px;
  flex-shrink: 0;
  background: #e3e3e3;
}

.ink-panel-buttons {
  margin-bottom: 10px;
}

.two-way-toggle {
  display: flex;
  flex-direction: row;
}

.two-way-toggle span {
  padding-right: 7px;
}

.has-border {
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.toggle {
  min-width: 0px;
  font-size: 12px;
  width: 17px;
  min-height: 0px;
  height: 21px;
  padding: 0;
  margin: 0px;
}

.toggle[active] {
  background-color: #880E4F;
  color: white;
}

.two-columns {
  display:flex;
  justify-content: space-between;
}

.two-columns > :first-child {
  margin-right: 15px;
}

.two-columns > div {
  width: 50%;
}

.dropdown-item {
  justify-content: space-between;
  min-height: 35px;
}

.tsne-supervise-factor {
  margin-bottom: -8px;
}

#z-container {
  display: flex;
  align-items: center;
  width: 50%;
}

#z-checkbox {
  margin: 27px 0 0 5px;
  width: 18px;
}

#z-dropdown {
  flex-grow: 1;
}

.notice {
  color: #880E4F;
}

.container {
  padding: 20px;
}

.book-icon {
  height: 20px;
  color: rgba(0, 0, 0, 0.7);
}

.item-details {
  color: gray;
  font-size: 12px;
  margin-left: 5px;
}

.pca-dropdown {
  width: 100%;
}

.pca-dropdown paper-listbox {
  width: 135px;
}

.dropdown-item.header {
  border-bottom: 1px solid #aaa;
  color: #333;
  font-weight: bold;
}

#total-variance {
  color: rgba(0, 0, 0, 0.7);
}
</style>
<div id="main">
  <div class="ink-panel-header">
    <div class="ink-tab-group">

      <div data-tab="umap" id="umap-tab" class="ink-tab projection-tab">UMAP</div>
      <paper-tooltip for="umap-tab" position="bottom" animation-delay="0" fit-to-visible-bounds>
        uniform manifold approximation and projection
      </paper-tooltip>      

      <div data-tab="tsne" id="tsne-tab" class="ink-tab projection-tab">t-SNE</div>
      <paper-tooltip for="tsne-tab" position="bottom" animation-delay="0" fit-to-visible-bounds>
        t-distributed stochastic neighbor embedding
      </paper-tooltip>

      <div data-tab="pca" id="pca-tab" class="ink-tab projection-tab">PCA</div>
      <paper-tooltip for="pca-tab" position="bottom" animation-delay="0" fit-to-visible-bounds>
        Principal component analysis
      </paper-tooltip>

      <div data-tab="custom" id="custom-tab" class="ink-tab projection-tab" title="Linear projection of two custom vectors">Custom</div>
      <paper-tooltip for="custom-tab" position="bottom" animation-delay="0" fit-to-visible-bounds>
        Search for two vectors upon which to project all points.
      </paper-tooltip>

    </div>
  </div>
  <div class="container">
     
     <div data-panel="umap" class="ink-panel-content">
      <div class="slider">
        <label>Dimension</label>
        <div class="two-way-toggle">
          <span>2D</span>
          <paper-toggle-button id="umap-toggle" checked="{{umapIs3d}}">3D</paper-toggle-button>
        </div>
      </div>
      <div class="slider umap-neighbors">
        <label>
          Neighbors
          <paper-icon-button icon="help" class="help-icon"></paper-icon-button>
          <paper-tooltip position="right" animation-delay="0" fit-to-visible-bounds>
            The number of nearest neighbors used to compute the fuzzy simplicial
            set, which is used to approximate the overall shape of the manifold.
            The default value is 15.
          </paper-tooltip>
        </label>
        <paper-slider id="umap-neighbors-slider" value="{{umapNeighbors}}" pin min="5" max="50"></paper-slider>
        <span>[[umapNeighbors]]</span>
      </div>
      <p>
        <button id="run-umap" class="ink-button" title="Run UMAP" on-tap="runUmap">Run</button>
      
      <p id="umap-sampling" class="notice">
        For faster results, the data will be sampled down to [[getUmapSampleSizeText()]] points.
      
      <p>
        <iron-icon icon="book" class="book-icon"></iron-icon>
        <a target="_blank" rel="noopener" href="https://umap-learn.readthedocs.io/en/latest/how_umap_works.html">
          Learn more about UMAP.
        </a>
      
    </div>
    
    <div data-panel="tsne" class="ink-panel-content">
      <div class="slider">
        <label>Dimension</label>
        <div class="two-way-toggle">
          <span>2D</span>
          <paper-toggle-button id="tsne-toggle" checked="{{tSNEis3d}}">3D</paper-toggle-button>
        </div>
      </div>
      <div class="slider tsne-perplexity">
        <label>
          Perplexity
          <paper-icon-button icon="help" class="help-icon"></paper-icon-button>
          <paper-tooltip position="right" animation-delay="0" fit-to-visible-bounds>
            The most appropriate perplexity value depends on the density of the
            data. Loosely speaking, a larger / denser dataset
            requires a larger perplexity. Typical values for perplexity range
            between 5 and 50.
          </paper-tooltip>
        </label>
        <paper-slider id="perplexity-slider" pin min="2" max="100" value="30"></paper-slider>
        <span></span>
      </div>
      <div class="slider tsne-learning-rate">
        <label>
          Learning rate
          <paper-icon-button icon="help" class="help-icon"></paper-icon-button>
          <paper-tooltip position="right" animation-delay="0" fit-to-visible-bounds>
            The ideal learning rate often depends on the size of the data,
            with smaller datasets requiring smaller learning rates.
          </paper-tooltip>
        </label>
        <paper-slider id="learning-rate-slider" snaps min="-3" max="2" step="1" value="1" max-markers="6">
        </paper-slider>
        <span></span>
      </div>
      <div class="slider tsne-supervise-factor">
        <label>
          Supervise
          <paper-icon-button icon="help" class="help-icon"></paper-icon-button>
          <paper-tooltip position="right" animation-delay="0" fit-to-visible-bounds>
            The label importance used for supervision, from 0 (disabled) to 100
            (full importance).
          </paper-tooltip>
        </label>
        <paper-slider id="supervise-factor-slider" min="0" max="100" pin value="{{superviseFactor}}">
        </paper-slider>
        <span></span>
      </div>
      <p>
        <button class="run-tsne ink-button" title="Re-run t-SNE">Run</button>
        <button class="pause-tsne ink-button" title="Pause t-SNE">Pause</button>
        <button class="perturb-tsne ink-button" title="Perturb t-SNE">Perturb</button>
      
      <p>Iteration: <span class="run-tsne-iter">0</span>
      <p id="tsne-sampling" class="notice">
        For faster results, the data will be sampled down to [[getTsneSampleSizeText()]] points.
      
      <p>
        <iron-icon icon="book" class="book-icon"></iron-icon>
        <a target="_blank" href="http://distill.pub/2016/misread-tsne/">
          How to use t-SNE effectively.
        </a>
      
    </div>
    
    <div data-panel="pca" class="ink-panel-content">
      <div class="two-columns">
        <div> 
          <paper-dropdown-menu class="pca-dropdown" vertical-align="bottom" no-animations label="X">
            <paper-listbox attr-for-selected="value" class="dropdown-content" selected="{{pcaX}}" slot="dropdown-content">
              <paper-item disabled class="dropdown-item header">
                  <div>#</div>
                  <div>Variance (%)</div>
              </paper-item>
              <template is="dom-repeat" items="[[pcaComponents]]">
                <paper-item class="dropdown-item" value="[[item.id]]" label="Component #[[item.componentNumber]]">
                  <div>[[item.componentNumber]]</div>
                  <div class="item-details">[[item.percVariance]]</div>
                </paper-item>
              </template>
            </paper-listbox>
          </paper-dropdown-menu>
          <paper-dropdown-menu class="pca-dropdown" no-animations vertical-align="bottom" label="Z" disabled="[[!hasPcaZ]]" id="z-dropdown">
            <paper-listbox attr-for-selected="value" class="dropdown-content" selected="{{pcaZ}}" slot="dropdown-content">
              <paper-item disabled class="dropdown-item header">
                  <div>#</div>
                  <div>Variance (%)</div>
              </paper-item>
              <template is="dom-repeat" items="[[pcaComponents]]">
                <paper-item class="dropdown-item" value="[[item.id]]" label="Component #[[item.componentNumber]]">
                  <div>[[item.componentNumber]]</div>
                  <div class="item-details">[[item.percVariance]]</div>
                </paper-item>
              </template>
            </paper-listbox>
          </paper-dropdown-menu>
        </div>
        <div> 
          <paper-dropdown-menu class="pca-dropdown" vertical-align="bottom" no-animations label="Y">
            <paper-listbox attr-for-selected="value" class="dropdown-content" selected="{{pcaY}}" slot="dropdown-content">
              <paper-item disabled class="dropdown-item header">
                  <div>#</div>
                  <div>Variance (%)</div>
              </paper-item>
              <template is="dom-repeat" items="[[pcaComponents]]">
                <paper-item class="dropdown-item" value="[[item.id]]" label="Component #[[item.componentNumber]]">
                  <div>[[item.componentNumber]]</div>
                  <div class="item-details">[[item.percVariance]]</div>
                </paper-item>
              </template>
            </paper-listbox>
          </paper-dropdown-menu>
          <paper-checkbox id="z-checkbox" checked="{{pcaIs3d}}"></paper-checkbox>
        </div>
      </div>
      <p id="pca-sampling" class="notice">
        PCA is approximate.
        <paper-icon-button icon="help" class="help-icon"></paper-icon-button>
      
      <div id="total-variance">Total variance</div>
      <paper-tooltip for="pca-sampling" position="top" animation-delay="0" fit-to-visible-bounds>
        For fast results, the data was sampled to [[getPcaSampleSizeText()]] points and randomly projected down to [[getPcaSampledDimText()]] dimensions.
      </paper-tooltip>
    </div>
    
    <div data-panel="custom" class="ink-panel-content">
      <paper-dropdown-menu style="width: 100%" no-animations label="Search by">
        <paper-listbox attr-for-selected="value" class="dropdown-content" selected="{{customSelectedSearchByMetadataOption}}" slot="dropdown-content">
          <template is="dom-repeat" items="[[searchByMetadataOptions]]">
            <paper-item class="dropdown-item" value="[[item]]" label="[[item]]">
              [[item]]
            </paper-item>
          </template>
        </paper-listbox>
      </paper-dropdown-menu>
      <div class="two-columns">
        <vz-projector-input id="xLeft" label="Left"></vz-projector-input>
        <vz-projector-input id="xRight" label="Right"></vz-projector-input>
      </div>
      <div class="two-columns">
        <vz-projector-input id="yUp" label="Up"></vz-projector-input>
        <vz-projector-input id="yDown" label="Down"></vz-projector-input>
      </div>
    </div>
  </div>
</div>
</template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-projections-panel.js
zc=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){a.ProjectionsPanelPolymer=a.PolymerElement({is:"vz-projector-projections-panel",properties:{pcaIs3d:{type:Boolean,value:!0,observer:"_pcaDimensionToggleObserver"},tSNEis3d:{type:Boolean,value:!0,observer:"_tsneDimensionToggleObserver"},superviseFactor:{type:Number,value:0},umapIs3d:{type:Boolean,value:!0,observer:"_umapDimensionToggleObserver"},umapNeighbors:{type:Number,value:15},pcaComponents:Array,pcaX:{type:Number,value:0,observer:"showPCAIfEnabled"},pcaY:{type:Number,value:1,observer:"showPCAIfEnabled"},
pcaZ:{type:Number,value:2,observer:"showPCAIfEnabled"},customSelectedSearchByMetadataOption:{type:String,observer:"_customSelectedSearchByMetadataOptionChanged"}}});var b=function(c){function d(){return null!==c&&c.apply(this,arguments)||this}zc(d,c);d.prototype.initialize=function(e){this.polymerChangesTriggerReprojection=!0;this.projector=e;this.perplexity=30;this.learningRate=10;this.centroidValues={xLeft:null,xRight:null,yUp:null,yDown:null};this.clearCentroids();this.setupUIControls()};d.prototype.ready=
function(){this.zDropdown=this.querySelector("#z-dropdown");this.runTsneButton=this.querySelector(".run-tsne");this.pauseTsneButton=this.querySelector(".pause-tsne");this.perturbTsneButton=this.querySelector(".perturb-tsne");this.perplexitySlider=this.querySelector("#perplexity-slider");this.learningRateInput=this.querySelector("#learning-rate-slider");this.superviseFactorInput=this.querySelector("#supervise-factor-slider");this.iterationLabelTsne=this.querySelector(".run-tsne-iter");this.runUmapButton=
this.querySelector("#run-umap")};d.prototype.disablePolymerChangesTriggerReprojection=function(){this.polymerChangesTriggerReprojection=!1};d.prototype.enablePolymerChangesTriggerReprojection=function(){this.polymerChangesTriggerReprojection=!0};d.prototype.updateTSNEPerplexityFromSliderChange=function(){this.perplexitySlider&&(this.perplexity=+this.perplexitySlider.value);this.querySelector(".tsne-perplexity span").innerText=""+this.perplexity};d.prototype.updateTSNELearningRateFromUIChange=function(){this.learningRateInput&&
(this.learningRate=Math.pow(10,+this.learningRateInput.value));this.querySelector(".tsne-learning-rate span").innerText=""+this.learningRate};d.prototype.updateTSNESuperviseFactorFromUIChange=function(){this.querySelector(".tsne-supervise-factor span").innerText=""+this.superviseFactor;this.dataSet&&this.dataSet.setSuperviseFactor(this.superviseFactor)};d.prototype.setupUIControls=function(){for(var e=this,g=this,h=this.querySelectorAll(".ink-tab"),k=0;k<h.length;k++)h[k].addEventListener("click",
function(){var l=this.getAttribute("data-tab");g.showTab(l)});this.runTsneButton.addEventListener("click",function(){e.dataSet.hasTSNERun?e.dataSet.stopTSNE():e.runTSNE()});this.pauseTsneButton.addEventListener("click",function(){e.dataSet.tSNEShouldPause?(e.dataSet.tSNEShouldPause=!1,e.pauseTsneButton.innerText="Pause"):(e.dataSet.tSNEShouldPause=!0,e.pauseTsneButton.innerText="Resume")});this.perturbTsneButton.addEventListener("mousedown",function(){e.dataSet&&e.projector&&(e.dataSet.perturbTsne(),
e.projector.notifyProjectionPositionsUpdated(),e.perturbInterval=setInterval(function(){e.dataSet.perturbTsne();e.projector.notifyProjectionPositionsUpdated()},100))});this.perturbTsneButton.addEventListener("mouseup",function(){clearInterval(e.perturbInterval)});this.perplexitySlider.value=this.perplexity.toString();this.perplexitySlider.addEventListener("change",function(){return e.updateTSNEPerplexityFromSliderChange()});this.updateTSNEPerplexityFromSliderChange();this.learningRateInput.addEventListener("change",
function(){return e.updateTSNELearningRateFromUIChange()});this.updateTSNELearningRateFromUIChange();this.superviseFactorInput.addEventListener("change",function(){return e.updateTSNESuperviseFactorFromUIChange()});this.updateTSNESuperviseFactorFromUIChange();this.setupCustomProjectionInputFields();h=this.querySelectorAll("paper-dropdown-menu paper-input input");for(k=0;k<h.length;k++)h[k].style.fontSize="14px"};d.prototype.restoreUIFromBookmark=function(e){this.disablePolymerChangesTriggerReprojection();
this.pcaX=e.pcaComponentDimensions[0];this.pcaY=e.pcaComponentDimensions[1];3===e.pcaComponentDimensions.length&&(this.pcaZ=e.pcaComponentDimensions[2]);this.pcaIs3d=3===e.pcaComponentDimensions.length;this.perplexitySlider&&(this.perplexitySlider.value=e.tSNEPerplexity.toString());this.learningRateInput&&(this.learningRateInput.value=e.tSNELearningRate.toString());this.tSNEis3d=e.tSNEis3d;this.umapIs3d=e.umapIs3d;this.umapNeighbors=e.umapNeighbors;this.customSelectedSearchByMetadataOption=e.customSelectedSearchByMetadataOption;
this.customProjectionXLeftInput&&this.customProjectionXLeftInput.set(e.customXLeftText,e.customXLeftRegex);this.customProjectionXRightInput&&this.customProjectionXRightInput.set(e.customXRightText,e.customXRightRegex);this.customProjectionYUpInput&&this.customProjectionYUpInput.set(e.customYUpText,e.customYUpRegex);this.customProjectionYDownInput&&this.customProjectionYDownInput.set(e.customYDownText,e.customYDownRegex);this.computeAllCentroids();this.setZDropdownEnabled(this.pcaIs3d);this.updateTSNEPerplexityFromSliderChange();
this.updateTSNELearningRateFromUIChange();this.iterationLabelTsne&&(this.iterationLabelTsne.innerText=e.tSNEIteration.toString());null!=e.selectedProjection&&this.showTab(e.selectedProjection);this.enablePolymerChangesTriggerReprojection()};d.prototype.populateBookmarkFromUI=function(e){this.disablePolymerChangesTriggerReprojection();e.pcaComponentDimensions=[this.pcaX,this.pcaY];this.pcaIs3d&&e.pcaComponentDimensions.push(this.pcaZ);null!=this.perplexitySlider&&(e.tSNEPerplexity=+this.perplexitySlider.value);
null!=this.learningRateInput&&(e.tSNELearningRate=+this.learningRateInput.value);e.tSNEis3d=this.tSNEis3d;e.umapIs3d=this.umapIs3d;e.customSelectedSearchByMetadataOption=this.customSelectedSearchByMetadataOption;null!=this.customProjectionXLeftInput&&(e.customXLeftText=this.customProjectionXLeftInput.getValue(),e.customXLeftRegex=this.customProjectionXLeftInput.getInRegexMode());null!=this.customProjectionXRightInput&&(e.customXRightText=this.customProjectionXRightInput.getValue(),e.customXRightRegex=
this.customProjectionXRightInput.getInRegexMode());null!=this.customProjectionYUpInput&&(e.customYUpText=this.customProjectionYUpInput.getValue(),e.customYUpRegex=this.customProjectionYUpInput.getInRegexMode());null!=this.customProjectionYDownInput&&(e.customYDownText=this.customProjectionYDownInput.getValue(),e.customYDownRegex=this.customProjectionYDownInput.getInRegexMode());this.enablePolymerChangesTriggerReprojection()};d.prototype.setZDropdownEnabled=function(e){this.zDropdown&&(e?this.zDropdown.removeAttribute("disabled"):
this.zDropdown.setAttribute("disabled","true"))};d.prototype.dataSetUpdated=function(e,g,h){this.dataSet=e;this.originalDataSet=g;this.dim=h;g=null==e?0:e.points.length;this.perplexitySlider.value=Math.max(5,Math.ceil(Math.sqrt(g)/4)).toString();this.updateTSNEPerplexityFromSliderChange();this.clearCentroids();this.querySelector("#tsne-sampling").style.display=g>a.TSNE_SAMPLE_SIZE?null:"none";e=null==e?!1:e.dim[0]>a.PCA_SAMPLE_DIM||e.dim[1]>a.PCA_SAMPLE_DIM;this.querySelector("#pca-sampling").style.display=
e?null:"none";this.showTab("pca")};d.prototype._pcaDimensionToggleObserver=function(){this.setZDropdownEnabled(this.pcaIs3d);this.beginProjection(this.currentProjection)};d.prototype._tsneDimensionToggleObserver=function(){this.beginProjection(this.currentProjection)};d.prototype._umapDimensionToggleObserver=function(){this.beginProjection(this.currentProjection)};d.prototype.metadataChanged=function(e){var g=-1;this.searchByMetadataOptions=e.stats.map(function(h,k){h.isNumeric||-1!==g||(g=k);return h.name});
this.customSelectedSearchByMetadataOption=this.searchByMetadataOptions[Math.max(0,g)]};d.prototype.showTab=function(e){var g=this;this.currentProjection=e;for(var h=this.querySelector('.ink-tab[data-tab\x3d"'+e+'"]'),k=this.querySelectorAll(".ink-tab"),l=0;l<k.length;l++)a.util.classed(k[l],"active",!1);a.util.classed(h,"active",!0);h=this.querySelectorAll(".ink-panel-content");for(l=0;l<h.length;l++)a.util.classed(h[l],"active",!1);a.util.classed(this.querySelector('.ink-panel-content[data-panel\x3d"'+
e+'"]'),"active",!0);if(null!=this.$){var m=this.$.main;requestAnimationFrame(function(){g.style.height=m.clientHeight+"px"})}this.beginProjection(e)};d.prototype.beginProjection=function(e){!1!==this.polymerChangesTriggerReprojection&&("pca"===e?(null!=this.dataSet&&this.dataSet.stopTSNE(),this.showPCA()):"tsne"===e?this.showTSNE():"umap"===e?this.showUmap():"custom"===e&&(null!=this.dataSet&&this.dataSet.stopTSNE(),this.computeAllCentroids(),this.reprojectCustom()))};d.prototype.showTSNE=function(){var e=
this.dataSet;if(null!=e){var g=a.getProjectionComponents("tsne",[0,1,this.tSNEis3d?2:null]);e=new a.Projection("tsne",g,this.tSNEis3d?3:2,e);this.projector.setProjection(e);this.dataSet.hasTSNERun?this.projector.notifyProjectionPositionsUpdated():this.runTSNE()}};d.prototype.runTSNE=function(){var e=this,g=!1;this.runTsneButton.innerText="Stop";this.runTsneButton.disabled=!0;this.pauseTsneButton.innerText="Pause";this.pauseTsneButton.disabled=!0;this.perturbTsneButton.disabled=!1;this.dataSet.projectTSNE(this.perplexity,
this.learningRate,this.tSNEis3d?3:2,function(h){null!=h?(e.runTsneButton.disabled=!1,e.pauseTsneButton.disabled=!1,e.iterationLabelTsne.innerText=""+h,e.projector.notifyProjectionPositionsUpdated(),!g&&e.dataSet.projections.tsne&&(e.projector.onProjectionChanged(),g=!0)):(e.runTsneButton.innerText="Re-run",e.runTsneButton.disabled=!1,e.pauseTsneButton.innerText="Pause",e.pauseTsneButton.disabled=!0,e.perturbTsneButton.disabled=!0,e.projector.onProjectionChanged())})};d.prototype.showUmap=function(){var e=
this.dataSet;if(null!=e){var g=a.getProjectionComponents("umap",[0,1,this.umapIs3d?2:null]);e=new a.Projection("umap",g,this.umapIs3d?3:2,e);this.projector.setProjection(e);this.dataSet.hasUmapRun?this.projector.notifyProjectionPositionsUpdated():this.runUmap()}};d.prototype.runUmap=function(){var e=this,g=!1;this.runUmapButton.disabled=!0;this.dataSet.projectUmap(this.umapIs3d?3:2,this.umapNeighbors,function(h){null!=h?(e.runUmapButton.disabled=!1,e.projector.notifyProjectionPositionsUpdated(),!g&&
e.dataSet.projections.umap&&(e.projector.onProjectionChanged(),g=!0)):(e.runUmapButton.innerText="Re-run",e.runUmapButton.disabled=!1,e.projector.onProjectionChanged())})};d.prototype.showPCAIfEnabled=function(){this.polymerChangesTriggerReprojection&&this.showPCA()};d.prototype.updateTotalVarianceMessage=function(){var e=this.dataSet.fracVariancesExplained,g=e[this.pcaX]+e[this.pcaY];this.pcaIs3d&&(g+=e[this.pcaZ]);e="Total variance described: "+((100*g).toFixed(1)+"%.");this.querySelector("#total-variance").innerHTML=
e};d.prototype.showPCA=function(){var e=this;null!=this.dataSet&&this.dataSet.projectPCA().then(function(){var g=a.getProjectionComponents("pca",[e.pcaX,e.pcaY,e.pcaZ]);g=new a.Projection("pca",g,e.pcaIs3d?3:2,e.dataSet);e.projector.setProjection(g);g=Math.min(10,e.dataSet.dim[1]);e.updateTotalVarianceMessage();e.pcaComponents=a.util.range(g).map(function(h){return{id:h,componentNumber:h+1,percVariance:(100*e.dataSet.fracVariancesExplained[h]).toFixed(1)}})})};d.prototype.reprojectCustom=function(){if(null!=
this.centroids&&null!=this.centroids.xLeft&&null!=this.centroids.xRight&&null!=this.centroids.yUp&&null!=this.centroids.yDown){var e=a.vector.sub(this.centroids.xRight,this.centroids.xLeft);this.dataSet.projectLinear(e,"linear-x");e=a.vector.sub(this.centroids.yUp,this.centroids.yDown);this.dataSet.projectLinear(e,"linear-y");e=a.getProjectionComponents("custom",["x","y"]);e=new a.Projection("custom",e,2,this.dataSet);this.projector.setProjection(e)}};d.prototype.clearCentroids=function(){this.centroids=
{xLeft:null,xRight:null,yUp:null,yDown:null};this.allCentroid=null};d.prototype._customSelectedSearchByMetadataOptionChanged=function(){!1!==this.polymerChangesTriggerReprojection&&"custom"===this.currentProjection&&(this.computeAllCentroids(),this.reprojectCustom())};d.prototype.setupCustomProjectionInputFields=function(){this.customProjectionXLeftInput=this.setupCustomProjectionInputField("xLeft");this.customProjectionXRightInput=this.setupCustomProjectionInputField("xRight");this.customProjectionYUpInput=
this.setupCustomProjectionInputField("yUp");this.customProjectionYDownInput=this.setupCustomProjectionInputField("yDown")};d.prototype.computeAllCentroids=function(){this.computeCentroid("xLeft");this.computeCentroid("xRight");this.computeCentroid("yUp");this.computeCentroid("yDown")};d.prototype.computeCentroid=function(e){var g=this.querySelector("#"+e);if(null!=g){var h=g.getValue();if(null!=h){var k=this.getCentroid(h,g.getInRegexMode());0===k.numMatches?(g.message="0 matches. Using a random vector.",
k.centroid=a.vector.rn(this.dim)):g.message=k.numMatches+" matches.";this.centroids[e]=k.centroid;this.centroidValues[e]=h}}};d.prototype.setupCustomProjectionInputField=function(e){var g=this,h=this.querySelector("#"+e);h.registerInputChangedListener(function(){g.polymerChangesTriggerReprojection&&(g.computeCentroid(e),g.reprojectCustom())});return h};d.prototype.getCentroid=function(e,g){var h=this;if(null==e||""===e)return{numMatches:0};e=this.originalDataSet.query(e,g,this.customSelectedSearchByMetadataOption);
return{centroid:a.vector.centroid(e,function(k){return h.originalDataSet.points[k].vector}),numMatches:e.length}};d.prototype.getPcaSampledDimText=function(){return a.PCA_SAMPLE_DIM.toLocaleString()};d.prototype.getPcaSampleSizeText=function(){return a.PCA_SAMPLE_SIZE.toLocaleString()};d.prototype.getTsneSampleSizeText=function(){return a.TSNE_SAMPLE_SIZE.toLocaleString()};d.prototype.getUmapSampleSizeText=function(){return a.UMAP_SAMPLE_SIZE.toLocaleString()};return d}(a.ProjectionsPanelPolymer);
a.ProjectionsPanel=b;document.registerElement(b.prototype.is,b)})(wc||(wc={}));
</script>
</dom-module>


<dom-module id="vz-projector">
<template>
<style include="vz-projector-styles"></style>
<style>
:host {
  display: flex;
  width: 100%;
  height: 100%;
}

#container {
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.hidden {
  display: none !important;
}

/* Main */

#main {
  position: relative;
  flex-grow: 2;
}

#main .stage {
  position: relative;
  flex-grow: 2;
}

#scatter {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

#selector {
  display: none;
  height: 100%;
  position: absolute;
  width: 100%;
}

#left-pane {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-width: 312px;
  width: 312px;
  border-right: 1px solid rgba(0, 0, 0, 0.1);
  background: #fafafa;
}

#right-pane {
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  background: #fafafa;
  display: flex;
  height: 100%;
  min-width: 300px;
  width: 300px;
}

.file-name {
  margin-right: 5px;
}

.control input[type=text]:focus {
  outline: none;
  border-bottom: 1px solid rgba(0, 0, 0, 1);
}

.control {
  display: inline-block;
  width: 45%;
  vertical-align: top;
  margin-right: 10px;
  overflow-x: hidden;
}

.control.last {
  margin-right: 0;
}

#notification-dialog {
  width: 400px;
  padding-bottom: 20px;
}

#notification-dialog paper-button {
  background: none;
  text-transform: uppercase;
}

#notification-dialog .progress {
  --paper-spinner-color: #880E4F;
  --paper-spinner-stroke-width: 2px;
}

#notify-msgs {
  text-align: center;
  display: block;
}

.notify-msg {
  font-weight: 500;
  margin: 0;
  padding: 0;
}

.notify-msg.error {
  text-align: left;
}

.brush .extent {
  stroke: #fff;
  fill-opacity: .125;
  shape-rendering: crispEdges;
}

.origin text {
  font-size: 12px;
  font-weight: 500;
}

.origin line {
  stroke: black;
  stroke-opacity: 0.2;
}

/* Ink Framework */

/* - Buttons */
.ink-button, ::shadow .ink-button {
  border: none;
  border-radius: 2px;
  font-size: 13px;
  padding: 10px;
  min-width: 100px;
  flex-shrink: 0;
  background: #e3e3e3;
}

.status-bar-panel {
  display: flex;
  align-items: center;
}

.status-bar-entry {
  border-left: 1px solid rgba(0, 0, 0, 0.5);
  margin-left: 5px;
  padding-left: 5px;
}

/* - Menubar */

.ink-panel-menubar {
  align-items: center;
  position: relative;
  height: 60px;
  border-bottom: solid 1px #eee;
  padding: 0 24px;
  display: flex;
}

.ink-panel-menubar .ink-fabs {
  position: absolute;
  right: 12px;
  top: 40px;
  z-index: 1;
}

#bookmark-panel {
  bottom: 0;
  position: absolute;
  width: 300px;
}
#bookmark-panel-container {
  bottom: 60px;
  position: absolute;
}

.ink-fab {
  margin-left: 8px;
  border: 1px solid rgba(0, 0, 0, 0.02);
  background: white;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

#metadata-card {
  position: absolute;
  right: 5px;
  top: 25px;
}

#help-3d-icon {
  position: absolute;
  top: 20px;
  left: 20px;
}

#help3dDialog .main {
  margin: 0;
  padding: 20px;
}

#help3dDialog h3 {
  margin-top: 20px;
  margin-bottom: 5px;
}

#help3dDialog h3:first-child {
  margin-top: 0;
}

#data-panel {
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  overflow-y: auto;
}

#toast {
  display: flex;
  align-items: center;
  --paper-toast-color: #eeff41;
}
</style>
<paper-dialog id="notification-dialog" modal>
  <h2 id="notification-title"></h2>
  <paper-dialog-scrollable>
    <div id="notify-msgs"></div>
  </paper-dialog-scrollable>
  <div style="text-align: center;"><paper-spinner-lite active class="progress"></paper-spinner-lite></div>
  <div class="buttons">
    <paper-button class="close-button" dialog-confirm autofocus>Close</paper-button>
  </div>
</paper-dialog>
<div id="container">
  <div id="left-pane" class="ink-panel">
    <vz-projector-data-panel id="data-panel"></vz-projector-data-panel>
    <vz-projector-projections-panel id="projections-panel"></vz-projector-projections-panel>
  </div>
  <div id="main" class="ink-panel">
    <div class="ink-panel-menubar">
      <paper-icon-button id="selectMode" alt="Bounding box selection" toggles icon="image:photo-size-select-small"></paper-icon-button>
      <paper-tooltip for="selectMode" position="bottom" animation-delay="0" fit-to-visible-bounds>Bounding box selection</paper-tooltip>

      <paper-icon-button id="editMode" alt="Edit current selection" toggles icon="image:exposure"></paper-icon-button>
      <paper-tooltip for="editMode" position="bottom" animation-delay="0" fit-to-visible-bounds>Edit current selection</paper-tooltip>

      <paper-icon-button id="nightDayMode" alt="Enable/disable night mode" toggles icon="image:brightness-2"></paper-icon-button>
      <paper-tooltip for="nightDayMode" position="bottom" animation-delay="0" fit-to-visible-bounds>Enable/disable night mode</paper-tooltip>

      <paper-icon-button id="labels3DMode" alt="Enable/disable 3D labels mode" toggles icon="font-download"></paper-icon-button>
      <paper-tooltip for="labels3DMode" position="bottom" animation-delay="0" fit-to-visible-bounds>Enable/disable 3D labels mode</paper-tooltip>
      <div class="status-bar-panel">
        <div class="status-bar-entry">Points: <span class="numDataPoints">Loading...</span></div>
        <div class="status-bar-entry">Dimension: <span class="dim">Loading...</span></div>
        <div id="status-bar" class="status-bar-entry" style="display: none;"></div>
      </div>
      <div class="ink-fabs">
        <paper-icon-button id="reset-zoom" class="ink-fab" alt="Reset zoom to fit all points" icon="home"></paper-icon-button>
        <paper-tooltip for="reset-zoom" position="left" animation-delay="0">Reset zoom to fit all points</paper-tooltip>
      </div>
    </div>
    <div class="stage">
      <div id="scatter">
        <svg id="selector"></svg>
      </div>
      <vz-projector-metadata-card id="metadata-card"></vz-projector-metadata-card>
      <paper-icon-button raised onclick="help3dDialog.open()" icon="help-outline" id="help-3d-icon"></paper-icon-button>
      <paper-tooltip animation-delay="0" for="help-3d-icon">Help with interaction controls.</paper-tooltip>
      <paper-dialog id="help3dDialog" with-backdrop>
        <div class="main" dialog-confirm autofocus>
          <h3>3D controls</h3>
            <b>Rotate</b> Mouse left click.<br>
            <b>Pan</b> Mouse right click.<br>
            <b>Zoom</b> Mouse wheel.<br>
            Holding <b>ctrl</b> reverses the mouse clicks.
          <h3>2D controls</h3>
            <b>Pan</b> Mouse left click.<br>
            <b>Zoom</b> Mouse wheel.
          <div class="dismiss-dialog-note"> Click anywhere to dismiss.</div>
        </div>
      </paper-dialog>
    </div>
  </div>
  <div id="right-pane" class="ink-panel">
    <div class="ink-panel-content active">
      <vz-projector-inspector-panel id="inspector-panel"></vz-projector-inspector-panel>
    </div>
    <div id="bookmark-panel-container">
      <vz-projector-bookmark-panel id="bookmark-panel"></vz-projector-bookmark-panel>
    </div>
  </div>
</div>
<paper-toast id="toast" always-on-top></paper-toast>

</template> 
<script>//~~WEBPATH~~/vz-projector/vz-projector.js
zc=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){a.ProjectorPolymer=a.PolymerElement({is:"vz-projector",properties:{routePrefix:String,dataProto:{type:String,observer:"_dataProtoChanged"},servingMode:String,projectorConfigJsonPath:String,pageViewLogging:Boolean,eventLogging:Boolean}});var b=function(c){function d(){return null!==c&&c.apply(this,arguments)||this}zc(d,c);d.prototype.ready=function(){a.logging.setDomContainer(this);this.analyticsLogger=new a.AnalyticsLogger(this.pageViewLogging,this.eventLogging);this.analyticsLogger.logPageView();
a.util.hasWebGLSupport()?(this.selectionChangedListeners=[],this.hoverListeners=[],this.projectionChangedListeners=[],this.distanceMetricChangedListeners=[],this.selectedPointIndices=[],this.neighborsOfFirstPoint=[],this.editMode=!1,this.dataPanel=this.$["data-panel"],this.inspectorPanel=this.$["inspector-panel"],this.inspectorPanel.initialize(this,this),this.projectionsPanel=this.$["projections-panel"],this.projectionsPanel.initialize(this),this.bookmarkPanel=this.$["bookmark-panel"],this.bookmarkPanel.initialize(this,
this),this.metadataCard=this.$["metadata-card"],this.statusBar=this.querySelector("#status-bar"),this.scopeSubtree(this.$$("#notification-dialog"),!0),this.setupUIControls(),this.initializeDataProvider()):(this.analyticsLogger.logWebGLDisabled(),a.logging.setErrorMessage("Your browser or device does not have WebGL enabled. Please enable hardware acceleration, or use a browser that supports WebGL."))};d.prototype.setSelectedLabelOption=function(e){this.selectedLabelOption=e;this.metadataCard.setLabelOption(this.selectedLabelOption);
this.projectorScatterPlotAdapter.setLabelPointAccessor(e);this.projectorScatterPlotAdapter.updateScatterPlotAttributes();this.projectorScatterPlotAdapter.render()};d.prototype.setSelectedColorOption=function(e){this.selectedColorOption=e;this.projectorScatterPlotAdapter.setLegendPointColorer(this.getLegendPointColorer(e));this.projectorScatterPlotAdapter.updateScatterPlotAttributes();this.projectorScatterPlotAdapter.render()};d.prototype.setNormalizeData=function(e){this.normalizeData=e;this.setCurrentDataSet(this.originalDataSet.getSubset())};
d.prototype.updateDataSet=function(e,g,h){this.dataSetFilterIndices=null;this.originalDataSet=e;if(null!=e){this.normalizeData=50<=this.originalDataSet.dim[1];g=g||{};if(null==g.pointsInfo){var k=this.makeDefaultPointsInfoAndStats(e.points),l=k[1];g.pointsInfo=k[0];g.stats=l}if(!e.mergeMetadata(g))return}null!=this.projectorScatterPlotAdapter&&(null==e?(this.projectorScatterPlotAdapter.setLabelPointAccessor(null),this.setProjection(null)):(this.projectorScatterPlotAdapter.updateScatterPlotPositions(),
this.projectorScatterPlotAdapter.updateScatterPlotAttributes(),this.projectorScatterPlotAdapter.resize(),this.projectorScatterPlotAdapter.render()));null!=e?(this.dataPanel.setNormalizeData(this.normalizeData),this.setCurrentDataSet(e.getSubset()),this.projectorScatterPlotAdapter.setLabelPointAccessor(this.selectedLabelOption),this.inspectorPanel.datasetChanged(),this.inspectorPanel.metadataChanged(g),this.projectionsPanel.metadataChanged(g),this.dataPanel.metadataChanged(g,h)):this.setCurrentDataSet(null)};
d.prototype.metadataEdit=function(e,g){var h=this;this.selectedPointIndices.forEach(function(k){return h.dataSet.points[k].metadata[e]=g});this.neighborsOfFirstPoint.forEach(function(k){return h.dataSet.points[k.index].metadata[e]=g});this.dataSet.spriteAndMetadataInfo.stats=a.analyzeMetadata(this.dataSet.spriteAndMetadataInfo.stats.map(function(k){return k.name}),this.dataSet.points.map(function(k){return k.metadata}));this.metadataChanged(this.dataSet.spriteAndMetadataInfo);this.metadataEditorContext(!0,
e)};d.prototype.metadataChanged=function(e,g){null!=g&&(this.metadataFile=g);this.dataSet.spriteAndMetadataInfo=e;this.projectionsPanel.metadataChanged(e);this.inspectorPanel.metadataChanged(e);this.dataPanel.metadataChanged(e,this.metadataFile);0<this.selectedPointIndices.length?this.metadataCard.updateMetadata(this.dataSet.points[this.selectedPointIndices[0]].metadata):this.metadataCard.updateMetadata(null);this.setSelectedLabelOption(this.selectedLabelOption)};d.prototype.metadataEditorContext=
function(e,g){this.inspectorPanel&&this.inspectorPanel.metadataEditorContext(e,g)};d.prototype.setSelectedTensor=function(e,g){this.bookmarkPanel.setSelectedTensor(e,g,this.dataProvider)};d.prototype.registerSelectionChangedListener=function(e){this.selectionChangedListeners.push(e)};d.prototype.filterDataset=function(e){var g=this.selectedPointIndices.length;null==this.dataSetBeforeFilter&&(this.dataSetBeforeFilter=this.dataSet);this.setCurrentDataSet(this.dataSet.getSubset(e));this.dataSetFilterIndices=
e;this.projectorScatterPlotAdapter.updateScatterPlotPositions();this.projectorScatterPlotAdapter.updateScatterPlotAttributes();this.adjustSelectionAndHover(a.util.range(g))};d.prototype.resetFilterDataset=function(){var e=this,g=this.selectedPointIndices.map(function(h){return e.dataSet.points[h].index});this.setCurrentDataSet(this.dataSetBeforeFilter);null!=this.projection&&(this.projection.dataSet=this.dataSetBeforeFilter);this.dataSetBeforeFilter=null;this.projectorScatterPlotAdapter.updateScatterPlotPositions();
this.projectorScatterPlotAdapter.updateScatterPlotAttributes();this.dataSetFilterIndices=[];this.adjustSelectionAndHover(g)};d.prototype.notifySelectionChanged=function(e){var g=this,h=[];if(this.editMode&&0<e.length)if(1===this.selectedPointIndices.length){var k=this.dataSet.points[this.selectedPointIndices[0]].vector;h=this.neighborsOfFirstPoint.filter(function(m){return 0==e.filter(function(n){return n==m.index}).length});e.forEach(function(m){if(m!=g.selectedPointIndices[0]&&0==g.neighborsOfFirstPoint.filter(function(p){return p.index==
m}).length){for(var n=g.inspectorPanel.distFunc(k,g.dataSet.points[m].vector),q=0;q<h.length&&h[q].dist<n;)q+=1;h.splice(q,0,{index:m,dist:n})}})}else{var l=this.selectedPointIndices.filter(function(m){return 0==e.filter(function(n){return n==m}).length});e.forEach(function(m){0==g.selectedPointIndices.filter(function(n){return n==m}).length&&l.push(m)});this.selectedPointIndices=l;0<this.selectedPointIndices.length?this.metadataCard.updateMetadata(this.dataSet.points[this.selectedPointIndices[0]].metadata):
this.metadataCard.updateMetadata(null)}else this.selectedPointIndices=e,1===e.length?(h=this.dataSet.findNeighbors(e[0],this.inspectorPanel.distFunc,this.inspectorPanel.numNN),this.metadataCard.updateMetadata(this.dataSet.points[e[0]].metadata)):this.metadataCard.updateMetadata(null);this.selectionChangedListeners.forEach(function(m){return m(g.selectedPointIndices,h)})};d.prototype.registerHoverListener=function(e){this.hoverListeners.push(e)};d.prototype.notifyHoverOverPoint=function(e){this.hoverListeners.forEach(function(g){return g(e)})};
d.prototype.registerProjectionChangedListener=function(e){this.projectionChangedListeners.push(e)};d.prototype.notifyProjectionChanged=function(e){this.projectionChangedListeners.forEach(function(g){return g(e)})};d.prototype.registerDistanceMetricChangedListener=function(e){this.distanceMetricChangedListeners.push(e)};d.prototype.notifyDistanceMetricChanged=function(e){this.distanceMetricChangedListeners.forEach(function(g){return g(e)})};d.prototype._dataProtoChanged=function(e){e=e?JSON.parse(e):
null;this.initializeDataProvider(e)};d.prototype.makeDefaultPointsInfoAndStats=function(e){var g=[];e.forEach(function(h){var k={};k.__index__=h.index;g.push(k)});return[g,[{name:"__index__",isNumeric:!1,tooManyUniqueValues:!0,min:0,max:g.length-1}]]};d.prototype.initializeDataProvider=function(e){if("demo"===this.servingMode)e=a.util.getURLParams(),this.dataProvider=new a.DemoDataProvider("config"in e?e.config:this.projectorConfigJsonPath);else if("server"===this.servingMode){if(!this.routePrefix)throw"route-prefix is a required parameter";
this.dataProvider=new a.ServerDataProvider(this.routePrefix)}else if("proto"===this.servingMode&&null!=e)this.dataProvider=new a.ProtoDataProvider(e);else return;this.dataPanel.initialize(this,this.dataProvider)};d.prototype.getLegendPointColorer=function(e){var g=this;return null==e||null==e.map?null:function(h,k){h=h.points[k].metadata[g.selectedColorOption.name];return null==h?"black":e.map(h)}};d.prototype.get3DLabelModeButton=function(){return this.querySelector("#labels3DMode")};d.prototype.get3DLabelMode=
function(){return this.get3DLabelModeButton().active};d.prototype.adjustSelectionAndHover=function(e){this.notifySelectionChanged(e);this.notifyHoverOverPoint(void 0);this.setMouseMode(a.MouseMode.CAMERA_AND_CLICK_SELECT)};d.prototype.setMouseMode=function(e){this.querySelector("#selectMode").active=e===a.MouseMode.AREA_SELECT;this.projectorScatterPlotAdapter.scatterPlot.setMouseMode(e)};d.prototype.setCurrentDataSet=function(e){this.adjustSelectionAndHover([]);null!=this.dataSet&&this.dataSet.stopTSNE();
null!=e&&this.normalizeData&&e.normalize();this.dim=null==e?0:e.dim[1];this.querySelector("span.numDataPoints").innerText=null==e?"0":""+e.dim[0];this.querySelector("span.dim").innerText=null==e?"0":""+e.dim[1];this.dataSet=e;this.projectionsPanel.dataSetUpdated(this.dataSet,this.originalDataSet,this.dim);this.projectorScatterPlotAdapter.setDataSet(this.dataSet);this.projectorScatterPlotAdapter.scatterPlot.setCameraParametersForNextCameraCreation(null,!0)};d.prototype.setupUIControls=function(){var e=
this;this.querySelector("#reset-zoom").addEventListener("click",function(){e.projectorScatterPlotAdapter.scatterPlot.resetZoom();e.projectorScatterPlotAdapter.scatterPlot.startOrbitAnimation()});var g=this.querySelector("#selectMode");g.addEventListener("click",function(){e.setMouseMode(g.active?a.MouseMode.AREA_SELECT:a.MouseMode.CAMERA_AND_CLICK_SELECT)});var h=this.querySelector("#nightDayMode");h.addEventListener("click",function(){e.projectorScatterPlotAdapter.scatterPlot.setDayNightMode(h.active)});
var k=this.querySelector("#editMode");k.addEventListener("click",function(){e.editMode=k.active});this.get3DLabelModeButton().addEventListener("click",function(){e.projectorScatterPlotAdapter.set3DLabelMode(e.get3DLabelMode())});window.addEventListener("resize",function(){e.parentNode.style.height=document.body.clientHeight+"px";e.projectorScatterPlotAdapter.resize()});this.projectorScatterPlotAdapter=new a.ProjectorScatterPlotAdapter(this.getScatterContainer(),this);this.projectorScatterPlotAdapter.setLabelPointAccessor(this.selectedLabelOption);
this.projectorScatterPlotAdapter.scatterPlot.onCameraMove(function(){return e.bookmarkPanel.clearStateSelection()});this.registerHoverListener(function(l){return e.onHover(l)});this.registerProjectionChangedListener(function(l){return e.onProjectionChanged(l)});this.registerSelectionChangedListener(function(l,m){return e.onSelectionChanged(l,m)})};d.prototype.onHover=function(e){this.hoverPointIndex=e;var g=null;null!=e&&(e=this.dataSet.points[e],e.metadata[this.selectedLabelOption]&&(g=e.metadata[this.selectedLabelOption].toString()));
0===this.selectedPointIndices.length&&(this.statusBar.style.display=g?null:"none",this.statusBar.innerText=g)};d.prototype.getScatterContainer=function(){return this.querySelector("#scatter")};d.prototype.onSelectionChanged=function(e,g){this.selectedPointIndices=e;this.neighborsOfFirstPoint=g;this.dataPanel.onProjectorSelectionChanged(e,g);e=this.selectedPointIndices.length+g.length;this.statusBar.innerText="Selected "+e+" points";this.statusBar.style.display=0<e?null:"none"};d.prototype.onProjectionChanged=
function(e){this.dataPanel.projectionChanged(e)};d.prototype.setProjection=function(e){this.projection=e;null!=e&&this.analyticsLogger.logProjectionChanged(e.projectionType);this.notifyProjectionChanged(e)};d.prototype.notifyProjectionPositionsUpdated=function(){this.projectorScatterPlotAdapter.notifyProjectionPositionsUpdated()};d.prototype.getCurrentState=function(){var e=new a.State;e.projections=[];for(var g=0;g<this.dataSet.points.length;g++){for(var h=this.dataSet.points[g],k={},l=Object.keys(h.projections),
m=0;m<l.length;++m)k[l[m]]=h.projections[l[m]];e.projections.push(k)}e.selectedProjection=this.projection.projectionType;e.dataSetDimensions=this.dataSet.dim;e.tSNEIteration=this.dataSet.tSNEIteration;e.selectedPoints=this.selectedPointIndices;e.filteredPoints=this.dataSetFilterIndices;this.projectorScatterPlotAdapter.populateBookmarkFromUI(e);e.selectedColorOptionName=this.dataPanel.selectedColorOptionName;e.forceCategoricalColoring=this.dataPanel.forceCategoricalColoring;e.selectedLabelOption=this.selectedLabelOption;
this.projectionsPanel.populateBookmarkFromUI(e);return e};d.prototype.loadState=function(e){this.setProjection(null);this.projectionsPanel.disablePolymerChangesTriggerReprojection();null!=this.dataSetBeforeFilter&&this.resetFilterDataset();null!=e.filteredPoints&&this.filterDataset(e.filteredPoints);this.projectionsPanel.enablePolymerChangesTriggerReprojection();for(var g=0;g<e.projections.length;g++)for(var h=this.dataSet.points[g],k=e.projections[g],l=Object.keys(k),m=0;m<l.length;++m)h.projections[l[m]]=
k[l[m]];this.dataSet.hasTSNERun="tsne"===e.selectedProjection;this.dataSet.tSNEIteration=e.tSNEIteration;this.projectionsPanel.restoreUIFromBookmark(e);this.inspectorPanel.restoreUIFromBookmark(e);this.dataPanel.selectedColorOptionName=e.selectedColorOptionName;this.dataPanel.setForceCategoricalColoring(!!e.forceCategoricalColoring);this.selectedLabelOption=e.selectedLabelOption;this.projectorScatterPlotAdapter.restoreUIFromBookmark(e);g=a.stateGetAccessorDimensions(e);h=a.getProjectionComponents(e.selectedProjection,
g);k=new a.Projection(e.selectedProjection,h,g.length,this.dataSet);this.setProjection(k);this.notifySelectionChanged(e.selectedPoints)};return d}(a.ProjectorPolymer);a.Projector=b;document.registerElement(b.prototype.is,b)})(wc||(wc={}));
</script>
</dom-module>


<dom-module id="vz-projector-app">
<template>
<style include="vz-projector-styles"></style>
<style>
#appbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 24px;
  height: 60px;
  color: white;
  background: #560731;
}

#appbar .logo {
  font-size: 18px;
  font-weight: 300;
}

.icons {
  display: flex;
}

.icons a {
  color: white;
}

vz-projector {
  height: calc(100% - 60px);
}

#container {
  height: 100%;
}
</style>

<div id="container">
  <div id="appbar">
    <div>Embedding Projector</div>
    <div class="icons">
      <a title="Documentation" target="_blank" href="[[documentationLink]]">
        <paper-icon-button icon="help-outline"></paper-icon-button>
        <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds>
          Open documentation
        </paper-tooltip>
      </a>
      <a title="Report bug" target="_blank" href="[[bugReportLink]]">
        <paper-icon-button icon="bug-report"></paper-icon-button>
        <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds>
          Report a bug
        </paper-tooltip>
      </a>
    </div>
  </div>
  <vz-projector route-prefix="[[routePrefix]]" serving-mode="[[servingMode]]" projector-config-json-path="[[projectorConfigJsonPath]]" page-view-logging="[[pageViewLogging]]" event-logging="[[eventLogging]]">
  </vz-projector>
</div>
</template>


<script>//~~WEBPATH~~/vz-projector/vz-projector-app.html.js
Polymer({is:"vz-projector-app",properties:{pageViewLogging:{type:Boolean,value:!1},eventLogging:{type:Boolean,value:!1}}});</script>
</dom-module>

  
  
  

  <title>Embedding projector - visualization of high-dimensional data</title>
  <style include="vz-projector-styles"></style>
  <style>
    html {
      width: 100%;
      height: 100%;
    }

    body {
      font-family: "Roboto", "Helvetica", "Arial", sans-serif;
      margin: 0;
      width: 100%;
      height: 100%;
    }
  </style>

<body>
  <vz-projector-app documentation-link="https://www.tensorflow.org/get_started/embedding_viz" bug-report-link="https://github.com/tensorflow/tensorflow/issues" serving-mode="demo" projector-config-json-path="oss_data/oss_demo_projector_config.json" page-view-logging>
  </vz-projector-app>
